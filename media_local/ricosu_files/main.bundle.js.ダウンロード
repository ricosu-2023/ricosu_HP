(function () {
// Globals
var __GLOBAL_LOG_PREFIX__ = "[PwM][ExtensionFrame]";

try {
    // main code starts here...

    /* jshint ignore:start */
    
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
var stageConfig=require("./stageconfig.json");stageConfig.EXTENSIONFRAME_BASELOCATION=stageConfig.EXTENSIONFRAME_BASEURL,stageConfig.EXTENSIONFRAME_BASEFOLDER.length>0&&(stageConfig.EXTENSIONFRAME_BASELOCATION+="/"+stageConfig.EXTENSIONFRAME_BASEFOLDER);var config={EXTENSIONFRAME_ENGINEV3_CSS:stageConfig.EXTENSIONFRAME_BASELOCATION+"/extensionFrame/styles/engineV3.css",EXTENSIONFRAME_BACKGROUND_HTML:stageConfig.EXTENSIONFRAME_BASELOCATION+"/extensionFrame/background.html",EXTENSIONFRAME_BACKGROUND_ANDROID_HTML:stageConfig.EXTENSIONFRAME_BASELOCATION+"/extensionFrame/background.android.html",TOPBAR_HTML:stageConfig.EXTENSIONFRAME_BASELOCATION+"/dp-extension/TopBar/topbar.html",TOPBAR_MOBILE_HTML:stageConfig.EXTENSIONFRAME_BASELOCATION+"/dp-extension/TopBar/topbar.mobile.html",TOPBAR_PRELOAD_HTML:stageConfig.EXTENSIONFRAME_BASELOCATION+"/dp-extension/TopBar/topbar.preload.html",TOPBAR_FORGET_PIN_LINK:stageConfig.EXTENSIONFRAME_BASEURL+"/masterpassword/forget",TOPBAR_VIEW_DETAILS_LINK:stageConfig.EXTENSIONFRAME_BASELOCATION+"/extensionPopOver/bho_index.html#passcard/__passcardId__/detail",TOPBAR_LOGO_PATH:"images/locales/__locale__/logo_lockup_header_topbar.png",TI_TOPBAR_LOGO_PATH:"images/locales/__locale__/ti_logo_lockup_header_topbar.png",DEBUG_BASEURL:stageConfig.EXTENSIONFRAME_BASELOCATION+"/debug"};for(var key in stageConfig)stageConfig.hasOwnProperty(key)&&(config[key]=stageConfig[key]);module.exports=config;
},{"./stageconfig.json":7}],2:[function(require,module,exports){
var DEFAULT_FORMPATTERN={address_city:["city"],address_country:["country"],address_line1:["address"],address_line2:["address2"],address_state:["state"],address_zip:["zip","postal","yubin"],contact_default_phone:["phone","tel"],contact_email:["emailaddress","gmailaddress","email","mailadder"],contact_fax:["fax"],contact_home_phone:["home_phone","telnojitaku"],contact_mobile_phone:["mobile","keitaitelno"],contact_website:["website"],contact_work_phone:["work_phone"],creditcard_expire_month:["creditcard_mon"],creditcard_expire_year:["creditcard_year"],creditcard_name:["cc_name","cardname"],creditcard_number:["creditcardnumber","ccnumber"],creditcard_type:["cctype"],personal_birthday_day:["birthday_day","birthday"],personal_birthday_month:["birthday_month"],personal_birthday_year:["birthday_year","birthyear","seinen"],personal_company:["company"],personal_firstname:["ctl00_MainContent_tbxLastName","firstname","name1","kanjimei"],personal_gender:["gender"],personal_jobtitle:["job"],personal_lastname:["ctl00_MainContent_tbxFirstName","lastname","secondname","name2","kanjisei"],personal_title:["title"]},DEFAULT_USERINFO_FLAG={address_city:null,address_country:"1",address_line1:null,address_line2:null,address_state:null,address_zip:null,contact_default_phone:null,contact_email:"1",contact_fax:null,contact_home_phone:null,contact_mobile_phone:null,contact_website:null,contact_work_phone:null,creditcard_expire_month:"0",creditcard_expire_year:"1",creditcard_name:null,creditcard_number:null,creditcard_type:"0",personal_birthday_day:"0",personal_birthday_month:"0",personal_birthday_year:null,personal_company:null,personal_firstname:"1",personal_gender:null,personal_jobtitle:null,personal_lastname:"1",personal_title:"0"},USERINFO_MASK_DEF={address_city:{maxVisibleLen:-1},address_country:{maxVisibleLen:-1},address_line1:{maxVisibleLen:10,maxOutputLen:20},address_line2:{maxVisibleLen:1,maxOutputLen:2},address_state:{maxVisibleLen:-1},address_zip:{maxVisibleLen:3},contact_default_phone:{maxVisibleLen:4},contact_email:{maxVisibleLen:3,maxOutputLen:10},contact_fax:{maxVisibleLen:4},contact_home_phone:{maxVisibleLen:4},contact_mobile_phone:{maxVisibleLen:4},contact_website:{maxVisibleLen:15,maxOutputLen:20},contact_work_phone:{maxVisibleLen:4},creditcard_expire_month:{maxVisibleLen:0,maxOutputLen:1},creditcard_expire_year:{maxVisibleLen:0,maxOutputLen:1},creditcard_name:{maxVisibleLen:3},creditcard_number:{maxVisibleLen:4},creditcard_type:{maxVisibleLen:-1},personal_birthday_day:{maxVisibleLen:0,maxOutputLen:1},personal_birthday_month:{maxVisibleLen:0,maxOutputLen:1},personal_birthday_year:{maxVisibleLen:2},personal_company:{maxVisibleLen:1,maxOutputLen:5},personal_firstname:{maxVisibleLen:3},personal_gender:{maxVisibleLen:0,maxOutputLen:1},personal_jobtitle:{maxVisibleLen:3},personal_lastname:{maxVisibleLen:3},personal_title:{maxVisibleLen:0,maxOutputLen:1}},USERINFO_EXCLUDE_LIST=["creditcard_security_code"];module.exports.DEFAULT_USERINFO_FLAG=DEFAULT_USERINFO_FLAG,module.exports.DEFAULT_FORMPATTERN=DEFAULT_FORMPATTERN,module.exports.USERINFO_MASK_DEF=USERINFO_MASK_DEF,module.exports.USERINFO_EXCLUDE_LIST=USERINFO_EXCLUDE_LIST;
},{}],3:[function(require,module,exports){
module.exports={"en-us":"en-us","zh-tw":"zh-tw","ja-jp":"ja-jp","de-de":"de-de","fr-fr":"fr-fr","es-es":"es-es","in-id":"in-id"};
},{}],4:[function(require,module,exports){
var PWM_DEFINE={PINSTATE:{INVALID:-1,VALID:0},FEEDBACK:{PURPOSE:{STATISTICS:"statistics",HINT:"hint",ASSESSMENT:"assessment"},TYPE:{HEURISTIC:"heuristic",PATTERN:"pattern",DUAL_MODE:"dual mode"},ACTION:{RECORD:"record",REPLAY:"replay",ASSESS:"assess"},RESULT:{SUCCESS:"success",FAILED:"failed",SUSPICIOUS:"suspicious"}},FORMFILLING:{USERINFO_EMPTY:"{}",PREVIEW:0,AUTO_FILL:-1,SHOW_POPOUT:1,NON_HTTPS_POPOUT:2,QUERY_USERINFO_FLAG:3}};module.exports=PWM_DEFINE;
},{}],5:[function(require,module,exports){
var PWM_RESULT_DEF=require("./pwmresultdef.js"),PWM_RESULT={ERROR:{GENERAL:{FAILED:PWM_RESULT_DEF.SEC_RESULT.ERROR+PWM_RESULT_DEF.SEC_MODULE.GENERAL+1,INVALID_PARAM:PWM_RESULT_DEF.SEC_RESULT.ERROR+PWM_RESULT_DEF.SEC_MODULE.GENERAL+3},ENGINE:{REPLAY:{HEURISTIC:{FAILED:PWM_RESULT_DEF.SEC_RESULT.ERROR+PWM_RESULT_DEF.SEC_MODULE.ENGINE+PWM_RESULT_DEF.SEC_ENGINE_ACTION.REPLAY+PWM_RESULT_DEF.SEC_ENGINE_OPERATION_TYPE.HEURISTIC+0}}}},SUCCESS:{GENERAL:{OK:PWM_RESULT_DEF.SEC_RESULT.SUCCESS+PWM_RESULT_DEF.SEC_MODULE.GENERAL+0},ENGINE:{REPLAY:{HEURISTIC:{STRICT:PWM_RESULT_DEF.SEC_RESULT.SUCCESS+PWM_RESULT_DEF.SEC_MODULE.ENGINE+PWM_RESULT_DEF.SEC_ENGINE_ACTION.REPLAY+PWM_RESULT_DEF.SEC_ENGINE_OPERATION_TYPE.HEURISTIC+0,LOOSE:PWM_RESULT_DEF.SEC_RESULT.SUCCESS+PWM_RESULT_DEF.SEC_MODULE.ENGINE+PWM_RESULT_DEF.SEC_ENGINE_ACTION.REPLAY+PWM_RESULT_DEF.SEC_ENGINE_OPERATION_TYPE.HEURISTIC+1}}}}};module.exports=PWM_RESULT;
},{"./pwmresultdef.js":6}],6:[function(require,module,exports){
var PWM_RESULT_DEF={SEC_RESULT:{_filter:4278190080,SUCCESS:0,ERROR:268435456},SEC_MODULE:{_filter:16711680,GENERAL:0,ENGINE:65536},SEC_ENGINE_ACTION:{_filter:65280,RECORD:0,REPLAY:256},SEC_ENGINE_OPERATION_TYPE:{_filter:240,HEURISTIC:0,PATTERN:16,DUAL_MODE:32}};module.exports=PWM_RESULT_DEF;
},{}],7:[function(require,module,exports){
module.exports={"EXTENSIONFRAME_BASEURL":"https://pwm-image.trendmicro.jp","SHOW_EVAL":false,"DEFAULT_LOGGER":"SilentLogger","MODULE":"ScriptLayer","VERSION":"5.8.1207","LOCALES":["en-us","ja-jp","zh-tw","de-de","fr-fr","es-es","in-id"],"STAGE":"prod","EXTENSIONFRAME_BASEFOLDER":"5.8"}
},{}],8:[function(require,module,exports){
function error(o){throw new RangeError(errors[o])}function map(o,e){for(var r=o.length,n=[];r--;)n[r]=e(o[r]);return n}function mapDomain(o,e){var r=o.split("@"),n="";r.length>1&&(n=r[0]+"@",o=r[1]),o=o.replace(regexSeparators,".");var t=o.split("."),i=map(t,e).join(".");return n+i}function ucs2decode(o){for(var e,r,n=[],t=0,i=o.length;i>t;)e=o.charCodeAt(t++),e>=55296&&56319>=e&&i>t?(r=o.charCodeAt(t++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),t--)):n.push(e);return n}function ucs2encode(o){return map(o,function(o){var e="";return o>65535&&(o-=65536,e+=stringFromCharCode(o>>>10&1023|55296),o=56320|1023&o),e+=stringFromCharCode(o)}).join("")}function basicToDigit(o){return 10>o-48?o-22:26>o-65?o-65:26>o-97?o-97:base}function digitToBasic(o,e){return o+22+75*(26>o)-((0!=e)<<5)}function adapt(o,e,r){var n=0;for(o=r?floor(o/damp):o>>1,o+=floor(o/e);o>baseMinusTMin*tMax>>1;n+=base)o=floor(o/baseMinusTMin);return floor(n+(baseMinusTMin+1)*o/(o+skew))}function decode(o){var e,r,n,t,i,a,s,c,d,u,f=[],l=o.length,p=0,g=initialN,h=initialBias;for(r=o.lastIndexOf(delimiter),0>r&&(r=0),n=0;r>n;++n)o.charCodeAt(n)>=128&&error("not-basic"),f.push(o.charCodeAt(n));for(t=r>0?r+1:0;l>t;){for(i=p,a=1,s=base;t>=l&&error("invalid-input"),c=basicToDigit(o.charCodeAt(t++)),(c>=base||c>floor((maxInt-p)/a))&&error("overflow"),p+=c*a,d=h>=s?tMin:s>=h+tMax?tMax:s-h,!(d>c);s+=base)u=base-d,a>floor(maxInt/u)&&error("overflow"),a*=u;e=f.length+1,h=adapt(p-i,e,0==i),floor(p/e)>maxInt-g&&error("overflow"),g+=floor(p/e),p%=e,f.splice(p++,0,g)}return ucs2encode(f)}function encode(o){var e,r,n,t,i,a,s,c,d,u,f,l,p,g,h,m=[];for(o=ucs2decode(o),l=o.length,e=initialN,r=0,i=initialBias,a=0;l>a;++a)f=o[a],128>f&&m.push(stringFromCharCode(f));for(n=t=m.length,t&&m.push(delimiter);l>n;){for(s=maxInt,a=0;l>a;++a)f=o[a],f>=e&&s>f&&(s=f);for(p=n+1,s-e>floor((maxInt-r)/p)&&error("overflow"),r+=(s-e)*p,e=s,a=0;l>a;++a)if(f=o[a],e>f&&++r>maxInt&&error("overflow"),f==e){for(c=r,d=base;u=i>=d?tMin:d>=i+tMax?tMax:d-i,!(u>c);d+=base)h=c-u,g=base-u,m.push(stringFromCharCode(digitToBasic(u+h%g,0))),c=floor(h/g);m.push(stringFromCharCode(digitToBasic(c,0))),i=adapt(r,p,n==t),r=0,++n}++r,++e}return m.join("")}function toUnicode(o){return mapDomain(o,function(o){return regexPunycode.test(o)?decode(o.slice(4).toLowerCase()):o})}function toASCII(o){return mapDomain(o,function(o){return regexNonASCII.test(o)?"xn--"+encode(o):o})}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;punycode={version:"1.3.2",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode},module.exports=punycode;
},{}],9:[function(require,module,exports){
"use strict";var tld=require("./lib/tld.js").init();tld.rules=require("./rules.json"),module.exports=tld;
},{"./lib/tld.js":11,"./rules.json":12}],10:[function(require,module,exports){
"use strict";function Rule(t){t=t||{},this.exception=t.exception||!1,this.firstLevel=t.firstLevel||"",this.secondLevel=t.secondLevel||null,this.isHost=t.isHost||!1,this.source=t.source||"",this.wildcard=t.wildcard||!1}Rule.prototype.getNormalXld=function(){return(this.secondLevel?"."+this.secondLevel:"")+"."+this.firstLevel},Rule.prototype.getNormalPattern=function(){return(this.secondLevel?"\\."+this.secondLevel:"")+"\\."+this.firstLevel},Rule.prototype.getWildcardPattern=function(){return"\\.[^\\.]+"+this.getNormalXld().replace(/\./g,"\\.")},Rule.prototype.getExceptionPattern=function(){return(this.secondLevel||"")+"\\."+this.firstLevel},Rule.prototype.getPattern=function(t,e){var i="";return t=void 0===t?"(":t+"",e=void 0===e?")$":e+"",i=this.exception===!0?this.getExceptionPattern():this.isHost===!0?this.firstLevel:"[^\\.]+"+(this.wildcard?this.getWildcardPattern():this.getNormalPattern()),t+i+e},module.exports=Rule;
},{}],11:[function(require,module,exports){
"use strict";function tld(){this.validHosts=[],this.rules=[]}function trim(t){return String(t).replace(/(^\s+|\s+$)/g,"")}function _someFunction(t,e){if(void 0===t||null===t)throw new TypeError;var n=Object(t),r=n.length>>>0;if("function"!=typeof e)throw new TypeError;for(var l=arguments.length>=3?arguments[2]:void 0,o=0;r>o;o++)if(o in n&&e.call(l,n[o],o,n))return!0;return!1}function _mapFunction(t,e){if(void 0===t||null===t)throw new TypeError;var n=Object(t),r=n.length>>>0;if("function"!=typeof e)throw new TypeError;for(var l=new Array(r),o=arguments.length>=3?arguments[2]:void 0,i=0;r>i;i++)i in n&&(l[i]=e.call(o,n[i],i,n));return l}var Rule=require("./rule.js"),URL=require("url");tld.init=function(){return new tld},tld.getCandidateRule=function(t,e,n){var r={normal:null,exception:null};return n=n||{lazy:!1},_someFunction(e,function(e){var l;return"."+t===e.getNormalXld()?((n.lazy||e.exception||e.isHost)&&(r.normal=e),!0):(l=".+"+e.getNormalPattern()+"$",new RegExp(l).test(t)?(r[e.exception?"exception":"normal"]=e,!e.exception):!1)}),r.normal&&r.exception?r.exception:r.normal},tld.prototype.getRulesForTld=function(t,e){var n="!",r="*",l=!0,o=this.rules[t];return"[object Array]"===Object.prototype.toString.call(o)?o:void 0===o?e?[e]:[]:(o=_mapFunction(o.split("|"),function(e){var o=e[0];return(o===n||o===r)&&(e=e.slice(1),e||(l=!1)),new Rule({firstLevel:t,secondLevel:e,exception:o===n,wildcard:o===r})}),l&&o.unshift(new Rule({firstLevel:t})),this.rules[t]=o.reverse(),o)},tld.prototype.tldExists=function(t){var e;return t=tld.cleanHostValue(t),this.rules[t]?!0:(e=tld.extractTldFromHost(t),void 0!==this.rules[e])},tld.prototype.getPublicSuffix=function(t){var e,n,r;return t in this.rules?t:(t=tld.cleanHostValue(t),e=tld.extractTldFromHost(t),n=this.getRulesForTld(e),r=tld.getCandidateRule(t,n,{lazy:!0}),null===r?null:r.getNormalXld().slice(1))},tld.prototype.getDomain=function(t){var e,n,r,l=null;return this.isValid(t)===!1?null:(t=tld.cleanHostValue(t),e=tld.extractTldFromHost(t),n=this.getRulesForTld(e,new Rule({firstLevel:e,isHost:-1!==this.validHosts.indexOf(e)})),r=tld.getCandidateRule(t,n),null===r?null:(t.replace(new RegExp(r.getPattern()),function(t,e){l=e}),l))},tld.prototype.getSubdomain=function(t){var e,n,r;return t=tld.cleanHostValue(t),e=this.getDomain(t),null===e?null:(n="\\.?"+tld.escapeRegExp(e)+"$",r=t.replace(new RegExp(n,"i"),""))},tld.prototype.isValid=function(t){return"string"==typeof t&&(-1!==this.validHosts.indexOf(t)||-1!==t.indexOf(".")&&"."!==t[0])};var hasPrefixRE=/^(([a-z][a-z0-9+.-]*)?:)?\/\//,invalidHostnameChars=/[^A-Za-z0-9.-]/;tld.cleanHostValue=function(t){t=trim(t).toLowerCase();var e=URL.parse(hasPrefixRE.test(t)?t:"//"+t,null,!0);return e.hostname&&!invalidHostnameChars.test(e.hostname)?e.hostname:invalidHostnameChars.test(t)?"":t},tld.extractTldFromHost=function(t){return t.split(".").pop()},tld.escapeRegExp=function(t){return String(t).replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},module.exports=tld;
},{"./rule.js":10,"url":83}],12:[function(require,module,exports){
module.exports={"ac":"com|edu|gov|net|mil|org","ad":"nom","ae":"co|net|org|sch|ac|gov|mil|blogspot","aero":"accident-investigation|accident-prevention|aerobatic|aeroclub|aerodrome|agents|aircraft|airline|airport|air-surveillance|airtraffic|air-traffic-control|ambulance|amusement|association|author|ballooning|broker|caa|cargo|catering|certification|championship|charter|civilaviation|club|conference|consultant|consulting|control|council|crew|design|dgca|educator|emergency|engine|engineer|entertainment|equipment|exchange|express|federation|flight|freight|fuel|gliding|government|groundhandling|group|hanggliding|homebuilt|insurance|journal|journalist|leasing|logistics|magazine|maintenance|marketplace|media|microlight|modelling|navigation|parachuting|paragliding|passenger-association|pilot|press|production|recreation|repbody|res|research|rotorcraft|safety|scientist|services|show|skydiving|software|student|taxi|trader|trading|trainer|union|workinggroup|works","af":"gov|com|org|net|edu","ag":"com|org|net|co|nom","ai":"off|com|net|org","al":"com|edu|gov|mil|net|org|blogspot","am":"blogspot","ao":"ed|gv|og|co|pb|it","aq":"","ar":"com|edu|gob|gov|int|mil|net|org|tur|blogspot.com","arpa":"e164|in-addr|ip6|iris|uri|urn","as":"gov","asia":"","at":"ac|co|gv|or|blogspot.co|biz|info|priv","au":"com|net|org|edu|gov|asn|id|info|conf|oz|act|nsw|nt|qld|sa|tas|vic|wa|act.edu|nsw.edu|nt.edu|qld.edu|sa.edu|tas.edu|vic.edu|wa.edu|qld.gov|sa.gov|tas.gov|vic.gov|wa.gov|blogspot.com","aw":"com","ax":"","az":"com|net|int|gov|org|edu|info|pp|mil|name|pro|biz","ba":"org|net|edu|gov|mil|unsa|unbi|co|com|rs|blogspot","bb":"biz|co|com|edu|gov|info|net|org|store|tv","bd":"*","be":"ac|blogspot","bf":"gov","bg":"a|b|c|d|e|f|g|h|i|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z|0|1|2|3|4|5|6|7|8|9|blogspot","bh":"com|edu|net|org|gov","bi":"co|com|edu|or|org","biz":"dyndns|for-better|for-more|for-some|for-the|selfip|webhop","bj":"asso|barreau|gouv|blogspot","bm":"com|edu|gov|net|org","bn":"*","bo":"com|edu|gov|gob|int|org|net|mil|tv","br":"adm|adv|agr|am|arq|art|ato|b|bio|blog|bmd|cim|cng|cnt|com|coop|ecn|eco|edu|emp|eng|esp|etc|eti|far|flog|fm|fnd|fot|fst|g12|ggf|gov|imb|ind|inf|jor|jus|leg|lel|mat|med|mil|mp|mus|net|*nom|not|ntr|odo|org|ppg|pro|psc|psi|qsl|radio|rec|slg|srv|taxi|teo|tmp|trd|tur|tv|vet|vlog|wiki|zlg|blogspot.com","bs":"com|net|org|edu|gov","bt":"com|edu|gov|net|org","bv":"","bw":"co|org","by":"gov|mil|com|of|blogspot.com","bz":"com|net|org|edu|gov|za","ca":"ab|bc|mb|nb|nf|nl|ns|nt|nu|on|pe|qc|sk|yk|gc|co|blogspot","cat":"","cc":"ftpaccess|game-server|myphotos|scrapping","cd":"gov","cf":"blogspot","cg":"","ch":"blogspot","ci":"org|or|com|co|edu|ed|ac|net|go|asso|xn--aroport-bya|int|presse|md|gouv","ck":"*|!www","cl":"gov|gob|co|mil|blogspot","cm":"co|com|gov|net","cn":"ac|com|edu|gov|net|org|mil|xn--55qx5d|xn--io0a7i|xn--od0alg|ah|bj|cq|fj|gd|gs|gz|gx|ha|hb|he|hi|hl|hn|jl|js|jx|ln|nm|nx|qh|sc|sd|sh|sn|sx|tj|xj|xz|yn|zj|hk|mo|tw|cn-north-1.compute.amazonaws|compute.amazonaws|s3.cn-north-1.amazonaws.com","co":"arts|com|edu|firm|gov|info|int|mil|net|nom|org|rec|web|blogspot.com","com":"ap-northeast-1.compute.amazonaws|ap-southeast-1.compute.amazonaws|ap-southeast-2.compute.amazonaws|compute.amazonaws|compute-1.amazonaws|eu-west-1.compute.amazonaws|eu-central-1.compute.amazonaws|sa-east-1.compute.amazonaws|us-east-1.amazonaws|us-gov-west-1.compute.amazonaws|us-west-1.compute.amazonaws|us-west-2.compute.amazonaws|z-1.compute-1.amazonaws|z-2.compute-1.amazonaws|elasticbeanstalk|elb.amazonaws|s3.amazonaws|s3-ap-northeast-1.amazonaws|s3-ap-southeast-1.amazonaws|s3-ap-southeast-2.amazonaws|s3-external-1.amazonaws|s3-external-2.amazonaws|s3-fips-us-gov-west-1.amazonaws|s3-eu-central-1.amazonaws|s3-eu-west-1.amazonaws|s3-sa-east-1.amazonaws|s3-us-gov-west-1.amazonaws|s3-us-west-1.amazonaws|s3-us-west-2.amazonaws|s3.eu-central-1.amazonaws|betainabox|ar|br|cn|de|eu|gb|hu|jpn|kr|mex|no|qc|ru|sa|se|uk|us|uy|za|africa|gr|co|cloudcontrolled|cloudcontrolapp|dreamhosters|dyndns-at-home|dyndns-at-work|dyndns-blog|dyndns-free|dyndns-home|dyndns-ip|dyndns-mail|dyndns-office|dyndns-pics|dyndns-remote|dyndns-server|dyndns-web|dyndns-wiki|dyndns-work|blogdns|cechire|dnsalias|dnsdojo|doesntexist|dontexist|doomdns|dyn-o-saur|dynalias|est-a-la-maison|est-a-la-masion|est-le-patron|est-mon-blogueur|from-ak|from-al|from-ar|from-ca|from-ct|from-dc|from-de|from-fl|from-ga|from-hi|from-ia|from-id|from-il|from-in|from-ks|from-ky|from-ma|from-md|from-mi|from-mn|from-mo|from-ms|from-mt|from-nc|from-nd|from-ne|from-nh|from-nj|from-nm|from-nv|from-oh|from-ok|from-or|from-pa|from-pr|from-ri|from-sc|from-sd|from-tn|from-tx|from-ut|from-va|from-vt|from-wa|from-wi|from-wv|from-wy|getmyip|gotdns|hobby-site|homelinux|homeunix|iamallama|is-a-anarchist|is-a-blogger|is-a-bookkeeper|is-a-bulls-fan|is-a-caterer|is-a-chef|is-a-conservative|is-a-cpa|is-a-cubicle-slave|is-a-democrat|is-a-designer|is-a-doctor|is-a-financialadvisor|is-a-geek|is-a-green|is-a-guru|is-a-hard-worker|is-a-hunter|is-a-landscaper|is-a-lawyer|is-a-liberal|is-a-libertarian|is-a-llama|is-a-musician|is-a-nascarfan|is-a-nurse|is-a-painter|is-a-personaltrainer|is-a-photographer|is-a-player|is-a-republican|is-a-rockstar|is-a-socialist|is-a-student|is-a-teacher|is-a-techie|is-a-therapist|is-an-accountant|is-an-actor|is-an-actress|is-an-anarchist|is-an-artist|is-an-engineer|is-an-entertainer|is-certified|is-gone|is-into-anime|is-into-cars|is-into-cartoons|is-into-games|is-leet|is-not-certified|is-slick|is-uberleet|is-with-theband|isa-geek|isa-hockeynut|issmarterthanyou|likes-pie|likescandy|neat-url|saves-the-whales|selfip|sells-for-less|sells-for-u|servebbs|simple-url|space-to-rent|teaches-yoga|writesthisblog|firebaseapp|flynnhub|githubusercontent|ro|appspot|blogspot|codespot|googleapis|googlecode|pagespeedmobilizer|withgoogle|withyoutube|herokuapp|herokussl|4u|nfshost|operaunite|outsystemscloud|gotpantheon|qa2|rhcloud|sinaapp|vipsinaapp|1kapp|hk|yolasite","coop":"","cr":"ac|co|ed|fi|go|or|sa","cu":"com|edu|org|net|gov|inf","cv":"blogspot","cw":"com|edu|net|org","cx":"gov|ath","cy":"ac|biz|com|ekloges|gov|ltd|name|net|org|parliament|press|pro|tm|blogspot.com","cz":"blogspot","de":"com|fuettertdasnetz|isteingeek|istmein|lebtimnetz|leitungsen|traeumtgerade|blogspot","dj":"","dk":"blogspot","dm":"com|net|org|edu|gov","do":"art|com|edu|gob|gov|mil|net|org|sld|web","dz":"com|org|net|gov|edu|asso|pol|art","ec":"com|info|net|fin|k12|med|pro|org|edu|gov|gob|mil","edu":"","ee":"edu|gov|riik|lib|med|com|pri|aip|org|fie|blogspot.com","eg":"com|edu|eun|gov|mil|name|net|org|sci|blogspot.com","er":"*","es":"com|nom|org|gob|edu|blogspot.com","et":"com|gov|org|edu|biz|name|info|net","eu":"","fi":"aland|blogspot|iki","fj":"*","fk":"*","fm":"","fo":"","fr":"com|asso|nom|prd|presse|tm|aeroport|assedic|avocat|avoues|cci|chambagri|chirurgiens-dentistes|experts-comptables|geometre-expert|gouv|greta|huissier-justice|medecin|notaires|pharmacien|port|veterinaire|blogspot","ga":"","gb":"","gd":"","ge":"com|edu|gov|org|mil|net|pvt","gf":"","gg":"co|net|org","gh":"com|edu|gov|org|mil","gi":"com|ltd|gov|mod|edu|org","gl":"co|com|edu|net|org","gm":"","gn":"ac|com|edu|gov|org|net","gov":"","gp":"com|net|mobi|edu|org|asso","gq":"","gr":"com|edu|net|org|gov|blogspot","gs":"","gt":"com|edu|gob|ind|mil|net|org","gu":"*","gw":"","gy":"co|com|net","hk":"com|edu|gov|idv|net|org|xn--55qx5d|xn--wcvs22d|xn--lcvr32d|xn--mxtq1m|xn--gmqw5a|xn--ciqpn|xn--gmq050i|xn--zf0avx|xn--io0a7i|xn--mk0axi|xn--od0alg|xn--od0aq3b|xn--tn0ag|xn--uc0atv|xn--uc0ay4a|blogspot|ltd|inc","hm":"","hn":"com|edu|org|net|mil|gob","hr":"iz|from|name|com|blogspot","ht":"com|shop|firm|info|adult|net|pro|org|med|art|coop|pol|asso|edu|rel|gouv|perso","hu":"co|info|org|priv|sport|tm|2000|agrar|bolt|casino|city|erotica|erotika|film|forum|games|hotel|ingatlan|jogasz|konyvelo|lakas|media|news|reklam|sex|shop|suli|szex|tozsde|utazas|video|blogspot","id":"ac|biz|co|desa|go|mil|my|net|or|sch|web|blogspot.co","ie":"gov|blogspot","il":"ac|co|gov|idf|k12|muni|net|org|blogspot.co","im":"ac|co|com|ltd.co|net|org|plc.co|tt|tv","in":"co|firm|net|org|gen|ind|nic|ac|edu|res|gov|mil|blogspot","info":"dyndns|barrel-of-knowledge|barrell-of-knowledge|for-our|groks-the|groks-this|here-for-more|knowsitall|selfip|webhop","int":"eu","io":"com|github|ngrok|nid|pantheon|sandcats","iq":"gov|edu|mil|com|org|net","ir":"ac|co|gov|id|net|org|sch|xn--mgba3a4f16a|xn--mgba3a4fra","is":"net|com|edu|gov|org|int|cupcake|blogspot","it":"gov|edu|abr|abruzzo|aosta-valley|aostavalley|bas|basilicata|cal|calabria|cam|campania|emilia-romagna|emiliaromagna|emr|friuli-v-giulia|friuli-ve-giulia|friuli-vegiulia|friuli-venezia-giulia|friuli-veneziagiulia|friuli-vgiulia|friuliv-giulia|friulive-giulia|friulivegiulia|friulivenezia-giulia|friuliveneziagiulia|friulivgiulia|fvg|laz|lazio|lig|liguria|lom|lombardia|lombardy|lucania|mar|marche|mol|molise|piedmont|piemonte|pmn|pug|puglia|sar|sardegna|sardinia|sic|sicilia|sicily|taa|tos|toscana|trentino-a-adige|trentino-aadige|trentino-alto-adige|trentino-altoadige|trentino-s-tirol|trentino-stirol|trentino-sud-tirol|trentino-sudtirol|trentino-sued-tirol|trentino-suedtirol|trentinoa-adige|trentinoaadige|trentinoalto-adige|trentinoaltoadige|trentinos-tirol|trentinostirol|trentinosud-tirol|trentinosudtirol|trentinosued-tirol|trentinosuedtirol|tuscany|umb|umbria|val-d-aosta|val-daosta|vald-aosta|valdaosta|valle-aosta|valle-d-aosta|valle-daosta|valleaosta|valled-aosta|valledaosta|vallee-aoste|valleeaoste|vao|vda|ven|veneto|ag|agrigento|al|alessandria|alto-adige|altoadige|an|ancona|andria-barletta-trani|andria-trani-barletta|andriabarlettatrani|andriatranibarletta|ao|aosta|aoste|ap|aq|aquila|ar|arezzo|ascoli-piceno|ascolipiceno|asti|at|av|avellino|ba|balsan|bari|barletta-trani-andria|barlettatraniandria|belluno|benevento|bergamo|bg|bi|biella|bl|bn|bo|bologna|bolzano|bozen|br|brescia|brindisi|bs|bt|bz|ca|cagliari|caltanissetta|campidano-medio|campidanomedio|campobasso|carbonia-iglesias|carboniaiglesias|carrara-massa|carraramassa|caserta|catania|catanzaro|cb|ce|cesena-forli|cesenaforli|ch|chieti|ci|cl|cn|co|como|cosenza|cr|cremona|crotone|cs|ct|cuneo|cz|dell-ogliastra|dellogliastra|en|enna|fc|fe|fermo|ferrara|fg|fi|firenze|florence|fm|foggia|forli-cesena|forlicesena|fr|frosinone|ge|genoa|genova|go|gorizia|gr|grosseto|iglesias-carbonia|iglesiascarbonia|im|imperia|is|isernia|kr|la-spezia|laquila|laspezia|latina|lc|le|lecce|lecco|li|livorno|lo|lodi|lt|lu|lucca|macerata|mantova|massa-carrara|massacarrara|matera|mb|mc|me|medio-campidano|mediocampidano|messina|mi|milan|milano|mn|mo|modena|monza-brianza|monza-e-della-brianza|monza|monzabrianza|monzaebrianza|monzaedellabrianza|ms|mt|na|naples|napoli|no|novara|nu|nuoro|og|ogliastra|olbia-tempio|olbiatempio|or|oristano|ot|pa|padova|padua|palermo|parma|pavia|pc|pd|pe|perugia|pesaro-urbino|pesarourbino|pescara|pg|pi|piacenza|pisa|pistoia|pn|po|pordenone|potenza|pr|prato|pt|pu|pv|pz|ra|ragusa|ravenna|rc|re|reggio-calabria|reggio-emilia|reggiocalabria|reggioemilia|rg|ri|rieti|rimini|rm|rn|ro|roma|rome|rovigo|sa|salerno|sassari|savona|si|siena|siracusa|so|sondrio|sp|sr|ss|suedtirol|sv|ta|taranto|te|tempio-olbia|tempioolbia|teramo|terni|tn|to|torino|tp|tr|trani-andria-barletta|trani-barletta-andria|traniandriabarletta|tranibarlettaandria|trapani|trentino|trento|treviso|trieste|ts|turin|tv|ud|udine|urbino-pesaro|urbinopesaro|va|varese|vb|vc|ve|venezia|venice|verbania|vercelli|verona|vi|vibo-valentia|vibovalentia|vicenza|viterbo|vr|vs|vt|vv|blogspot","je":"co|net|org","jm":"*","jo":"com|org|net|edu|sch|gov|mil|name","jobs":"","jp":"ac|ad|co|ed|go|gr|lg|ne|or|aichi|akita|aomori|chiba|ehime|fukui|fukuoka|fukushima|gifu|gunma|hiroshima|hokkaido|hyogo|ibaraki|ishikawa|iwate|kagawa|kagoshima|kanagawa|kochi|kumamoto|kyoto|mie|miyagi|miyazaki|nagano|nagasaki|nara|niigata|oita|okayama|okinawa|osaka|saga|saitama|shiga|shimane|shizuoka|tochigi|tokushima|tokyo|tottori|toyama|wakayama|yamagata|yamaguchi|yamanashi|xn--4pvxs|xn--vgu402c|xn--c3s14m|xn--f6qx53a|xn--8pvr4u|xn--uist22h|xn--djrs72d6uy|xn--mkru45i|xn--0trq7p7nn|xn--8ltr62k|xn--2m4a15e|xn--efvn9s|xn--32vp30h|xn--4it797k|xn--1lqs71d|xn--5rtp49c|xn--5js045d|xn--ehqz56n|xn--1lqs03n|xn--qqqt11m|xn--kbrq7o|xn--pssu33l|xn--ntsq17g|xn--uisz3g|xn--6btw5a|xn--1ctwo|xn--6orx2r|xn--rht61e|xn--rht27z|xn--djty4k|xn--nit225k|xn--rht3d|xn--klty5x|xn--kltx9a|xn--kltp7d|xn--uuwu58a|xn--zbx025d|xn--ntso0iqx3a|xn--elqq16h|xn--4it168d|xn--klt787d|xn--rny31h|xn--7t0a264c|xn--5rtq34k|xn--k7yn95e|xn--tor131o|xn--d5qv7z876c|*kawasaki|*kitakyushu|*kobe|*nagoya|*sapporo|*sendai|*yokohama|!city.kawasaki|!city.kitakyushu|!city.kobe|!city.nagoya|!city.sapporo|!city.sendai|!city.yokohama|aisai.aichi|ama.aichi|anjo.aichi|asuke.aichi|chiryu.aichi|chita.aichi|fuso.aichi|gamagori.aichi|handa.aichi|hazu.aichi|hekinan.aichi|higashiura.aichi|ichinomiya.aichi|inazawa.aichi|inuyama.aichi|isshiki.aichi|iwakura.aichi|kanie.aichi|kariya.aichi|kasugai.aichi|kira.aichi|kiyosu.aichi|komaki.aichi|konan.aichi|kota.aichi|mihama.aichi|miyoshi.aichi|nishio.aichi|nisshin.aichi|obu.aichi|oguchi.aichi|oharu.aichi|okazaki.aichi|owariasahi.aichi|seto.aichi|shikatsu.aichi|shinshiro.aichi|shitara.aichi|tahara.aichi|takahama.aichi|tobishima.aichi|toei.aichi|togo.aichi|tokai.aichi|tokoname.aichi|toyoake.aichi|toyohashi.aichi|toyokawa.aichi|toyone.aichi|toyota.aichi|tsushima.aichi|yatomi.aichi|akita.akita|daisen.akita|fujisato.akita|gojome.akita|hachirogata.akita|happou.akita|higashinaruse.akita|honjo.akita|honjyo.akita|ikawa.akita|kamikoani.akita|kamioka.akita|katagami.akita|kazuno.akita|kitaakita.akita|kosaka.akita|kyowa.akita|misato.akita|mitane.akita|moriyoshi.akita|nikaho.akita|noshiro.akita|odate.akita|oga.akita|ogata.akita|semboku.akita|yokote.akita|yurihonjo.akita|aomori.aomori|gonohe.aomori|hachinohe.aomori|hashikami.aomori|hiranai.aomori|hirosaki.aomori|itayanagi.aomori|kuroishi.aomori|misawa.aomori|mutsu.aomori|nakadomari.aomori|noheji.aomori|oirase.aomori|owani.aomori|rokunohe.aomori|sannohe.aomori|shichinohe.aomori|shingo.aomori|takko.aomori|towada.aomori|tsugaru.aomori|tsuruta.aomori|abiko.chiba|asahi.chiba|chonan.chiba|chosei.chiba|choshi.chiba|chuo.chiba|funabashi.chiba|futtsu.chiba|hanamigawa.chiba|ichihara.chiba|ichikawa.chiba|ichinomiya.chiba|inzai.chiba|isumi.chiba|kamagaya.chiba|kamogawa.chiba|kashiwa.chiba|katori.chiba|katsuura.chiba|kimitsu.chiba|kisarazu.chiba|kozaki.chiba|kujukuri.chiba|kyonan.chiba|matsudo.chiba|midori.chiba|mihama.chiba|minamiboso.chiba|mobara.chiba|mutsuzawa.chiba|nagara.chiba|nagareyama.chiba|narashino.chiba|narita.chiba|noda.chiba|oamishirasato.chiba|omigawa.chiba|onjuku.chiba|otaki.chiba|sakae.chiba|sakura.chiba|shimofusa.chiba|shirako.chiba|shiroi.chiba|shisui.chiba|sodegaura.chiba|sosa.chiba|tako.chiba|tateyama.chiba|togane.chiba|tohnosho.chiba|tomisato.chiba|urayasu.chiba|yachimata.chiba|yachiyo.chiba|yokaichiba.chiba|yokoshibahikari.chiba|yotsukaido.chiba|ainan.ehime|honai.ehime|ikata.ehime|imabari.ehime|iyo.ehime|kamijima.ehime|kihoku.ehime|kumakogen.ehime|masaki.ehime|matsuno.ehime|matsuyama.ehime|namikata.ehime|niihama.ehime|ozu.ehime|saijo.ehime|seiyo.ehime|shikokuchuo.ehime|tobe.ehime|toon.ehime|uchiko.ehime|uwajima.ehime|yawatahama.ehime|echizen.fukui|eiheiji.fukui|fukui.fukui|ikeda.fukui|katsuyama.fukui|mihama.fukui|minamiechizen.fukui|obama.fukui|ohi.fukui|ono.fukui|sabae.fukui|sakai.fukui|takahama.fukui|tsuruga.fukui|wakasa.fukui|ashiya.fukuoka|buzen.fukuoka|chikugo.fukuoka|chikuho.fukuoka|chikujo.fukuoka|chikushino.fukuoka|chikuzen.fukuoka|chuo.fukuoka|dazaifu.fukuoka|fukuchi.fukuoka|hakata.fukuoka|higashi.fukuoka|hirokawa.fukuoka|hisayama.fukuoka|iizuka.fukuoka|inatsuki.fukuoka|kaho.fukuoka|kasuga.fukuoka|kasuya.fukuoka|kawara.fukuoka|keisen.fukuoka|koga.fukuoka|kurate.fukuoka|kurogi.fukuoka|kurume.fukuoka|minami.fukuoka|miyako.fukuoka|miyama.fukuoka|miyawaka.fukuoka|mizumaki.fukuoka|munakata.fukuoka|nakagawa.fukuoka|nakama.fukuoka|nishi.fukuoka|nogata.fukuoka|ogori.fukuoka|okagaki.fukuoka|okawa.fukuoka|oki.fukuoka|omuta.fukuoka|onga.fukuoka|onojo.fukuoka|oto.fukuoka|saigawa.fukuoka|sasaguri.fukuoka|shingu.fukuoka|shinyoshitomi.fukuoka|shonai.fukuoka|soeda.fukuoka|sue.fukuoka|tachiarai.fukuoka|tagawa.fukuoka|takata.fukuoka|toho.fukuoka|toyotsu.fukuoka|tsuiki.fukuoka|ukiha.fukuoka|umi.fukuoka|usui.fukuoka|yamada.fukuoka|yame.fukuoka|yanagawa.fukuoka|yukuhashi.fukuoka|aizubange.fukushima|aizumisato.fukushima|aizuwakamatsu.fukushima|asakawa.fukushima|bandai.fukushima|date.fukushima|fukushima.fukushima|furudono.fukushima|futaba.fukushima|hanawa.fukushima|higashi.fukushima|hirata.fukushima|hirono.fukushima|iitate.fukushima|inawashiro.fukushima|ishikawa.fukushima|iwaki.fukushima|izumizaki.fukushima|kagamiishi.fukushima|kaneyama.fukushima|kawamata.fukushima|kitakata.fukushima|kitashiobara.fukushima|koori.fukushima|koriyama.fukushima|kunimi.fukushima|miharu.fukushima|mishima.fukushima|namie.fukushima|nango.fukushima|nishiaizu.fukushima|nishigo.fukushima|okuma.fukushima|omotego.fukushima|ono.fukushima|otama.fukushima|samegawa.fukushima|shimogo.fukushima|shirakawa.fukushima|showa.fukushima|soma.fukushima|sukagawa.fukushima|taishin.fukushima|tamakawa.fukushima|tanagura.fukushima|tenei.fukushima|yabuki.fukushima|yamato.fukushima|yamatsuri.fukushima|yanaizu.fukushima|yugawa.fukushima|anpachi.gifu|ena.gifu|gifu.gifu|ginan.gifu|godo.gifu|gujo.gifu|hashima.gifu|hichiso.gifu|hida.gifu|higashishirakawa.gifu|ibigawa.gifu|ikeda.gifu|kakamigahara.gifu|kani.gifu|kasahara.gifu|kasamatsu.gifu|kawaue.gifu|kitagata.gifu|mino.gifu|minokamo.gifu|mitake.gifu|mizunami.gifu|motosu.gifu|nakatsugawa.gifu|ogaki.gifu|sakahogi.gifu|seki.gifu|sekigahara.gifu|shirakawa.gifu|tajimi.gifu|takayama.gifu|tarui.gifu|toki.gifu|tomika.gifu|wanouchi.gifu|yamagata.gifu|yaotsu.gifu|yoro.gifu|annaka.gunma|chiyoda.gunma|fujioka.gunma|higashiagatsuma.gunma|isesaki.gunma|itakura.gunma|kanna.gunma|kanra.gunma|katashina.gunma|kawaba.gunma|kiryu.gunma|kusatsu.gunma|maebashi.gunma|meiwa.gunma|midori.gunma|minakami.gunma|naganohara.gunma|nakanojo.gunma|nanmoku.gunma|numata.gunma|oizumi.gunma|ora.gunma|ota.gunma|shibukawa.gunma|shimonita.gunma|shinto.gunma|showa.gunma|takasaki.gunma|takayama.gunma|tamamura.gunma|tatebayashi.gunma|tomioka.gunma|tsukiyono.gunma|tsumagoi.gunma|ueno.gunma|yoshioka.gunma|asaminami.hiroshima|daiwa.hiroshima|etajima.hiroshima|fuchu.hiroshima|fukuyama.hiroshima|hatsukaichi.hiroshima|higashihiroshima.hiroshima|hongo.hiroshima|jinsekikogen.hiroshima|kaita.hiroshima|kui.hiroshima|kumano.hiroshima|kure.hiroshima|mihara.hiroshima|miyoshi.hiroshima|naka.hiroshima|onomichi.hiroshima|osakikamijima.hiroshima|otake.hiroshima|saka.hiroshima|sera.hiroshima|seranishi.hiroshima|shinichi.hiroshima|shobara.hiroshima|takehara.hiroshima|abashiri.hokkaido|abira.hokkaido|aibetsu.hokkaido|akabira.hokkaido|akkeshi.hokkaido|asahikawa.hokkaido|ashibetsu.hokkaido|ashoro.hokkaido|assabu.hokkaido|atsuma.hokkaido|bibai.hokkaido|biei.hokkaido|bifuka.hokkaido|bihoro.hokkaido|biratori.hokkaido|chippubetsu.hokkaido|chitose.hokkaido|date.hokkaido|ebetsu.hokkaido|embetsu.hokkaido|eniwa.hokkaido|erimo.hokkaido|esan.hokkaido|esashi.hokkaido|fukagawa.hokkaido|fukushima.hokkaido|furano.hokkaido|furubira.hokkaido|haboro.hokkaido|hakodate.hokkaido|hamatonbetsu.hokkaido|hidaka.hokkaido|higashikagura.hokkaido|higashikawa.hokkaido|hiroo.hokkaido|hokuryu.hokkaido|hokuto.hokkaido|honbetsu.hokkaido|horokanai.hokkaido|horonobe.hokkaido|ikeda.hokkaido|imakane.hokkaido|ishikari.hokkaido|iwamizawa.hokkaido|iwanai.hokkaido|kamifurano.hokkaido|kamikawa.hokkaido|kamishihoro.hokkaido|kamisunagawa.hokkaido|kamoenai.hokkaido|kayabe.hokkaido|kembuchi.hokkaido|kikonai.hokkaido|kimobetsu.hokkaido|kitahiroshima.hokkaido|kitami.hokkaido|kiyosato.hokkaido|koshimizu.hokkaido|kunneppu.hokkaido|kuriyama.hokkaido|kuromatsunai.hokkaido|kushiro.hokkaido|kutchan.hokkaido|kyowa.hokkaido|mashike.hokkaido|matsumae.hokkaido|mikasa.hokkaido|minamifurano.hokkaido|mombetsu.hokkaido|moseushi.hokkaido|mukawa.hokkaido|muroran.hokkaido|naie.hokkaido|nakagawa.hokkaido|nakasatsunai.hokkaido|nakatombetsu.hokkaido|nanae.hokkaido|nanporo.hokkaido|nayoro.hokkaido|nemuro.hokkaido|niikappu.hokkaido|niki.hokkaido|nishiokoppe.hokkaido|noboribetsu.hokkaido|numata.hokkaido|obihiro.hokkaido|obira.hokkaido|oketo.hokkaido|okoppe.hokkaido|otaru.hokkaido|otobe.hokkaido|otofuke.hokkaido|otoineppu.hokkaido|oumu.hokkaido|ozora.hokkaido|pippu.hokkaido|rankoshi.hokkaido|rebun.hokkaido|rikubetsu.hokkaido|rishiri.hokkaido|rishirifuji.hokkaido|saroma.hokkaido|sarufutsu.hokkaido|shakotan.hokkaido|shari.hokkaido|shibecha.hokkaido|shibetsu.hokkaido|shikabe.hokkaido|shikaoi.hokkaido|shimamaki.hokkaido|shimizu.hokkaido|shimokawa.hokkaido|shinshinotsu.hokkaido|shintoku.hokkaido|shiranuka.hokkaido|shiraoi.hokkaido|shiriuchi.hokkaido|sobetsu.hokkaido|sunagawa.hokkaido|taiki.hokkaido|takasu.hokkaido|takikawa.hokkaido|takinoue.hokkaido|teshikaga.hokkaido|tobetsu.hokkaido|tohma.hokkaido|tomakomai.hokkaido|tomari.hokkaido|toya.hokkaido|toyako.hokkaido|toyotomi.hokkaido|toyoura.hokkaido|tsubetsu.hokkaido|tsukigata.hokkaido|urakawa.hokkaido|urausu.hokkaido|uryu.hokkaido|utashinai.hokkaido|wakkanai.hokkaido|wassamu.hokkaido|yakumo.hokkaido|yoichi.hokkaido|aioi.hyogo|akashi.hyogo|ako.hyogo|amagasaki.hyogo|aogaki.hyogo|asago.hyogo|ashiya.hyogo|awaji.hyogo|fukusaki.hyogo|goshiki.hyogo|harima.hyogo|himeji.hyogo|ichikawa.hyogo|inagawa.hyogo|itami.hyogo|kakogawa.hyogo|kamigori.hyogo|kamikawa.hyogo|kasai.hyogo|kasuga.hyogo|kawanishi.hyogo|miki.hyogo|minamiawaji.hyogo|nishinomiya.hyogo|nishiwaki.hyogo|ono.hyogo|sanda.hyogo|sannan.hyogo|sasayama.hyogo|sayo.hyogo|shingu.hyogo|shinonsen.hyogo|shiso.hyogo|sumoto.hyogo|taishi.hyogo|taka.hyogo|takarazuka.hyogo|takasago.hyogo|takino.hyogo|tamba.hyogo|tatsuno.hyogo|toyooka.hyogo|yabu.hyogo|yashiro.hyogo|yoka.hyogo|yokawa.hyogo|ami.ibaraki|asahi.ibaraki|bando.ibaraki|chikusei.ibaraki|daigo.ibaraki|fujishiro.ibaraki|hitachi.ibaraki|hitachinaka.ibaraki|hitachiomiya.ibaraki|hitachiota.ibaraki|ibaraki.ibaraki|ina.ibaraki|inashiki.ibaraki|itako.ibaraki|iwama.ibaraki|joso.ibaraki|kamisu.ibaraki|kasama.ibaraki|kashima.ibaraki|kasumigaura.ibaraki|koga.ibaraki|miho.ibaraki|mito.ibaraki|moriya.ibaraki|naka.ibaraki|namegata.ibaraki|oarai.ibaraki|ogawa.ibaraki|omitama.ibaraki|ryugasaki.ibaraki|sakai.ibaraki|sakuragawa.ibaraki|shimodate.ibaraki|shimotsuma.ibaraki|shirosato.ibaraki|sowa.ibaraki|suifu.ibaraki|takahagi.ibaraki|tamatsukuri.ibaraki|tokai.ibaraki|tomobe.ibaraki|tone.ibaraki|toride.ibaraki|tsuchiura.ibaraki|tsukuba.ibaraki|uchihara.ibaraki|ushiku.ibaraki|yachiyo.ibaraki|yamagata.ibaraki|yawara.ibaraki|yuki.ibaraki|anamizu.ishikawa|hakui.ishikawa|hakusan.ishikawa|kaga.ishikawa|kahoku.ishikawa|kanazawa.ishikawa|kawakita.ishikawa|komatsu.ishikawa|nakanoto.ishikawa|nanao.ishikawa|nomi.ishikawa|nonoichi.ishikawa|noto.ishikawa|shika.ishikawa|suzu.ishikawa|tsubata.ishikawa|tsurugi.ishikawa|uchinada.ishikawa|wajima.ishikawa|fudai.iwate|fujisawa.iwate|hanamaki.iwate|hiraizumi.iwate|hirono.iwate|ichinohe.iwate|ichinoseki.iwate|iwaizumi.iwate|iwate.iwate|joboji.iwate|kamaishi.iwate|kanegasaki.iwate|karumai.iwate|kawai.iwate|kitakami.iwate|kuji.iwate|kunohe.iwate|kuzumaki.iwate|miyako.iwate|mizusawa.iwate|morioka.iwate|ninohe.iwate|noda.iwate|ofunato.iwate|oshu.iwate|otsuchi.iwate|rikuzentakata.iwate|shiwa.iwate|shizukuishi.iwate|sumita.iwate|tanohata.iwate|tono.iwate|yahaba.iwate|yamada.iwate|ayagawa.kagawa|higashikagawa.kagawa|kanonji.kagawa|kotohira.kagawa|manno.kagawa|marugame.kagawa|mitoyo.kagawa|naoshima.kagawa|sanuki.kagawa|tadotsu.kagawa|takamatsu.kagawa|tonosho.kagawa|uchinomi.kagawa|utazu.kagawa|zentsuji.kagawa|akune.kagoshima|amami.kagoshima|hioki.kagoshima|isa.kagoshima|isen.kagoshima|izumi.kagoshima|kagoshima.kagoshima|kanoya.kagoshima|kawanabe.kagoshima|kinko.kagoshima|kouyama.kagoshima|makurazaki.kagoshima|matsumoto.kagoshima|minamitane.kagoshima|nakatane.kagoshima|nishinoomote.kagoshima|satsumasendai.kagoshima|soo.kagoshima|tarumizu.kagoshima|yusui.kagoshima|aikawa.kanagawa|atsugi.kanagawa|ayase.kanagawa|chigasaki.kanagawa|ebina.kanagawa|fujisawa.kanagawa|hadano.kanagawa|hakone.kanagawa|hiratsuka.kanagawa|isehara.kanagawa|kaisei.kanagawa|kamakura.kanagawa|kiyokawa.kanagawa|matsuda.kanagawa|minamiashigara.kanagawa|miura.kanagawa|nakai.kanagawa|ninomiya.kanagawa|odawara.kanagawa|oi.kanagawa|oiso.kanagawa|sagamihara.kanagawa|samukawa.kanagawa|tsukui.kanagawa|yamakita.kanagawa|yamato.kanagawa|yokosuka.kanagawa|yugawara.kanagawa|zama.kanagawa|zushi.kanagawa|aki.kochi|geisei.kochi|hidaka.kochi|higashitsuno.kochi|ino.kochi|kagami.kochi|kami.kochi|kitagawa.kochi|kochi.kochi|mihara.kochi|motoyama.kochi|muroto.kochi|nahari.kochi|nakamura.kochi|nankoku.kochi|nishitosa.kochi|niyodogawa.kochi|ochi.kochi|okawa.kochi|otoyo.kochi|otsuki.kochi|sakawa.kochi|sukumo.kochi|susaki.kochi|tosa.kochi|tosashimizu.kochi|toyo.kochi|tsuno.kochi|umaji.kochi|yasuda.kochi|yusuhara.kochi|amakusa.kumamoto|arao.kumamoto|aso.kumamoto|choyo.kumamoto|gyokuto.kumamoto|hitoyoshi.kumamoto|kamiamakusa.kumamoto|kashima.kumamoto|kikuchi.kumamoto|kosa.kumamoto|kumamoto.kumamoto|mashiki.kumamoto|mifune.kumamoto|minamata.kumamoto|minamioguni.kumamoto|nagasu.kumamoto|nishihara.kumamoto|oguni.kumamoto|ozu.kumamoto|sumoto.kumamoto|takamori.kumamoto|uki.kumamoto|uto.kumamoto|yamaga.kumamoto|yamato.kumamoto|yatsushiro.kumamoto|ayabe.kyoto|fukuchiyama.kyoto|higashiyama.kyoto|ide.kyoto|ine.kyoto|joyo.kyoto|kameoka.kyoto|kamo.kyoto|kita.kyoto|kizu.kyoto|kumiyama.kyoto|kyotamba.kyoto|kyotanabe.kyoto|kyotango.kyoto|maizuru.kyoto|minami.kyoto|minamiyamashiro.kyoto|miyazu.kyoto|muko.kyoto|nagaokakyo.kyoto|nakagyo.kyoto|nantan.kyoto|oyamazaki.kyoto|sakyo.kyoto|seika.kyoto|tanabe.kyoto|uji.kyoto|ujitawara.kyoto|wazuka.kyoto|yamashina.kyoto|yawata.kyoto|asahi.mie|inabe.mie|ise.mie|kameyama.mie|kawagoe.mie|kiho.mie|kisosaki.mie|kiwa.mie|komono.mie|kumano.mie|kuwana.mie|matsusaka.mie|meiwa.mie|mihama.mie|minamiise.mie|misugi.mie|miyama.mie|nabari.mie|shima.mie|suzuka.mie|tado.mie|taiki.mie|taki.mie|tamaki.mie|toba.mie|tsu.mie|udono.mie|ureshino.mie|watarai.mie|yokkaichi.mie|furukawa.miyagi|higashimatsushima.miyagi|ishinomaki.miyagi|iwanuma.miyagi|kakuda.miyagi|kami.miyagi|kawasaki.miyagi|kesennuma.miyagi|marumori.miyagi|matsushima.miyagi|minamisanriku.miyagi|misato.miyagi|murata.miyagi|natori.miyagi|ogawara.miyagi|ohira.miyagi|onagawa.miyagi|osaki.miyagi|rifu.miyagi|semine.miyagi|shibata.miyagi|shichikashuku.miyagi|shikama.miyagi|shiogama.miyagi|shiroishi.miyagi|tagajo.miyagi|taiwa.miyagi|tome.miyagi|tomiya.miyagi|wakuya.miyagi|watari.miyagi|yamamoto.miyagi|zao.miyagi|aya.miyazaki|ebino.miyazaki|gokase.miyazaki|hyuga.miyazaki|kadogawa.miyazaki|kawaminami.miyazaki|kijo.miyazaki|kitagawa.miyazaki|kitakata.miyazaki|kitaura.miyazaki|kobayashi.miyazaki|kunitomi.miyazaki|kushima.miyazaki|mimata.miyazaki|miyakonojo.miyazaki|miyazaki.miyazaki|morotsuka.miyazaki|nichinan.miyazaki|nishimera.miyazaki|nobeoka.miyazaki|saito.miyazaki|shiiba.miyazaki|shintomi.miyazaki|takaharu.miyazaki|takanabe.miyazaki|takazaki.miyazaki|tsuno.miyazaki|achi.nagano|agematsu.nagano|anan.nagano|aoki.nagano|asahi.nagano|azumino.nagano|chikuhoku.nagano|chikuma.nagano|chino.nagano|fujimi.nagano|hakuba.nagano|hara.nagano|hiraya.nagano|iida.nagano|iijima.nagano|iiyama.nagano|iizuna.nagano|ikeda.nagano|ikusaka.nagano|ina.nagano|karuizawa.nagano|kawakami.nagano|kiso.nagano|kisofukushima.nagano|kitaaiki.nagano|komagane.nagano|komoro.nagano|matsukawa.nagano|matsumoto.nagano|miasa.nagano|minamiaiki.nagano|minamimaki.nagano|minamiminowa.nagano|minowa.nagano|miyada.nagano|miyota.nagano|mochizuki.nagano|nagano.nagano|nagawa.nagano|nagiso.nagano|nakagawa.nagano|nakano.nagano|nozawaonsen.nagano|obuse.nagano|ogawa.nagano|okaya.nagano|omachi.nagano|omi.nagano|ookuwa.nagano|ooshika.nagano|otaki.nagano|otari.nagano|sakae.nagano|sakaki.nagano|saku.nagano|sakuho.nagano|shimosuwa.nagano|shinanomachi.nagano|shiojiri.nagano|suwa.nagano|suzaka.nagano|takagi.nagano|takamori.nagano|takayama.nagano|tateshina.nagano|tatsuno.nagano|togakushi.nagano|togura.nagano|tomi.nagano|ueda.nagano|wada.nagano|yamagata.nagano|yamanouchi.nagano|yasaka.nagano|yasuoka.nagano|chijiwa.nagasaki|futsu.nagasaki|goto.nagasaki|hasami.nagasaki|hirado.nagasaki|iki.nagasaki|isahaya.nagasaki|kawatana.nagasaki|kuchinotsu.nagasaki|matsuura.nagasaki|nagasaki.nagasaki|obama.nagasaki|omura.nagasaki|oseto.nagasaki|saikai.nagasaki|sasebo.nagasaki|seihi.nagasaki|shimabara.nagasaki|shinkamigoto.nagasaki|togitsu.nagasaki|tsushima.nagasaki|unzen.nagasaki|ando.nara|gose.nara|heguri.nara|higashiyoshino.nara|ikaruga.nara|ikoma.nara|kamikitayama.nara|kanmaki.nara|kashiba.nara|kashihara.nara|katsuragi.nara|kawai.nara|kawakami.nara|kawanishi.nara|koryo.nara|kurotaki.nara|mitsue.nara|miyake.nara|nara.nara|nosegawa.nara|oji.nara|ouda.nara|oyodo.nara|sakurai.nara|sango.nara|shimoichi.nara|shimokitayama.nara|shinjo.nara|soni.nara|takatori.nara|tawaramoto.nara|tenkawa.nara|tenri.nara|uda.nara|yamatokoriyama.nara|yamatotakada.nara|yamazoe.nara|yoshino.nara|aga.niigata|agano.niigata|gosen.niigata|itoigawa.niigata|izumozaki.niigata|joetsu.niigata|kamo.niigata|kariwa.niigata|kashiwazaki.niigata|minamiuonuma.niigata|mitsuke.niigata|muika.niigata|murakami.niigata|myoko.niigata|nagaoka.niigata|niigata.niigata|ojiya.niigata|omi.niigata|sado.niigata|sanjo.niigata|seiro.niigata|seirou.niigata|sekikawa.niigata|shibata.niigata|tagami.niigata|tainai.niigata|tochio.niigata|tokamachi.niigata|tsubame.niigata|tsunan.niigata|uonuma.niigata|yahiko.niigata|yoita.niigata|yuzawa.niigata|beppu.oita|bungoono.oita|bungotakada.oita|hasama.oita|hiji.oita|himeshima.oita|hita.oita|kamitsue.oita|kokonoe.oita|kuju.oita|kunisaki.oita|kusu.oita|oita.oita|saiki.oita|taketa.oita|tsukumi.oita|usa.oita|usuki.oita|yufu.oita|akaiwa.okayama|asakuchi.okayama|bizen.okayama|hayashima.okayama|ibara.okayama|kagamino.okayama|kasaoka.okayama|kibichuo.okayama|kumenan.okayama|kurashiki.okayama|maniwa.okayama|misaki.okayama|nagi.okayama|niimi.okayama|nishiawakura.okayama|okayama.okayama|satosho.okayama|setouchi.okayama|shinjo.okayama|shoo.okayama|soja.okayama|takahashi.okayama|tamano.okayama|tsuyama.okayama|wake.okayama|yakage.okayama|aguni.okinawa|ginowan.okinawa|ginoza.okinawa|gushikami.okinawa|haebaru.okinawa|higashi.okinawa|hirara.okinawa|iheya.okinawa|ishigaki.okinawa|ishikawa.okinawa|itoman.okinawa|izena.okinawa|kadena.okinawa|kin.okinawa|kitadaito.okinawa|kitanakagusuku.okinawa|kumejima.okinawa|kunigami.okinawa|minamidaito.okinawa|motobu.okinawa|nago.okinawa|naha.okinawa|nakagusuku.okinawa|nakijin.okinawa|nanjo.okinawa|nishihara.okinawa|ogimi.okinawa|okinawa.okinawa|onna.okinawa|shimoji.okinawa|taketomi.okinawa|tarama.okinawa|tokashiki.okinawa|tomigusuku.okinawa|tonaki.okinawa|urasoe.okinawa|uruma.okinawa|yaese.okinawa|yomitan.okinawa|yonabaru.okinawa|yonaguni.okinawa|zamami.okinawa|abeno.osaka|chihayaakasaka.osaka|chuo.osaka|daito.osaka|fujiidera.osaka|habikino.osaka|hannan.osaka|higashiosaka.osaka|higashisumiyoshi.osaka|higashiyodogawa.osaka|hirakata.osaka|ibaraki.osaka|ikeda.osaka|izumi.osaka|izumiotsu.osaka|izumisano.osaka|kadoma.osaka|kaizuka.osaka|kanan.osaka|kashiwara.osaka|katano.osaka|kawachinagano.osaka|kishiwada.osaka|kita.osaka|kumatori.osaka|matsubara.osaka|minato.osaka|minoh.osaka|misaki.osaka|moriguchi.osaka|neyagawa.osaka|nishi.osaka|nose.osaka|osakasayama.osaka|sakai.osaka|sayama.osaka|sennan.osaka|settsu.osaka|shijonawate.osaka|shimamoto.osaka|suita.osaka|tadaoka.osaka|taishi.osaka|tajiri.osaka|takaishi.osaka|takatsuki.osaka|tondabayashi.osaka|toyonaka.osaka|toyono.osaka|yao.osaka|ariake.saga|arita.saga|fukudomi.saga|genkai.saga|hamatama.saga|hizen.saga|imari.saga|kamimine.saga|kanzaki.saga|karatsu.saga|kashima.saga|kitagata.saga|kitahata.saga|kiyama.saga|kouhoku.saga|kyuragi.saga|nishiarita.saga|ogi.saga|omachi.saga|ouchi.saga|saga.saga|shiroishi.saga|taku.saga|tara.saga|tosu.saga|yoshinogari.saga|arakawa.saitama|asaka.saitama|chichibu.saitama|fujimi.saitama|fujimino.saitama|fukaya.saitama|hanno.saitama|hanyu.saitama|hasuda.saitama|hatogaya.saitama|hatoyama.saitama|hidaka.saitama|higashichichibu.saitama|higashimatsuyama.saitama|honjo.saitama|ina.saitama|iruma.saitama|iwatsuki.saitama|kamiizumi.saitama|kamikawa.saitama|kamisato.saitama|kasukabe.saitama|kawagoe.saitama|kawaguchi.saitama|kawajima.saitama|kazo.saitama|kitamoto.saitama|koshigaya.saitama|kounosu.saitama|kuki.saitama|kumagaya.saitama|matsubushi.saitama|minano.saitama|misato.saitama|miyashiro.saitama|miyoshi.saitama|moroyama.saitama|nagatoro.saitama|namegawa.saitama|niiza.saitama|ogano.saitama|ogawa.saitama|ogose.saitama|okegawa.saitama|omiya.saitama|otaki.saitama|ranzan.saitama|ryokami.saitama|saitama.saitama|sakado.saitama|satte.saitama|sayama.saitama|shiki.saitama|shiraoka.saitama|soka.saitama|sugito.saitama|toda.saitama|tokigawa.saitama|tokorozawa.saitama|tsurugashima.saitama|urawa.saitama|warabi.saitama|yashio.saitama|yokoze.saitama|yono.saitama|yorii.saitama|yoshida.saitama|yoshikawa.saitama|yoshimi.saitama|aisho.shiga|gamo.shiga|higashiomi.shiga|hikone.shiga|koka.shiga|konan.shiga|kosei.shiga|koto.shiga|kusatsu.shiga|maibara.shiga|moriyama.shiga|nagahama.shiga|nishiazai.shiga|notogawa.shiga|omihachiman.shiga|otsu.shiga|ritto.shiga|ryuoh.shiga|takashima.shiga|takatsuki.shiga|torahime.shiga|toyosato.shiga|yasu.shiga|akagi.shimane|ama.shimane|gotsu.shimane|hamada.shimane|higashiizumo.shimane|hikawa.shimane|hikimi.shimane|izumo.shimane|kakinoki.shimane|masuda.shimane|matsue.shimane|misato.shimane|nishinoshima.shimane|ohda.shimane|okinoshima.shimane|okuizumo.shimane|shimane.shimane|tamayu.shimane|tsuwano.shimane|unnan.shimane|yakumo.shimane|yasugi.shimane|yatsuka.shimane|arai.shizuoka|atami.shizuoka|fuji.shizuoka|fujieda.shizuoka|fujikawa.shizuoka|fujinomiya.shizuoka|fukuroi.shizuoka|gotemba.shizuoka|haibara.shizuoka|hamamatsu.shizuoka|higashiizu.shizuoka|ito.shizuoka|iwata.shizuoka|izu.shizuoka|izunokuni.shizuoka|kakegawa.shizuoka|kannami.shizuoka|kawanehon.shizuoka|kawazu.shizuoka|kikugawa.shizuoka|kosai.shizuoka|makinohara.shizuoka|matsuzaki.shizuoka|minamiizu.shizuoka|mishima.shizuoka|morimachi.shizuoka|nishiizu.shizuoka|numazu.shizuoka|omaezaki.shizuoka|shimada.shizuoka|shimizu.shizuoka|shimoda.shizuoka|shizuoka.shizuoka|susono.shizuoka|yaizu.shizuoka|yoshida.shizuoka|ashikaga.tochigi|bato.tochigi|haga.tochigi|ichikai.tochigi|iwafune.tochigi|kaminokawa.tochigi|kanuma.tochigi|karasuyama.tochigi|kuroiso.tochigi|mashiko.tochigi|mibu.tochigi|moka.tochigi|motegi.tochigi|nasu.tochigi|nasushiobara.tochigi|nikko.tochigi|nishikata.tochigi|nogi.tochigi|ohira.tochigi|ohtawara.tochigi|oyama.tochigi|sakura.tochigi|sano.tochigi|shimotsuke.tochigi|shioya.tochigi|takanezawa.tochigi|tochigi.tochigi|tsuga.tochigi|ujiie.tochigi|utsunomiya.tochigi|yaita.tochigi|aizumi.tokushima|anan.tokushima|ichiba.tokushima|itano.tokushima|kainan.tokushima|komatsushima.tokushima|matsushige.tokushima|mima.tokushima|minami.tokushima|miyoshi.tokushima|mugi.tokushima|nakagawa.tokushima|naruto.tokushima|sanagochi.tokushima|shishikui.tokushima|tokushima.tokushima|wajiki.tokushima|adachi.tokyo|akiruno.tokyo|akishima.tokyo|aogashima.tokyo|arakawa.tokyo|bunkyo.tokyo|chiyoda.tokyo|chofu.tokyo|chuo.tokyo|edogawa.tokyo|fuchu.tokyo|fussa.tokyo|hachijo.tokyo|hachioji.tokyo|hamura.tokyo|higashikurume.tokyo|higashimurayama.tokyo|higashiyamato.tokyo|hino.tokyo|hinode.tokyo|hinohara.tokyo|inagi.tokyo|itabashi.tokyo|katsushika.tokyo|kita.tokyo|kiyose.tokyo|kodaira.tokyo|koganei.tokyo|kokubunji.tokyo|komae.tokyo|koto.tokyo|kouzushima.tokyo|kunitachi.tokyo|machida.tokyo|meguro.tokyo|minato.tokyo|mitaka.tokyo|mizuho.tokyo|musashimurayama.tokyo|musashino.tokyo|nakano.tokyo|nerima.tokyo|ogasawara.tokyo|okutama.tokyo|ome.tokyo|oshima.tokyo|ota.tokyo|setagaya.tokyo|shibuya.tokyo|shinagawa.tokyo|shinjuku.tokyo|suginami.tokyo|sumida.tokyo|tachikawa.tokyo|taito.tokyo|tama.tokyo|toshima.tokyo|chizu.tottori|hino.tottori|kawahara.tottori|koge.tottori|kotoura.tottori|misasa.tottori|nanbu.tottori|nichinan.tottori|sakaiminato.tottori|tottori.tottori|wakasa.tottori|yazu.tottori|yonago.tottori|asahi.toyama|fuchu.toyama|fukumitsu.toyama|funahashi.toyama|himi.toyama|imizu.toyama|inami.toyama|johana.toyama|kamiichi.toyama|kurobe.toyama|nakaniikawa.toyama|namerikawa.toyama|nanto.toyama|nyuzen.toyama|oyabe.toyama|taira.toyama|takaoka.toyama|tateyama.toyama|toga.toyama|tonami.toyama|toyama.toyama|unazuki.toyama|uozu.toyama|yamada.toyama|arida.wakayama|aridagawa.wakayama|gobo.wakayama|hashimoto.wakayama|hidaka.wakayama|hirogawa.wakayama|inami.wakayama|iwade.wakayama|kainan.wakayama|kamitonda.wakayama|katsuragi.wakayama|kimino.wakayama|kinokawa.wakayama|kitayama.wakayama|koya.wakayama|koza.wakayama|kozagawa.wakayama|kudoyama.wakayama|kushimoto.wakayama|mihama.wakayama|misato.wakayama|nachikatsuura.wakayama|shingu.wakayama|shirahama.wakayama|taiji.wakayama|tanabe.wakayama|wakayama.wakayama|yuasa.wakayama|yura.wakayama|asahi.yamagata|funagata.yamagata|higashine.yamagata|iide.yamagata|kahoku.yamagata|kaminoyama.yamagata|kaneyama.yamagata|kawanishi.yamagata|mamurogawa.yamagata|mikawa.yamagata|murayama.yamagata|nagai.yamagata|nakayama.yamagata|nanyo.yamagata|nishikawa.yamagata|obanazawa.yamagata|oe.yamagata|oguni.yamagata|ohkura.yamagata|oishida.yamagata|sagae.yamagata|sakata.yamagata|sakegawa.yamagata|shinjo.yamagata|shirataka.yamagata|shonai.yamagata|takahata.yamagata|tendo.yamagata|tozawa.yamagata|tsuruoka.yamagata|yamagata.yamagata|yamanobe.yamagata|yonezawa.yamagata|yuza.yamagata|abu.yamaguchi|hagi.yamaguchi|hikari.yamaguchi|hofu.yamaguchi|iwakuni.yamaguchi|kudamatsu.yamaguchi|mitou.yamaguchi|nagato.yamaguchi|oshima.yamaguchi|shimonoseki.yamaguchi|shunan.yamaguchi|tabuse.yamaguchi|tokuyama.yamaguchi|toyota.yamaguchi|ube.yamaguchi|yuu.yamaguchi|chuo.yamanashi|doshi.yamanashi|fuefuki.yamanashi|fujikawa.yamanashi|fujikawaguchiko.yamanashi|fujiyoshida.yamanashi|hayakawa.yamanashi|hokuto.yamanashi|ichikawamisato.yamanashi|kai.yamanashi|kofu.yamanashi|koshu.yamanashi|kosuge.yamanashi|minami-alps.yamanashi|minobu.yamanashi|nakamichi.yamanashi|nanbu.yamanashi|narusawa.yamanashi|nirasaki.yamanashi|nishikatsura.yamanashi|oshino.yamanashi|otsuki.yamanashi|showa.yamanashi|tabayama.yamanashi|tsuru.yamanashi|uenohara.yamanashi|yamanakako.yamanashi|yamanashi.yamanashi|blogspot","ke":"*|blogspot.co","kg":"org|net|com|edu|gov|mil","kh":"*","ki":"edu|biz|net|org|gov|info|com","km":"org|nom|gov|prd|tm|edu|mil|ass|com|coop|asso|presse|medecin|notaires|pharmaciens|veterinaire|gouv","kn":"net|org|edu|gov","kp":"com|edu|gov|org|rep|tra","kr":"ac|co|es|go|hs|kg|mil|ms|ne|or|pe|re|sc|busan|chungbuk|chungnam|daegu|daejeon|gangwon|gwangju|gyeongbuk|gyeonggi|gyeongnam|incheon|jeju|jeonbuk|jeonnam|seoul|ulsan|blogspot","kw":"*","ky":"edu|gov|com|org|net","kz":"org|edu|net|gov|mil|com","la":"int|net|info|edu|gov|per|com|org|c","lb":"com|edu|gov|net|org","lc":"com|net|co|org|edu|gov","li":"blogspot","lk":"gov|sch|net|int|com|org|edu|ngo|soc|web|ltd|assn|grp|hotel|ac","lr":"com|edu|gov|org|net","ls":"co|org","lt":"gov|blogspot","lu":"blogspot","lv":"com|edu|gov|org|mil|id|net|asn|conf","ly":"com|net|gov|plc|edu|sch|med|org|id","ma":"co|net|gov|org|ac|press","mc":"tm|asso","md":"blogspot","me":"co|net|org|edu|ac|gov|its|priv","mg":"org|nom|gov|prd|tm|edu|mil|com|co","mh":"","mil":"","mk":"com|org|net|edu|gov|inf|name|blogspot","ml":"com|edu|gouv|gov|net|org|presse","mm":"*","mn":"gov|edu|org|nyc","mo":"com|net|org|edu|gov","mobi":"","mp":"","mq":"","mr":"gov|blogspot","ms":"com|edu|gov|net|org","mt":"com|edu|net|org|blogspot.com","mu":"com|net|org|gov|ac|co|or","museum":"academy|agriculture|air|airguard|alabama|alaska|amber|ambulance|american|americana|americanantiques|americanart|amsterdam|and|annefrank|anthro|anthropology|antiques|aquarium|arboretum|archaeological|archaeology|architecture|art|artanddesign|artcenter|artdeco|arteducation|artgallery|arts|artsandcrafts|asmatart|assassination|assisi|association|astronomy|atlanta|austin|australia|automotive|aviation|axis|badajoz|baghdad|bahn|bale|baltimore|barcelona|baseball|basel|baths|bauern|beauxarts|beeldengeluid|bellevue|bergbau|berkeley|berlin|bern|bible|bilbao|bill|birdart|birthplace|bonn|boston|botanical|botanicalgarden|botanicgarden|botany|brandywinevalley|brasil|bristol|british|britishcolumbia|broadcast|brunel|brussel|brussels|bruxelles|building|burghof|bus|bushey|cadaques|california|cambridge|can|canada|capebreton|carrier|cartoonart|casadelamoneda|castle|castres|celtic|center|chattanooga|cheltenham|chesapeakebay|chicago|children|childrens|childrensgarden|chiropractic|chocolate|christiansburg|cincinnati|cinema|circus|civilisation|civilization|civilwar|clinton|clock|coal|coastaldefence|cody|coldwar|collection|colonialwilliamsburg|coloradoplateau|columbia|columbus|communication|communications|community|computer|computerhistory|xn--comunicaes-v6a2o|contemporary|contemporaryart|convent|copenhagen|corporation|xn--correios-e-telecomunicaes-ghc29a|corvette|costume|countryestate|county|crafts|cranbrook|creation|cultural|culturalcenter|culture|cyber|cymru|dali|dallas|database|ddr|decorativearts|delaware|delmenhorst|denmark|depot|design|detroit|dinosaur|discovery|dolls|donostia|durham|eastafrica|eastcoast|education|educational|egyptian|eisenbahn|elburg|elvendrell|embroidery|encyclopedic|england|entomology|environment|environmentalconservation|epilepsy|essex|estate|ethnology|exeter|exhibition|family|farm|farmequipment|farmers|farmstead|field|figueres|filatelia|film|fineart|finearts|finland|flanders|florida|force|fortmissoula|fortworth|foundation|francaise|frankfurt|franziskaner|freemasonry|freiburg|fribourg|frog|fundacio|furniture|gallery|garden|gateway|geelvinck|gemological|geology|georgia|giessen|glas|glass|gorge|grandrapids|graz|guernsey|halloffame|hamburg|handson|harvestcelebration|hawaii|health|heimatunduhren|hellas|helsinki|hembygdsforbund|heritage|histoire|historical|historicalsociety|historichouses|historisch|historisches|history|historyofscience|horology|house|humanities|illustration|imageandsound|indian|indiana|indianapolis|indianmarket|intelligence|interactive|iraq|iron|isleofman|jamison|jefferson|jerusalem|jewelry|jewish|jewishart|jfk|journalism|judaica|judygarland|juedisches|juif|karate|karikatur|kids|koebenhavn|koeln|kunst|kunstsammlung|kunstunddesign|labor|labour|lajolla|lancashire|landes|lans|xn--lns-qla|larsson|lewismiller|lincoln|linz|living|livinghistory|localhistory|london|losangeles|louvre|loyalist|lucerne|luxembourg|luzern|mad|madrid|mallorca|manchester|mansion|mansions|manx|marburg|maritime|maritimo|maryland|marylhurst|media|medical|medizinhistorisches|meeres|memorial|mesaverde|michigan|midatlantic|military|mill|miners|mining|minnesota|missile|missoula|modern|moma|money|monmouth|monticello|montreal|moscow|motorcycle|muenchen|muenster|mulhouse|muncie|museet|museumcenter|museumvereniging|music|national|nationalfirearms|nationalheritage|nativeamerican|naturalhistory|naturalhistorymuseum|naturalsciences|nature|naturhistorisches|natuurwetenschappen|naumburg|naval|nebraska|neues|newhampshire|newjersey|newmexico|newport|newspaper|newyork|niepce|norfolk|north|nrw|nuernberg|nuremberg|nyc|nyny|oceanographic|oceanographique|omaha|online|ontario|openair|oregon|oregontrail|otago|oxford|pacific|paderborn|palace|paleo|palmsprings|panama|paris|pasadena|pharmacy|philadelphia|philadelphiaarea|philately|phoenix|photography|pilots|pittsburgh|planetarium|plantation|plants|plaza|portal|portland|portlligat|posts-and-telecommunications|preservation|presidio|press|project|public|pubol|quebec|railroad|railway|research|resistance|riodejaneiro|rochester|rockart|roma|russia|saintlouis|salem|salvadordali|salzburg|sandiego|sanfrancisco|santabarbara|santacruz|santafe|saskatchewan|satx|savannahga|schlesisches|schoenbrunn|schokoladen|school|schweiz|science|scienceandhistory|scienceandindustry|sciencecenter|sciencecenters|science-fiction|sciencehistory|sciences|sciencesnaturelles|scotland|seaport|settlement|settlers|shell|sherbrooke|sibenik|silk|ski|skole|society|sologne|soundandvision|southcarolina|southwest|space|spy|square|stadt|stalbans|starnberg|state|stateofdelaware|station|steam|steiermark|stjohn|stockholm|stpetersburg|stuttgart|suisse|surgeonshall|surrey|svizzera|sweden|sydney|tank|tcm|technology|telekommunikation|television|texas|textile|theater|time|timekeeping|topology|torino|touch|town|transport|tree|trolley|trust|trustee|uhren|ulm|undersea|university|usa|usantiques|usarts|uscountryestate|usculture|usdecorativearts|usgarden|ushistory|ushuaia|uslivinghistory|utah|uvic|valley|vantaa|versailles|viking|village|virginia|virtual|virtuel|vlaanderen|volkenkunde|wales|wallonie|war|washingtondc|watchandclock|watch-and-clock|western|westfalen|whaling|wildlife|williamsburg|windmill|workshop|york|yorkshire|yosemite|youth|zoological|zoology|xn--9dbhblg6di|xn--h1aegh","mv":"aero|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro","mw":"ac|biz|co|com|coop|edu|gov|int|museum|net|org","mx":"com|org|gob|edu|net|blogspot","my":"com|net|org|gov|edu|mil|name|blogspot","mz":"*|!teledata","na":"info|pro|name|school|or|dr|us|mx|ca|in|cc|tv|ws|mobi|co|com|org","name":"forgot.her|forgot.his","nc":"asso","ne":"","net":"cloudfront|gb|hu|jp|se|uk|in|cdn77-ssl|r.cdn77|at-band-camp|blogdns|broke-it|buyshouses|dnsalias|dnsdojo|does-it|dontexist|dynalias|dynathome|endofinternet|from-az|from-co|from-la|from-ny|gets-it|ham-radio-op|homeftp|homeip|homelinux|homeunix|in-the-band|is-a-chef|is-a-geek|isa-geek|kicks-ass|office-on-the|podzone|scrapper-site|selfip|sells-it|servebbs|serveftp|thruhere|webhop|a.ssl.fastly|b.ssl.fastly|global.ssl.fastly|a.prod.fastly|global.prod.fastly|azurewebsites|azure-mobile|cloudapp|za","nf":"com|net|per|rec|web|arts|firm|info|other|store","ng":"com|edu|name|net|org|sch|gov|mil|mobi|blogspot.com","ni":"*","nl":"bv|co|blogspot","no":"fhs|vgs|fylkesbibl|folkebibl|museum|idrett|priv|mil|stat|dep|kommune|herad|aa|ah|bu|fm|hl|hm|jan-mayen|mr|nl|nt|of|ol|oslo|rl|sf|st|svalbard|tm|tr|va|vf|gs.aa|gs.ah|gs.bu|gs.fm|gs.hl|gs.hm|gs.jan-mayen|gs.mr|gs.nl|gs.nt|gs.of|gs.ol|gs.oslo|gs.rl|gs.sf|gs.st|gs.svalbard|gs.tm|gs.tr|gs.va|gs.vf|akrehamn|xn--krehamn-dxa|algard|xn--lgrd-poac|arna|brumunddal|bryne|bronnoysund|xn--brnnysund-m8ac|drobak|xn--drbak-wua|egersund|fetsund|floro|xn--flor-jra|fredrikstad|hokksund|honefoss|xn--hnefoss-q1a|jessheim|jorpeland|xn--jrpeland-54a|kirkenes|kopervik|krokstadelva|langevag|xn--langevg-jxa|leirvik|mjondalen|xn--mjndalen-64a|mo-i-rana|mosjoen|xn--mosjen-eya|nesoddtangen|orkanger|osoyro|xn--osyro-wua|raholt|xn--rholt-mra|sandnessjoen|xn--sandnessjen-ogb|skedsmokorset|slattum|spjelkavik|stathelle|stavern|stjordalshalsen|xn--stjrdalshalsen-sqb|tananger|tranby|vossevangen|afjord|xn--fjord-lra|agdenes|al|xn--l-1fa|alesund|xn--lesund-hua|alstahaug|alta|xn--lt-liac|alaheadju|xn--laheadju-7ya|alvdal|amli|xn--mli-tla|amot|xn--mot-tla|andebu|andoy|xn--andy-ira|andasuolo|ardal|xn--rdal-poa|aremark|arendal|xn--s-1fa|aseral|xn--seral-lra|asker|askim|askvoll|askoy|xn--asky-ira|asnes|xn--snes-poa|audnedaln|aukra|aure|aurland|aurskog-holand|xn--aurskog-hland-jnb|austevoll|austrheim|averoy|xn--avery-yua|balestrand|ballangen|balat|xn--blt-elab|balsfjord|bahccavuotna|xn--bhccavuotna-k7a|bamble|bardu|beardu|beiarn|bajddar|xn--bjddar-pta|baidar|xn--bidr-5nac|berg|bergen|berlevag|xn--berlevg-jxa|bearalvahki|xn--bearalvhki-y4a|bindal|birkenes|bjarkoy|xn--bjarky-fya|bjerkreim|bjugn|bodo|xn--bod-2na|badaddja|xn--bdddj-mrabd|budejju|bokn|bremanger|bronnoy|xn--brnny-wuac|bygland|bykle|barum|xn--brum-voa|bo.telemark|xn--b-5ga.telemark|bo.nordland|xn--b-5ga.nordland|bievat|xn--bievt-0qa|bomlo|xn--bmlo-gra|batsfjord|xn--btsfjord-9za|bahcavuotna|xn--bhcavuotna-s4a|dovre|drammen|drangedal|dyroy|xn--dyry-ira|donna|xn--dnna-gra|eid|eidfjord|eidsberg|eidskog|eidsvoll|eigersund|elverum|enebakk|engerdal|etne|etnedal|evenes|evenassi|xn--eveni-0qa01ga|evje-og-hornnes|farsund|fauske|fuossko|fuoisku|fedje|fet|finnoy|xn--finny-yua|fitjar|fjaler|fjell|flakstad|flatanger|flekkefjord|flesberg|flora|fla|xn--fl-zia|folldal|forsand|fosnes|frei|frogn|froland|frosta|frana|xn--frna-woa|froya|xn--frya-hra|fusa|fyresdal|forde|xn--frde-gra|gamvik|gangaviika|xn--ggaviika-8ya47h|gaular|gausdal|gildeskal|xn--gildeskl-g0a|giske|gjemnes|gjerdrum|gjerstad|gjesdal|gjovik|xn--gjvik-wua|gloppen|gol|gran|grane|granvin|gratangen|grimstad|grong|kraanghke|xn--kranghke-b0a|grue|gulen|hadsel|halden|halsa|hamar|hamaroy|habmer|xn--hbmer-xqa|hapmir|xn--hpmir-xqa|hammerfest|hammarfeasta|xn--hmmrfeasta-s4ac|haram|hareid|harstad|hasvik|aknoluokta|xn--koluokta-7ya57h|hattfjelldal|aarborte|haugesund|hemne|hemnes|hemsedal|heroy.more-og-romsdal|xn--hery-ira.xn--mre-og-romsdal-qqb|heroy.nordland|xn--hery-ira.nordland|hitra|hjartdal|hjelmeland|hobol|xn--hobl-ira|hof|hol|hole|holmestrand|holtalen|xn--holtlen-hxa|hornindal|horten|hurdal|hurum|hvaler|hyllestad|hagebostad|xn--hgebostad-g3a|hoyanger|xn--hyanger-q1a|hoylandet|xn--hylandet-54a|ha|xn--h-2fa|ibestad|inderoy|xn--indery-fya|iveland|jevnaker|jondal|jolster|xn--jlster-bya|karasjok|karasjohka|xn--krjohka-hwab49j|karlsoy|galsa|xn--gls-elac|karmoy|xn--karmy-yua|kautokeino|guovdageaidnu|klepp|klabu|xn--klbu-woa|kongsberg|kongsvinger|kragero|xn--krager-gya|kristiansand|kristiansund|krodsherad|xn--krdsherad-m8a|kvalsund|rahkkeravju|xn--rhkkervju-01af|kvam|kvinesdal|kvinnherad|kviteseid|kvitsoy|xn--kvitsy-fya|kvafjord|xn--kvfjord-nxa|giehtavuoatna|kvanangen|xn--kvnangen-k0a|navuotna|xn--nvuotna-hwa|kafjord|xn--kfjord-iua|gaivuotna|xn--givuotna-8ya|larvik|lavangen|lavagis|loabat|xn--loabt-0qa|lebesby|davvesiida|leikanger|leirfjord|leka|leksvik|lenvik|leangaviika|xn--leagaviika-52b|lesja|levanger|lier|lierne|lillehammer|lillesand|lindesnes|lindas|xn--linds-pra|lom|loppa|lahppi|xn--lhppi-xqa|lund|lunner|luroy|xn--lury-ira|luster|lyngdal|lyngen|ivgu|lardal|lerdal|xn--lrdal-sra|lodingen|xn--ldingen-q1a|lorenskog|xn--lrenskog-54a|loten|xn--lten-gra|malvik|masoy|xn--msy-ula0h|muosat|xn--muost-0qa|mandal|marker|marnardal|masfjorden|meland|meldal|melhus|meloy|xn--mely-ira|meraker|xn--merker-kua|moareke|xn--moreke-jua|midsund|midtre-gauldal|modalen|modum|molde|moskenes|moss|mosvik|malselv|xn--mlselv-iua|malatvuopmi|xn--mlatvuopmi-s4a|namdalseid|aejrie|namsos|namsskogan|naamesjevuemie|xn--nmesjevuemie-tcba|laakesvuemie|nannestad|narvik|narviika|naustdal|nedre-eiker|nes.akershus|nes.buskerud|nesna|nesodden|nesseby|unjarga|xn--unjrga-rta|nesset|nissedal|nittedal|nord-aurdal|nord-fron|nord-odal|norddal|nordkapp|davvenjarga|xn--davvenjrga-y4a|nordre-land|nordreisa|raisa|xn--risa-5na|nore-og-uvdal|notodden|naroy|xn--nry-yla5g|notteroy|xn--nttery-byae|odda|oksnes|xn--ksnes-uua|oppdal|oppegard|xn--oppegrd-ixa|orkdal|orland|xn--rland-uua|orskog|xn--rskog-uua|orsta|xn--rsta-fra|os.hedmark|os.hordaland|osen|osteroy|xn--ostery-fya|ostre-toten|xn--stre-toten-zcb|overhalla|ovre-eiker|xn--vre-eiker-k8a|oyer|xn--yer-zna|oygarden|xn--ygarden-p1a|oystre-slidre|xn--ystre-slidre-ujb|porsanger|porsangu|xn--porsgu-sta26f|porsgrunn|radoy|xn--rady-ira|rakkestad|rana|ruovat|randaberg|rauma|rendalen|rennebu|rennesoy|xn--rennesy-v1a|rindal|ringebu|ringerike|ringsaker|rissa|risor|xn--risr-ira|roan|rollag|rygge|ralingen|xn--rlingen-mxa|rodoy|xn--rdy-0nab|romskog|xn--rmskog-bya|roros|xn--rros-gra|rost|xn--rst-0na|royken|xn--ryken-vua|royrvik|xn--ryrvik-bya|rade|xn--rde-ula|salangen|siellak|saltdal|salat|xn--slt-elab|xn--slat-5na|samnanger|sande.more-og-romsdal|sande.xn--mre-og-romsdal-qqb|sande.vestfold|sandefjord|sandnes|sandoy|xn--sandy-yua|sarpsborg|sauda|sauherad|sel|selbu|selje|seljord|sigdal|siljan|sirdal|skaun|skedsmo|ski|skien|skiptvet|skjervoy|xn--skjervy-v1a|skierva|xn--skierv-uta|skjak|xn--skjk-soa|skodje|skanland|xn--sknland-fxa|skanit|xn--sknit-yqa|smola|xn--smla-hra|snillfjord|snasa|xn--snsa-roa|snoasa|snaase|xn--snase-nra|sogndal|sokndal|sola|solund|songdalen|sortland|spydeberg|stange|stavanger|steigen|steinkjer|stjordal|xn--stjrdal-s1a|stokke|stor-elvdal|stord|stordal|storfjord|omasvuotna|strand|stranda|stryn|sula|suldal|sund|sunndal|surnadal|sveio|svelvik|sykkylven|sogne|xn--sgne-gra|somna|xn--smna-gra|sondre-land|xn--sndre-land-0cb|sor-aurdal|xn--sr-aurdal-l8a|sor-fron|xn--sr-fron-q1a|sor-odal|xn--sr-odal-q1a|sor-varanger|xn--sr-varanger-ggb|matta-varjjat|xn--mtta-vrjjat-k7af|sorfold|xn--srfold-bya|sorreisa|xn--srreisa-q1a|sorum|xn--srum-gra|tana|deatnu|time|tingvoll|tinn|tjeldsund|dielddanuorri|tjome|xn--tjme-hra|tokke|tolga|torsken|tranoy|xn--trany-yua|tromso|xn--troms-zua|tromsa|romsa|trondheim|troandin|trysil|trana|xn--trna-woa|trogstad|xn--trgstad-r1a|tvedestrand|tydal|tynset|tysfjord|divtasvuodna|divttasvuotna|tysnes|tysvar|xn--tysvr-vra|tonsberg|xn--tnsberg-q1a|ullensaker|ullensvang|ulvik|utsira|vadso|xn--vads-jra|cahcesuolo|xn--hcesuolo-7ya35b|vaksdal|valle|vang|vanylven|vardo|xn--vard-jra|varggat|xn--vrggt-xqad|vefsn|vaapste|vega|vegarshei|xn--vegrshei-c0a|vennesla|verdal|verran|vestby|vestnes|vestre-slidre|vestre-toten|vestvagoy|xn--vestvgy-ixa6o|vevelstad|vik|vikna|vindafjord|volda|voss|varoy|xn--vry-yla5g|vagan|xn--vgan-qoa|voagat|vagsoy|xn--vgsy-qoa0j|vaga|xn--vg-yiab|valer.ostfold|xn--vler-qoa.xn--stfold-9xa|valer.hedmark|xn--vler-qoa.hedmark|co|blogspot","np":"*","nr":"biz|info|gov|edu|org|net|com","nu":"merseine|mine|shacknet","nz":"ac|co|cri|geek|gen|govt|health|iwi|kiwi|maori|mil|xn--mori-qsa|net|org|parliament|school|blogspot.co","om":"co|com|edu|gov|med|museum|net|org|pro","org":"ae|us|c.cdn77|rsc.cdn77|ssl.origin.cdn77-secure|duckdns|dyndns|blogdns|blogsite|boldlygoingnowhere|dnsalias|dnsdojo|doesntexist|dontexist|doomdns|dvrdns|dynalias|endofinternet|endoftheinternet|from-me|game-host|go.dyndns|gotdns|hobby-site|home.dyndns|homedns|homeftp|homelinux|homeunix|is-a-bruinsfan|is-a-candidate|is-a-celticsfan|is-a-chef|is-a-geek|is-a-knight|is-a-linux-user|is-a-patsfan|is-a-soxfan|is-found|is-lost|is-saved|is-very-bad|is-very-evil|is-very-good|is-very-nice|is-very-sweet|isa-geek|kicks-ass|misconfused|podzone|readmyblog|selfip|sellsyourhome|servebbs|serveftp|servegame|stuff-4-sale|webhop|eu|al.eu|asso.eu|at.eu|au.eu|be.eu|bg.eu|ca.eu|cd.eu|ch.eu|cn.eu|cy.eu|cz.eu|de.eu|dk.eu|edu.eu|ee.eu|es.eu|fi.eu|fr.eu|gr.eu|hr.eu|hu.eu|ie.eu|il.eu|in.eu|int.eu|is.eu|it.eu|jp.eu|kr.eu|lt.eu|lu.eu|lv.eu|mc.eu|me.eu|mk.eu|mt.eu|my.eu|net.eu|ng.eu|nl.eu|no.eu|nz.eu|paris.eu|pl.eu|pt.eu|q-a.eu|ro.eu|ru.eu|se.eu|si.eu|sk.eu|tr.eu|uk.eu|us.eu|bmoattachments|hk|za","pa":"ac|gob|com|org|sld|edu|net|ing|abo|med|nom","pe":"edu|gob|nom|mil|org|com|net|blogspot","pf":"com|org|edu","pg":"*","ph":"com|net|org|gov|edu|ngo|mil|i","pk":"com|net|edu|org|fam|biz|web|gov|gob|gok|gon|gop|gos|info","pl":"com|net|org|aid|agro|atm|auto|biz|edu|gmina|gsm|info|mail|miasta|media|mil|nieruchomosci|nom|pc|powiat|priv|realestate|rel|sex|shop|sklep|sos|szkola|targi|tm|tourism|travel|turystyka|gov|ap.gov|ic.gov|is.gov|us.gov|kmpsp.gov|kppsp.gov|kwpsp.gov|psp.gov|wskr.gov|kwp.gov|mw.gov|ug.gov|um.gov|umig.gov|ugim.gov|upow.gov|uw.gov|starostwo.gov|pa.gov|po.gov|psse.gov|pup.gov|rzgw.gov|sa.gov|so.gov|sr.gov|wsa.gov|sko.gov|uzs.gov|wiih.gov|winb.gov|pinb.gov|wios.gov|witd.gov|wzmiuw.gov|piw.gov|wiw.gov|griw.gov|wif.gov|oum.gov|sdn.gov|zp.gov|uppo.gov|mup.gov|wuoz.gov|konsulat.gov|oirm.gov|augustow|babia-gora|bedzin|beskidy|bialowieza|bialystok|bielawa|bieszczady|boleslawiec|bydgoszcz|bytom|cieszyn|czeladz|czest|dlugoleka|elblag|elk|glogow|gniezno|gorlice|grajewo|ilawa|jaworzno|jelenia-gora|jgora|kalisz|kazimierz-dolny|karpacz|kartuzy|kaszuby|katowice|kepno|ketrzyn|klodzko|kobierzyce|kolobrzeg|konin|konskowola|kutno|lapy|lebork|legnica|lezajsk|limanowa|lomza|lowicz|lubin|lukow|malbork|malopolska|mazowsze|mazury|mielec|mielno|mragowo|naklo|nowaruda|nysa|olawa|olecko|olkusz|olsztyn|opoczno|opole|ostroda|ostroleka|ostrowiec|ostrowwlkp|pila|pisz|podhale|podlasie|polkowice|pomorze|pomorskie|prochowice|pruszkow|przeworsk|pulawy|radom|rawa-maz|rybnik|rzeszow|sanok|sejny|slask|slupsk|sosnowiec|stalowa-wola|skoczow|starachowice|stargard|suwalki|swidnica|swiebodzin|swinoujscie|szczecin|szczytno|tarnobrzeg|tgory|turek|tychy|ustka|walbrzych|warmia|warszawa|waw|wegrow|wielun|wlocl|wloclawek|wodzislaw|wolomin|wroclaw|zachpomor|zagan|zarow|zgora|zgorzelec|co|art|gliwice|krakow|poznan|wroc|zakopane|gda|gdansk|gdynia|med|sopot","pm":"","pn":"gov|co|org|edu|net","post":"","pr":"com|net|org|gov|edu|isla|pro|biz|info|name|est|prof|ac","pro":"aca|bar|cpa|jur|law|med|eng","ps":"edu|gov|sec|plo|com|org|net","pt":"net|gov|org|edu|int|publ|com|nome|blogspot","pw":"co|ne|or|ed|go|belau","py":"com|coop|edu|gov|mil|net|org","qa":"com|edu|gov|mil|name|net|org|sch|blogspot","re":"com|asso|nom|blogspot","ro":"com|org|tm|nt|nom|info|rec|arts|firm|store|www|blogspot","rs":"co|org|edu|ac|gov|in|blogspot","ru":"ac|com|edu|int|net|org|pp|adygeya|altai|amur|arkhangelsk|astrakhan|bashkiria|belgorod|bir|bryansk|buryatia|cbg|chel|chelyabinsk|chita|chukotka|chuvashia|dagestan|dudinka|e-burg|grozny|irkutsk|ivanovo|izhevsk|jar|joshkar-ola|kalmykia|kaluga|kamchatka|karelia|kazan|kchr|kemerovo|khabarovsk|khakassia|khv|kirov|koenig|komi|kostroma|krasnoyarsk|kuban|kurgan|kursk|lipetsk|magadan|mari|mari-el|marine|mordovia|msk|murmansk|nalchik|nnov|nov|novosibirsk|nsk|omsk|orenburg|oryol|palana|penza|perm|ptz|rnd|ryazan|sakhalin|samara|saratov|simbirsk|smolensk|spb|stavropol|stv|surgut|tambov|tatarstan|tom|tomsk|tsaritsyn|tsk|tula|tuva|tver|tyumen|udm|udmurtia|ulan-ude|vladikavkaz|vladimir|vladivostok|volgograd|vologda|voronezh|vrn|vyatka|yakutia|yamal|yaroslavl|yekaterinburg|yuzhno-sakhalinsk|amursk|baikal|cmw|fareast|jamal|kms|k-uralsk|kustanai|kuzbass|magnitka|mytis|nakhodka|nkz|norilsk|oskol|pyatigorsk|rubtsovsk|snz|syzran|vdonsk|zgrad|gov|mil|test|blogspot","rw":"gov|net|edu|ac|com|co|int|mil|gouv","sa":"com|net|org|gov|med|pub|edu|sch","sb":"com|edu|gov|net|org","sc":"com|gov|net|org|edu","sd":"com|net|org|edu|med|tv|gov|info","se":"a|ac|b|bd|brand|c|d|e|f|fh|fhsk|fhv|g|h|i|k|komforb|kommunalforbund|komvux|l|lanbib|m|n|naturbruksgymn|o|org|p|parti|pp|press|r|s|t|tm|u|w|x|y|z|com|blogspot","sg":"com|net|org|gov|edu|per|blogspot","sh":"com|net|gov|org|mil|*platform","si":"blogspot","sj":"","sk":"blogspot","sl":"com|net|edu|gov|org","sm":"","sn":"art|com|edu|gouv|org|perso|univ|blogspot","so":"com|net|org","sr":"","st":"co|com|consulado|edu|embaixada|gov|mil|net|org|principe|saotome|store","su":"adygeya|arkhangelsk|balashov|bashkiria|bryansk|dagestan|grozny|ivanovo|kalmykia|kaluga|karelia|khakassia|krasnodar|kurgan|lenug|mordovia|msk|murmansk|nalchik|nov|obninsk|penza|pokrovsk|sochi|spb|togliatti|troitsk|tula|tuva|vladikavkaz|vladimir|vologda","sv":"com|edu|gob|org|red","sx":"gov","sy":"edu|gov|net|mil|com|org","sz":"co|ac|org","tc":"","td":"blogspot","tel":"","tf":"","tg":"","th":"ac|co|go|in|mi|net|or","tj":"ac|biz|co|com|edu|go|gov|int|mil|name|net|nic|org|test|web","tk":"","tl":"gov","tm":"com|co|org|net|nom|gov|mil|edu","tn":"com|ens|fin|gov|ind|intl|nat|net|org|info|perso|tourism|edunet|rnrt|rns|rnu|mincom|agrinet|defense|turen","to":"com|gov|net|org|edu|mil","tp":"","tr":"com|info|biz|net|org|web|gen|tv|av|dr|bbs|name|tel|gov|bel|pol|mil|k12|edu|kep|nc|gov.nc|blogspot.com","travel":"","tt":"co|com|org|net|biz|info|pro|int|coop|jobs|mobi|travel|museum|aero|name|gov|edu","tv":"dyndns|better-than|on-the-web|worse-than","tw":"edu|gov|mil|com|net|org|idv|game|ebiz|club|xn--zf0ao64a|xn--uc0atv|xn--czrw28b|blogspot","tz":"ac|co|go|hotel|info|me|mil|mobi|ne|or|sc|tv","ua":"com|edu|gov|in|net|org|cherkassy|cherkasy|chernigov|chernihiv|chernivtsi|chernovtsy|ck|cn|cr|crimea|cv|dn|dnepropetrovsk|dnipropetrovsk|dominic|donetsk|dp|if|ivano-frankivsk|kh|kharkiv|kharkov|kherson|khmelnitskiy|khmelnytskyi|kiev|kirovograd|km|kr|krym|ks|kv|kyiv|lg|lt|lugansk|lutsk|lv|lviv|mk|mykolaiv|nikolaev|od|odesa|odessa|pl|poltava|rivne|rovno|rv|sb|sebastopol|sevastopol|sm|sumy|te|ternopil|uz|uzhgorod|vinnica|vinnytsia|vn|volyn|yalta|zaporizhzhe|zaporizhzhia|zhitomir|zhytomyr|zp|zt|biz|co|pp","ug":"co|or|ac|sc|go|ne|com|org|blogspot","uk":"ac|co|gov|ltd|me|net|nhs|org|plc|police|*sch|service.gov|blogspot.co","us":"dni|fed|isa|kids|nsn|ak|al|ar|as|az|ca|co|ct|dc|de|fl|ga|gu|hi|ia|id|il|in|ks|ky|la|ma|md|me|mi|mn|mo|ms|mt|nc|nd|ne|nh|nj|nm|nv|ny|oh|ok|or|pa|pr|ri|sc|sd|tn|tx|ut|vi|vt|va|wa|wi|wv|wy|k12.ak|k12.al|k12.ar|k12.as|k12.az|k12.ca|k12.co|k12.ct|k12.dc|k12.de|k12.fl|k12.ga|k12.gu|k12.ia|k12.id|k12.il|k12.in|k12.ks|k12.ky|k12.la|k12.ma|k12.md|k12.me|k12.mi|k12.mn|k12.mo|k12.ms|k12.mt|k12.nc|k12.ne|k12.nh|k12.nj|k12.nm|k12.nv|k12.ny|k12.oh|k12.ok|k12.or|k12.pa|k12.pr|k12.ri|k12.sc|k12.tn|k12.tx|k12.ut|k12.vi|k12.vt|k12.va|k12.wa|k12.wi|k12.wy|cc.ak|cc.al|cc.ar|cc.as|cc.az|cc.ca|cc.co|cc.ct|cc.dc|cc.de|cc.fl|cc.ga|cc.gu|cc.hi|cc.ia|cc.id|cc.il|cc.in|cc.ks|cc.ky|cc.la|cc.ma|cc.md|cc.me|cc.mi|cc.mn|cc.mo|cc.ms|cc.mt|cc.nc|cc.nd|cc.ne|cc.nh|cc.nj|cc.nm|cc.nv|cc.ny|cc.oh|cc.ok|cc.or|cc.pa|cc.pr|cc.ri|cc.sc|cc.sd|cc.tn|cc.tx|cc.ut|cc.vi|cc.vt|cc.va|cc.wa|cc.wi|cc.wv|cc.wy|lib.ak|lib.al|lib.ar|lib.as|lib.az|lib.ca|lib.co|lib.ct|lib.dc|lib.de|lib.fl|lib.ga|lib.gu|lib.hi|lib.ia|lib.id|lib.il|lib.in|lib.ks|lib.ky|lib.la|lib.ma|lib.md|lib.me|lib.mi|lib.mn|lib.mo|lib.ms|lib.mt|lib.nc|lib.nd|lib.ne|lib.nh|lib.nj|lib.nm|lib.nv|lib.ny|lib.oh|lib.ok|lib.or|lib.pa|lib.pr|lib.ri|lib.sc|lib.sd|lib.tn|lib.tx|lib.ut|lib.vi|lib.vt|lib.va|lib.wa|lib.wi|lib.wy|pvt.k12.ma|chtr.k12.ma|paroch.k12.ma|is-by|land-4-sale|stuff-4-sale","uy":"com|edu|gub|mil|net|org|blogspot.com","uz":"co|com|net|org","va":"","vc":"com|net|org|gov|mil|edu","ve":"arts|co|com|e12|edu|firm|gob|gov|info|int|mil|net|org|rec|store|tec|web","vg":"","vi":"co|com|k12|net|org","vn":"com|net|org|edu|gov|int|ac|biz|info|name|pro|health|blogspot","vu":"com|edu|net|org","wf":"","ws":"com|net|org|gov|edu|dyndns|mypets","yt":"","xn--mgbaam7a8h":"","xn--y9a3aq":"","xn--54b7fta0cc":"","xn--90ais":"","xn--fiqs8s":"","xn--fiqz9s":"","xn--lgbbat1ad8j":"","xn--wgbh1c":"","xn--node":"","xn--qxam":"","xn--j6w193g":"","xn--h2brj9c":"","xn--mgbbh1a71e":"","xn--fpcrj9c3d":"","xn--gecrj9c":"","xn--s9brj9c":"","xn--45brj9c":"","xn--xkc2dl3a5ee0h":"","xn--mgba3a4f16a":"","xn--mgba3a4fra":"","xn--mgbtx2b":"","xn--mgbayh7gpa":"","xn--3e0b707e":"","xn--80ao21a":"","xn--fzc2c9e2c":"","xn--xkc2al3hye2a":"","xn--mgbc0a9azcg":"","xn--d1alf":"","xn--l1acc":"","xn--mix891f":"","xn--mix082f":"","xn--mgbx4cd0ab":"","xn--mgb9awbf":"","xn--mgbai9azgqp6j":"","xn--mgbai9a5eva00b":"","xn--ygbi2ammx":"","xn--90a3ac":"xn--o1ac|xn--c1avg|xn--90azh|xn--d1at|xn--o1ach|xn--80au","xn--p1ai":"","xn--wgbl6a":"","xn--mgberp4a5d4ar":"","xn--mgberp4a5d4a87g":"","xn--mgbqly7c0a67fbc":"","xn--mgbqly7cvafr":"","xn--mgbpl2fh":"","xn--yfro4i67o":"","xn--clchc0ea0b2g2a9gcd":"","xn--ogbpf8fl":"","xn--mgbtf8fl":"","xn--o3cw4h":"","xn--pgbs0dh":"","xn--kpry57d":"","xn--kprw13d":"","xn--nnx388a":"","xn--j1amh":"","xn--mgb2ddes":"","xxx":"","ye":"*","za":"ac|agrica|alt|co|edu|gov|grondar|law|mil|net|ngo|nis|nom|org|school|tm|web|blogspot.co","zm":"*","zw":"*","aaa":"","aarp":"","abarth":"","abb":"","abbott":"","abbvie":"","abc":"","able":"","abogado":"","abudhabi":"","academy":"","accenture":"","accountant":"","accountants":"","aco":"","active":"","actor":"","adac":"","ads":"","adult":"","aeg":"","aetna":"","afamilycompany":"","afl":"","africa":"","africamagic":"","agakhan":"","agency":"","aig":"","aigo":"","airbus":"","airforce":"","airtel":"","akdn":"","alfaromeo":"","alibaba":"","alipay":"","allfinanz":"","allstate":"","ally":"","alsace":"","alstom":"","americanexpress":"","americanfamily":"","amex":"","amfam":"","amica":"","amsterdam":"","analytics":"","android":"","anquan":"","anz":"","aol":"","apartments":"","app":"","apple":"","aquarelle":"","aramco":"","archi":"","army":"","arte":"","asda":"","associates":"","athleta":"","attorney":"","auction":"","audi":"","audible":"","audio":"","auspost":"","author":"","auto":"","autos":"","avianca":"","aws":"","axa":"","azure":"","baby":"","baidu":"","banamex":"","bananarepublic":"","band":"","bank":"","bar":"","barcelona":"","barclaycard":"","barclays":"","barefoot":"","bargains":"","baseball":"","basketball":"","bauhaus":"","bayern":"","bbc":"","bbt":"","bbva":"","bcg":"","bcn":"","beats":"","beer":"","bentley":"","berlin":"","best":"","bestbuy":"","bet":"","bharti":"","bible":"","bid":"","bike":"","bing":"","bingo":"","bio":"","black":"","blackfriday":"","blanco":"","blockbuster":"","blog":"","bloomberg":"","blue":"","bms":"","bmw":"","bnl":"","bnpparibas":"","boats":"","boehringer":"","bofa":"","bom":"","bond":"","boo":"","book":"","booking":"","boots":"","bosch":"","bostik":"","bot":"","boutique":"","bradesco":"","bridgestone":"","broadway":"","broker":"","brother":"","brussels":"","budapest":"","bugatti":"","build":"","builders":"","business":"","buy":"","buzz":"","bzh":"","cab":"","cafe":"","cal":"","call":"","calvinklein":"","camera":"","camp":"","cancerresearch":"","canon":"","capetown":"","capital":"","capitalone":"","car":"","caravan":"","cards":"","care":"","career":"","careers":"","cars":"","cartier":"","casa":"","case":"","caseih":"","cash":"","casino":"","catering":"","catholic":"","cba":"","cbn":"","cbre":"","cbs":"","ceb":"","center":"","ceo":"","cern":"","cfa":"","cfd":"","chanel":"","channel":"","chase":"","chat":"","cheap":"","chintai":"","chloe":"","christmas":"","chrome":"","chrysler":"","church":"","cipriani":"","circle":"","cisco":"","citadel":"","citi":"","citic":"","city":"","cityeats":"","claims":"","cleaning":"","click":"","clinic":"","clinique":"","clothing":"","cloud":"","club":"","clubmed":"","coach":"","codes":"","coffee":"","college":"","cologne":"","comcast":"","commbank":"","community":"","company":"","compare":"","computer":"","comsec":"","condos":"","construction":"","consulting":"","contact":"","contractors":"","cooking":"","cookingchannel":"","cool":"","corsica":"","country":"","coupon":"","coupons":"","courses":"","credit":"","creditcard":"","creditunion":"","cricket":"","crown":"","crs":"","cruises":"","csc":"","cuisinella":"","cymru":"","cyou":"","dabur":"","dad":"","dance":"","date":"","dating":"","datsun":"","day":"","dclk":"","dds":"","deal":"","dealer":"","deals":"","degree":"","delivery":"","dell":"","deloitte":"","delta":"","democrat":"","dental":"","dentist":"","desi":"","design":"","dev":"","dhl":"","diamonds":"","diet":"","digital":"","direct":"","directory":"","discount":"","discover":"","dish":"","diy":"","dnp":"","docs":"","dodge":"","dog":"","doha":"","domains":"","doosan":"","dot":"","download":"","drive":"","dstv":"","dtv":"","dubai":"","duck":"","dunlop":"","duns":"","dupont":"","durban":"","dvag":"","dwg":"","earth":"","eat":"","edeka":"","education":"","email":"","emerck":"","emerson":"","energy":"","engineer":"","engineering":"","enterprises":"","epost":"","epson":"","equipment":"","ericsson":"","erni":"","esq":"","estate":"","esurance":"","etisalat":"","eurovision":"","eus":"","events":"","everbank":"","exchange":"","expert":"","exposed":"","express":"","extraspace":"","fage":"","fail":"","fairwinds":"","faith":"","family":"","fan":"","fans":"","farm":"","farmers":"","fashion":"","fast":"","fedex":"","feedback":"","ferrari":"","ferrero":"","fiat":"","fidelity":"","fido":"","film":"","final":"","finance":"","financial":"","fire":"","firestone":"","firmdale":"","fish":"","fishing":"","fit":"","fitness":"","flickr":"","flights":"","flir":"","florist":"","flowers":"","flsmidth":"","fly":"","foo":"","foodnetwork":"","football":"","ford":"","forex":"","forsale":"","forum":"","foundation":"","fox":"","fresenius":"","frl":"","frogans":"","frontdoor":"","frontier":"","ftr":"","fujitsu":"","fujixerox":"","fund":"","furniture":"","futbol":"","fyi":"","gal":"","gallery":"","gallo":"","gallup":"","game":"","games":"","gap":"","garden":"","gbiz":"","gdn":"","gea":"","gent":"","genting":"","george":"","ggee":"","gift":"","gifts":"","gives":"","giving":"","glade":"","glass":"","gle":"","global":"","globo":"","gmail":"","gmo":"","gmx":"","godaddy":"","gold":"","goldpoint":"","golf":"","goo":"","goodhands":"","goodyear":"","goog":"","google":"","gop":"","got":"","gotv":"","grainger":"","graphics":"","gratis":"","green":"","gripe":"","group":"","guardian":"","gucci":"","guge":"","guide":"","guitars":"","guru":"","hamburg":"","hangout":"","haus":"","hbo":"","hdfc":"","hdfcbank":"","health":"","healthcare":"","help":"","helsinki":"","here":"","hermes":"","hgtv":"","hiphop":"","hisamitsu":"","hitachi":"","hiv":"","hkt":"","hockey":"","holdings":"","holiday":"","homedepot":"","homegoods":"","homes":"","homesense":"","honda":"","honeywell":"","horse":"","host":"","hosting":"","hot":"","hoteles":"","hotmail":"","house":"","how":"","hsbc":"","htc":"","hughes":"","hyatt":"","hyundai":"","ibm":"","icbc":"","ice":"","icu":"","ieee":"","ifm":"","iinet":"","ikano":"","imamat":"","imdb":"","immo":"","immobilien":"","industries":"","infiniti":"","ing":"","ink":"","institute":"","insurance":"","insure":"","intel":"","international":"","intuit":"","investments":"","ipiranga":"","irish":"","iselect":"","ismaili":"","ist":"","istanbul":"","itau":"","itv":"","iveco":"","iwc":"","jaguar":"","java":"","jcb":"","jcp":"","jeep":"","jetzt":"","jewelry":"","jio":"","jlc":"","jll":"","jmp":"","jnj":"","joburg":"","jot":"","joy":"","jpmorgan":"","jprs":"","juegos":"","juniper":"","kaufen":"","kddi":"","kerryhotels":"","kerrylogistics":"","kerryproperties":"","kfh":"","kia":"","kim":"","kinder":"","kindle":"","kitchen":"","kiwi":"","koeln":"","komatsu":"","kosher":"","kpmg":"","kpn":"","krd":"","kred":"","kuokgroup":"","kyknet":"","kyoto":"","lacaixa":"","ladbrokes":"","lamborghini":"","lamer":"","lancaster":"","lancia":"","lancome":"","land":"","landrover":"","lanxess":"","lasalle":"","lat":"","latino":"","latrobe":"","law":"","lawyer":"","lds":"","lease":"","leclerc":"","lefrak":"","legal":"","lego":"","lexus":"","lgbt":"","liaison":"","lidl":"","life":"","lifeinsurance":"","lifestyle":"","lighting":"","like":"","lilly":"","limited":"","limo":"","lincoln":"","linde":"","link":"","lipsy":"","live":"","living":"","lixil":"","loan":"","loans":"","locker":"","locus":"","loft":"","lol":"","london":"","lotte":"","lotto":"","love":"","lpl":"","lplfinancial":"","ltd":"","ltda":"","lundbeck":"","lupin":"","luxe":"","luxury":"","macys":"","madrid":"","maif":"","maison":"","makeup":"","man":"","management":"","mango":"","market":"","marketing":"","markets":"","marriott":"","marshalls":"","maserati":"","mattel":"","mba":"","mcd":"","mcdonalds":"","mckinsey":"","med":"","media":"","meet":"","melbourne":"","meme":"","memorial":"","men":"","menu":"","meo":"","metlife":"","miami":"","microsoft":"","mini":"","mint":"","mit":"","mitsubishi":"","mlb":"","mls":"","mma":"","mnet":"","mobily":"","moda":"","moe":"","moi":"","mom":"","monash":"","money":"","monster":"","montblanc":"","mopar":"","mormon":"","mortgage":"","moscow":"","moto":"","motorcycles":"","mov":"","movie":"","movistar":"","msd":"","mtn":"","mtpc":"","mtr":"","multichoice":"","mutual":"","mutuelle":"","mzansimagic":"","nab":"","nadex":"","nagoya":"","naspers":"","nationwide":"","natura":"","navy":"","nba":"","nec":"","netbank":"","netflix":"","network":"","neustar":"","new":"","newholland":"","news":"","next":"","nextdirect":"","nexus":"","nfl":"","ngo":"","nhk":"","nico":"","nike":"","nikon":"","ninja":"","nissan":"","nissay":"","nokia":"","northwesternmutual":"","norton":"","now":"","nowruz":"","nowtv":"","nra":"","nrw":"","ntt":"","nyc":"","obi":"","observer":"","off":"","office":"","okinawa":"","olayan":"","olayangroup":"","oldnavy":"","ollo":"","omega":"","one":"","ong":"","onl":"","online":"","onyourside":"","ooo":"","open":"","oracle":"","orange":"","organic":"","orientexpress":"","origins":"","osaka":"","otsuka":"","ott":"","ovh":"","page":"","pamperedchef":"","panasonic":"","panerai":"","paris":"","pars":"","partners":"","parts":"","party":"","passagens":"","pay":"","payu":"","pccw":"","pet":"","pfizer":"","pharmacy":"","philips":"","photo":"","photography":"","photos":"","physio":"","piaget":"","pics":"","pictet":"","pictures":"","pid":"","pin":"","ping":"","pink":"","pioneer":"","pizza":"","place":"","play":"","playstation":"","plumbing":"","plus":"","pnc":"","pohl":"","poker":"","politie":"","porn":"","pramerica":"","praxi":"","press":"","prime":"","prod":"","productions":"","prof":"","progressive":"","promo":"","properties":"","property":"","protection":"","pru":"","prudential":"","pub":"","pwc":"","qpon":"","quebec":"","quest":"","qvc":"","racing":"","raid":"","read":"","realestate":"","realtor":"","realty":"","recipes":"","red":"","redstone":"","redumbrella":"","rehab":"","reise":"","reisen":"","reit":"","reliance":"","ren":"","rent":"","rentals":"","repair":"","report":"","republican":"","rest":"","restaurant":"","review":"","reviews":"","rexroth":"","rich":"","richardli":"","ricoh":"","rightathome":"","ril":"","rio":"","rip":"","rocher":"","rocks":"","rodeo":"","rogers":"","room":"","rsvp":"","ruhr":"","run":"","rwe":"","ryukyu":"","saarland":"","safe":"","safety":"","sakura":"","sale":"","salon":"","samsclub":"","samsung":"","sandvik":"","sandvikcoromant":"","sanofi":"","sap":"","sapo":"","sarl":"","sas":"","save":"","saxo":"","sbi":"","sbs":"","sca":"","scb":"","schaeffler":"","schmidt":"","scholarships":"","school":"","schule":"","schwarz":"","science":"","scjohnson":"","scor":"","scot":"","seat":"","secure":"","security":"","seek":"","select":"","sener":"","services":"","ses":"","seven":"","sew":"","sex":"","sexy":"","sfr":"","shangrila":"","sharp":"","shaw":"","shell":"","shia":"","shiksha":"","shoes":"","shouji":"","show":"","showtime":"","shriram":"","silk":"","sina":"","singles":"","site":"","ski":"","skin":"","sky":"","skype":"","sling":"","smart":"","smile":"","sncf":"","soccer":"","social":"","softbank":"","software":"","sohu":"","solar":"","solutions":"","song":"","sony":"","soy":"","space":"","spiegel":"","spot":"","spreadbetting":"","srl":"","srt":"","stada":"","staples":"","star":"","starhub":"","statebank":"","statefarm":"","statoil":"","stc":"","stcgroup":"","stockholm":"","storage":"","store":"","studio":"","study":"","style":"","sucks":"","supersport":"","supplies":"","supply":"","support":"","surf":"","surgery":"","suzuki":"","swatch":"","swiftcover":"","swiss":"","sydney":"","symantec":"","systems":"","tab":"","taipei":"","talk":"","taobao":"","target":"","tatamotors":"","tatar":"","tattoo":"","tax":"","taxi":"","tci":"","tdk":"","team":"","tech":"","technology":"","telecity":"","telefonica":"","temasek":"","tennis":"","teva":"","thd":"","theater":"","theatre":"","theguardian":"","tiaa":"","tickets":"","tienda":"","tiffany":"","tips":"","tires":"","tirol":"","tjmaxx":"","tjx":"","tkmaxx":"","tmall":"","today":"","tokyo":"","tools":"","top":"","toray":"","toshiba":"","total":"","tours":"","town":"","toyota":"","toys":"","trade":"","trading":"","training":"","travelchannel":"","travelers":"","travelersinsurance":"","trust":"","trv":"","tube":"","tui":"","tunes":"","tushu":"","tvs":"","ubank":"","ubs":"","uconnect":"","unicom":"","university":"","uno":"","uol":"","ups":"","vacations":"","vana":"","vanguard":"","vegas":"","ventures":"","verisign":"","versicherung":"","vet":"","viajes":"","video":"","vig":"","viking":"","villas":"","vin":"","vip":"","virgin":"","visa":"","vision":"","vista":"","vistaprint":"","viva":"","vivo":"","vlaanderen":"","vodka":"","volkswagen":"","vote":"","voting":"","voto":"","voyage":"","vuelos":"","wales":"","walmart":"","walter":"","wang":"","wanggou":"","warman":"","watch":"","watches":"","weather":"","weatherchannel":"","webcam":"","weber":"","website":"","wed":"","wedding":"","weibo":"","weir":"","whoswho":"","wien":"","wiki":"","williamhill":"","win":"","windows":"","wine":"","winners":"","wme":"","wolterskluwer":"","woodside":"","work":"","works":"","world":"","wow":"","wtc":"","wtf":"","xbox":"","xerox":"","xfinity":"","xihuan":"","xin":"","xn--11b4c3d":"","xn--1ck2e1b":"","xn--1qqw23a":"","xn--30rr7y":"","xn--3bst00m":"","xn--3ds443g":"","xn--3oq18vl8pn36a":"","xn--3pxu8k":"","xn--42c2d9a":"","xn--45q11c":"","xn--4gbrim":"","xn--4gq48lf9j":"","xn--55qw42g":"","xn--55qx5d":"","xn--5su34j936bgsg":"","xn--5tzm5g":"","xn--6frz82g":"","xn--6qq986b3xl":"","xn--80adxhks":"","xn--80aqecdr1a":"","xn--80asehdb":"","xn--80aswg":"","xn--8y0a063a":"","xn--9dbq2a":"","xn--9et52u":"","xn--9krt00a":"","xn--b4w605ferd":"","xn--bck1b9a5dre4c":"","xn--c1avg":"","xn--c2br7g":"","xn--cck2b3b":"","xn--cg4bki":"","xn--czr694b":"","xn--czrs0t":"","xn--czru2d":"","xn--d1acj3b":"","xn--eckvdtc9d":"","xn--efvy88h":"","xn--estv75g":"","xn--fct429k":"","xn--fhbei":"","xn--fiq228c5hs":"","xn--fiq64b":"","xn--fjq720a":"","xn--flw351e":"","xn--fzys8d69uvgm":"","xn--g2xx48c":"","xn--gckr3f0f":"","xn--gk3at1e":"","xn--hxt814e":"","xn--i1b6b1a6a2e":"","xn--imr513n":"","xn--io0a7i":"","xn--j1aef":"","xn--jlq61u9w7b":"","xn--jvr189m":"","xn--kcrx77d1x4a":"","xn--kpu716f":"","xn--kput3i":"","xn--mgba3a3ejt":"","xn--mgba7c0bbn0a":"","xn--mgbaakc7dvf":"","xn--mgbab2bd":"","xn--mgbb9fbpob":"","xn--mgbca7dzdo":"","xn--mgbi4ecexp":"","xn--mgbt3dhd":"","xn--mk1bu44c":"","xn--mxtq1m":"","xn--ngbc5azd":"","xn--ngbe9e0a":"","xn--nqv7f":"","xn--nqv7fs00ema":"","xn--nyqy26a":"","xn--p1acf":"","xn--pbt977c":"","xn--pssy2u":"","xn--q9jyb4c":"","xn--qcka1pmc":"","xn--rhqv96g":"","xn--rovu88b":"","xn--ses554g":"","xn--t60b56a":"","xn--tckwe":"","xn--tiq49xqyj":"","xn--unup4y":"","xn--vermgensberater-ctb":"","xn--vermgensberatung-pwb":"","xn--vhquv":"","xn--vuq861b":"","xn--w4r85el8fhu5dnra":"","xn--w4rs40l":"","xn--xhq521b":"","xn--zfr164b":"","xperia":"","xyz":"","yachts":"","yahoo":"","yamaxun":"","yandex":"","yodobashi":"","yoga":"","yokohama":"","you":"","youtube":"","yun":"","zappos":"","zara":"","zero":"","zip":"","zippo":"","zone":"","zuerich":""}
},{}],13:[function(require,module,exports){
function calcLocale(e){var a=config.LOCALES,l=a[0],o=localeMap[e.toLowerCase()];if(null!=o)for(var c=0;c<a.length;c++)if(a[c]===o){l=a[c];break}return l}var config=require("../define/config.js"),localeMap=require("../define/localemap.js");module.exports=calcLocale;
},{"../define/config.js":1,"../define/localemap.js":3}],14:[function(require,module,exports){
var FormFillingInfo=require("../lib/formfillinginfo.js");module.exports=new FormFillingInfo;
},{"../lib/formfillinginfo.js":32}],15:[function(require,module,exports){
function FrameReadyEventBroker(){}var console=require("../lib/logger.js"),Url=require("../lib/url.js"),configModule=require("../define/config.js");FrameReadyEventBroker.name="FrameReadyEventBroker",FrameReadyEventBroker.prototype._frameMessageBroker=null,FrameReadyEventBroker.prototype.setFrameMessageBroker=function(e){return this._frameMessageBroker=e,this},FrameReadyEventBroker.prototype.onFrameReady=function(e,r){return null==this._frameMessageBroker?this:(this._frameMessageBroker.onMessage("FrameReady",function(o,n){null==r?e(n,o):e.call(r,n,o)}),this)},FrameReadyEventBroker.prototype.onExtensionFrameReady=function(e,r){if(null==this._frameMessageBroker)return this;var o=this;return this._frameMessageBroker.onMessage("ExtensionFrameReady",function(n,a){if("Message.ExtensionFrame"===n.senderId){var s=!1;if(null!=n.messageOrigin&&(s=configModule.EXTENSIONFRAME_BASEURL.toLowerCase()===n.messageOrigin.toLowerCase()),s===!1)return void console.warn(__GLOBAL_LOG_PREFIX__,"["+o.constructor.name+"][onExtensionFrameReady] Not from Extension Frame origin");null==r?e(n,a):e.call(r,n,a)}}),this},FrameReadyEventBroker.prototype.onTopBarReady=function(e,r){if(null==this._frameMessageBroker)return this;var o=this;return this._frameMessageBroker.onMessage("TopBarReady",function(n,a){if("Message.TopBar"===n.senderId){var s=!1;if(null!=n.messageOrigin&&(s=configModule.EXTENSIONFRAME_BASEURL.toLowerCase()===n.messageOrigin.toLowerCase()),s===!1)return void console.warn(__GLOBAL_LOG_PREFIX__,"["+o.constructor.name+"][onTopBarReady] Not from Top Bar origin");null==r?e(a,n):e.call(r,a,n)}}),this},FrameReadyEventBroker.prototype.onExtensionReady=function(e,r){return null==this._frameMessageBroker?this:(this._frameMessageBroker.onMessage("ExtensionReady",function(o,n){"Message.Extension"===o.senderId&&(null==r?e(n,o):e.call(r,n,o))}),this)},module.exports=FrameReadyEventBroker;
},{"../define/config.js":1,"../lib/logger.js":44,"../lib/url.js":56}],16:[function(require,module,exports){
function Handshake(){}var Util=require("../lib/util.js"),console=require("../lib/logger.js"),FrameReadyEventBroker=require("./framereadyeventbroker.js"),configModule=require("../define/config.js"),SecureFrameProxy=require("../lib/secureframeproxy.js");Handshake.util={},Handshake.util.getExtensionFrameIndex=function(e){var n=-1,a=window.frames.length;null==a&&(a=100);for(var r=0;a>r;r++)if(Util.isSameWindow(window.frames[r],e)===!0){n=r;break}return n},Handshake.frames={},Handshake.frames.topFrame=function(e,n,a){var r=new FrameReadyEventBroker;r.setFrameMessageBroker(e);var o=null,s=-1;r.onFrameReady(function(e){if(console.log(__GLOBAL_LOG_PREFIX__,"TopFrame: Frame Ready"),Util.isWindowAvailable(o)===!0){var a=Handshake.util.getExtensionFrameIndex(o);a>-1&&a!=s&&(console.warn(__GLOBAL_LOG_PREFIX__,"Extension Frame index changed!!!"),s=a,n.updateMessage("ExtensionFrameReady",{extensionFrameIndex:s}))}var r=n.isAlreadyAdded(e);return null!=r?void console.info(__GLOBAL_LOG_PREFIX__,"Frame already added!! Skip adding it to group"):void n.addMessageProxy(e)}),r.onExtensionFrameReady(function(e,r){console.log(__GLOBAL_LOG_PREFIX__,"TopFrame: ExtensionFrame Ready");var t=r.getTargetInfo();o=t.window,s=Handshake.util.getExtensionFrameIndex(o),n.broadcastMessage("ExtensionFrameReady",{extensionFrameIndex:s},null,!0),t.origin=configModule.EXTENSIONFRAME_BASEURL,a.setTargetInfo(t);var i={targetId:e.targetId,messageId:"ExtensionFrameProxyReady",message:null,senderId:e.senderId};a.forwardMessage(i)})},Handshake.frames.frame=function(e,n,a){e.onMessage("ExtensionFrameReady",function(e,r){console.log(__GLOBAL_LOG_PREFIX__,"Frame: ExtensionFrame Ready");var o=e.message;if(null!=o&&null!=o.extensionFrameIndex){var s=null;try{s=window.top.frames.extensionFrame}catch(t){console.info(__GLOBAL_LOG_PREFIX__,"Cannot retrieve extensionFrame using name")}if(Util.isWindowAvailable(s)===!1&&-1!==o.extensionFrameIndex&&(console.info(__GLOBAL_LOG_PREFIX__,"Retrieve extensionFrame using index"),s=window.top.frames[o.extensionFrameIndex]),Util.isWindowAvailable(s)===!1)return void console.error(__GLOBAL_LOG_PREFIX__,"Cannot retrieve extensionFrame!!");var i=n.getTargetInfo();if(Util.isWindowAvailable(i.window)===!0&&Util.isSameWindow(i.window,s)===!0)return void console.info(__GLOBAL_LOG_PREFIX__,"Same Extension Frame window");i.targetId="Message.ExtensionFrame",i.window=s,i.origin=configModule.EXTENSIONFRAME_BASEURL,i.encKey=a,n.setTargetInfo(i),n.postMessage("FrameReady",{senderDecKey:a}),n.setDecKey(a)}}),e.postMessage("FrameReady")},Handshake.frames.extensionFrame=function(e,n,a){var r=new FrameReadyEventBroker;r.setFrameMessageBroker(n),r.onFrameReady(function(e,n){function r(e,n){return e===n?!0:e.hasSameTargetSource(n)}console.log(__GLOBAL_LOG_PREFIX__,"ExtensionFrame: Frame Ready");var o=n.message,s=null;null!=o&&(s=o.senderDecKey);var t=new SecureFrameProxy,i=e.getTargetInfo();i.encKey=s,t.setTargetInfo(i),t.setDecKey(s),t.setSenderId(e.getSenderId());var d=a.isAlreadyAdded(t,r);null!=d?(console.info(__GLOBAL_LOG_PREFIX__,"ExtensionFrame: Disable frame: "+i.targetId),d.setEnable(!1)):(console.info(__GLOBAL_LOG_PREFIX__,"ExtensionFrame: Handshake done, frame: "+i.targetId),null==s?t.setEnable(!1):t.postMessage("HandshakeResponse","Done handshake!"),a.addMessageProxy(t))}),e.postMessage("ExtensionFrameReady")},Handshake.extension={},Handshake.extension.extensionFrame=function(e,n,a){var r=new FrameReadyEventBroker;r.setFrameMessageBroker(e),r.onExtensionReady(function(e,r){console.log(__GLOBAL_LOG_PREFIX__,"ExtensionFrame: Extension Ready");var o=r.message;if(null!=o){var s=n.getTargetInfo();s.elementId=o.elementId,s.eventName=o.eventName,n.setTargetInfo(s),a.sendMessage("ExtensionProxyReady")}})},Handshake.topBar={},Handshake.topBar.topFrame=function(e,n){var a=new FrameReadyEventBroker;a.setFrameMessageBroker(e),a.onTopBarReady(function(e,a){var r=n.getTargetInfo(),o=Handshake.util.getExtensionFrameIndex(r.window),s=e.getTargetInfo();s.origin=configModule.EXTENSIONFRAME_BASEURL,e.setTargetInfo(s),e.postMessage("ExtensionFrameReady",{extensionFrameIndex:o})})},Handshake.topBar.topBar=function(e,n){e.oneMessage("ExtensionFrameReady",function(e,a){console.log(__GLOBAL_LOG_PREFIX__,"Frame: ExtensionFrame Ready");var r=e.message;if(null!=r&&null!=r.extensionFrameIndex){var o=null;try{o=window.top.frames.extensionFrame}catch(s){console.info(__GLOBAL_LOG_PREFIX__,"Cannot retrieve extensionFrame using name")}if(Util.isWindowAvailable(o)===!1&&-1!==r.extensionFrameIndex&&(console.info(__GLOBAL_LOG_PREFIX__,"Retrieve extensionFrame using index"),o=window.top.frames[r.extensionFrameIndex]),Util.isWindowAvailable(o)===!1)return void console.error(__GLOBAL_LOG_PREFIX__,"Cannot retrieve extensionFrame!!");var t=n.getTargetInfo();t.targetId="Message.ExtensionFrame",t.window=o,t.origin=configModule.EXTENSIONFRAME_BASEURL,n.setTargetInfo(t),n.postMessage("TopBarReady")}}),e.postMessage("TopBarReady")},Handshake.topBar.extensionFrame=function(e,n){var a=new FrameReadyEventBroker;a.setFrameMessageBroker(n),a.onTopBarReady(function(n,a){var r=n.getTargetInfo();r.origin=configModule.EXTENSIONFRAME_BASEURL,e.setTargetInfo(r);var o={targetId:a.targetId,messageId:"TopBarProxyReady",message:null,senderId:a.senderId};e.forwardMessage(o)})},module.exports=Handshake;
},{"../define/config.js":1,"../lib/logger.js":44,"../lib/secureframeproxy.js":53,"../lib/util.js":57,"./framereadyeventbroker.js":15}],17:[function(require,module,exports){
var config=require("../define/config.js"),appSettings={isPinLocked:!1,isInSecureBrowser:!1,isInMobile:!1,isSupportPB:!1,isSupportWH:!1,l10n:null,towerSettings:{},portalSettings:{},locale:config.LOCALES[0]};module.exports=appSettings;
},{"../define/config.js":1}],18:[function(require,module,exports){
var PasscardProvider=require("../lib/passcardProvider.js");module.exports=new PasscardProvider;
},{"../lib/passcardProvider.js":49}],19:[function(require,module,exports){
var PinManager=require("../lib/pinManager.js");module.exports=new PinManager;
},{"../lib/pinManager.js":50}],20:[function(require,module,exports){
var ExceptionDomain=require("../lib/domainlist.js"),recordExceptionDomain=new ExceptionDomain;module.exports=recordExceptionDomain;
},{"../lib/domainlist.js":28}],21:[function(require,module,exports){
var ExceptionDomain=require("../lib/domainlist.js"),secureBrowserExceptionDomain=new ExceptionDomain("DirectPass.Settings.SecureBrowserExceptionDomain");module.exports=secureBrowserExceptionDomain;
},{"../lib/domainlist.js":28}],22:[function(require,module,exports){
var ExceptionDomain=require("../lib/domainlist.js"),specialDomain=new ExceptionDomain;module.exports=specialDomain;
},{"../lib/domainlist.js":28}],23:[function(require,module,exports){
function TopBarHelper(e,s,o){this.isInMobile=!1,this._topBarProxy=e,this._topFrameProxy=s,this._cachedCommands=[],this._cachedSettingsCommands=[],Handshake.topBar.extensionFrame(e,o),e.onMessage("TopBarProxyReady",function(){console.log(__GLOBAL_LOG_PREFIX__,"topBarProxy: TopBarProxyReady"),this._isTopBarReady=!0,this._isTopBarOpening=!1;for(var e=0;e<this._cachedSettingsCommands.length;e++){var s=this._cachedSettingsCommands[e];console.log(__GLOBAL_LOG_PREFIX__,"[topBarProxy] "+e+" : postMessage("+s.messageId+")"),this._topBarProxy.postMessage(s.messageId,s.message,s.senderId)}this._topBarProxy.offMessage("TopBarConfigured",null,null,"__TOPBARHELPER__"),this._topBarProxy.oneMessage("TopBarConfigured",this._settingsCallback,this,"__TOPBARHELPER__")},this,"__TOPBARHELPER__"),e.onMessage("CloseTopBar",function(){this.close()},this,"__TOPBARHELPER__"),e.onMessage("ShowTopBar",function(e,s){this.show(e)},this,"__TOPBARHELPER__"),e.onMessage("HideTopBar",function(){this.hide()},this,"__TOPBARHELPER__"),e.onMessage("ResizeTopBar",function(e,s){var o=e.message;this.resize(o.width,o.height)},this,"__TOPBARHELPER__"),e.onMessage("StyleTopBar",function(e,s){var o=e.message;this.styleWith(o)},this,"__TOPBARHELPER__"),s.onMessage("TopBarShown",function(s,o){e.postMessage("TopBarShown",s.message)},this,"__TOPBARHELPER__")}var console=require("../lib/logger.js"),Handshake=require("./handshake.js");TopBarHelper.prototype._settingsCallback=function(){console.log(__GLOBAL_LOG_PREFIX__,"topBarProxy: TopBarConfigured");for(var e=0;e<this._cachedCommands.length;e++){var s=this._cachedCommands[e];console.log(__GLOBAL_LOG_PREFIX__,"[topBarProxy] "+e+" : postMessage("+s.messageId+")"),this._topBarProxy.postMessage(s.messageId,s.message,s.senderId)}this._cachedCommands.length=0},TopBarHelper.prototype._topBarProxy=null,TopBarHelper.prototype._topFrameProxy=null,TopBarHelper.prototype._isTopBarReady=!1,TopBarHelper.prototype._isTopBarOpening=!1,TopBarHelper.prototype._cachedCommands=[],TopBarHelper.prototype.postMessage=function(e,s,o){return console.log(__GLOBAL_LOG_PREFIX__,"topBarhelper.postMessage(): "+e),this._isTopBarReady===!1?(this._cachedCommands.push({messageId:e,message:s,senderId:o}),this._isTopBarOpening===!1&&(this._topFrameProxy.postMessage("OpenTopBar",{isInMobile:this.isInMobile}),this._isTopBarOpening=!0),this):(this._topBarProxy.postMessage(e,s,o),this)},TopBarHelper.prototype.postSettingsMessage=function(e,s,o){if(console.log(__GLOBAL_LOG_PREFIX__,"topBarhelper.postSettingsMessage(): "+e),this._isTopBarReady===!1){this._cachedSettingsCommands.push({messageId:e,message:s,senderId:o});for(var t=this._cachedSettingsCommands,r={messageId:e,message:s,senderId:o},a=!1,p=0;p<t.length;p++){var i=t[p];if(i.messageId===r.messageId){t[p]=r,a=!0;break}}return a===!1&&t.push(r),this}return this._topBarProxy.postMessage(e,s,o),this},TopBarHelper.prototype.onMessage=function(e,s,o,t){return null==t&&(t="__OUTTER__"),this._topBarProxy.onMessage(e,s,o,t),this},TopBarHelper.prototype.oneMessage=function(e,s,o,t){return null==t&&(t="__OUTTER__"),this._topBarProxy.oneMessage(e,s,o,t),this},TopBarHelper.prototype.offMessage=function(e,s,o,t){return null==t&&(t="__OUTTER__"),this._topBarProxy.offMessage(e,s,o,t),this},TopBarHelper.prototype.forwardMessage=function(e){var s=this._topBarProxy.getTargetInfo();return e.senderId=s.targetId,this._topBarProxy.forwardMessage(e),this},TopBarHelper.prototype.close=function(){this._isTopBarReady=!1,this._cachedCommands.length=0;var e=this._topBarProxy.getTargetInfo();return e.window=null,e.origin=null,this._topBarProxy.setTargetInfo(e),this._topFrameProxy.postMessage("CloseTopBar"),this},TopBarHelper.prototype.show=function(e){return this._topFrameProxy.postMessage("ShowTopBar",e.message),this},TopBarHelper.prototype.hide=function(){return this._topFrameProxy.postMessage("HideTopBar"),this},TopBarHelper.prototype.resize=function(e,s){return this._topFrameProxy.postMessage("ResizeTopBar",{width:e,height:s}),this},TopBarHelper.prototype.styleWith=function(e){return this._topFrameProxy.postMessage("StyleTopBar",e),this},module.exports=TopBarHelper;
},{"../lib/logger.js":44,"./handshake.js":16}],24:[function(require,module,exports){
function TowerProxy(){var e=[{messageId:"GetPatternByDomain",api:"api/getPatternByDomain",method:"GET",contentType:"text/plain"},{messageId:"SendRealtimeFeedback",api:"api/sendRealtimeFeedback",method:"POST",contentType:"application/json"},{messageId:"IsInSBList",api:"api/isInSBList",method:"GET",contentType:"text/plain"},{messageId:"IsInTIList",api:"api/isInTIList",method:"GET",contentType:"text/plain"},{messageId:"CheckURLinTI",api:"api/checkURLinTI",method:"GET",contentType:"text/plain"},{messageId:"ShouldShowPBTutorial",api:"api/shouldShowPBTutorial",method:"GET",contentType:"text/plain"},{messageId:"SetPBTutorialKey",api:"api/setPBTutorialKey",method:"GET",contentType:"text/plain"},{messageId:"ShowSB",api:"api/showSB",method:"GET",contentType:"text/plain"},{messageId:"DisablePBPromotion",api:"api/disablePBPromotion",method:"GET",contentType:"text/plain"},{messageId:"MasterPasswordInfo",api:"api/masterpassword",method:"GET",contentType:"text/plain"},{messageId:"SettingsInfo",api:"api/settings",method:"GET",contentType:"text/plain"},{messageId:"SessionKeyInfo",api:"api/getSessionKey",method:"GET",contentType:"text/plain"},{messageId:"ProfileInfo",api:"api/extension_profile",method:"GET",contentType:"text/plain"},{messageId:"PasscardsInfo",api:"api/extension_passcard",method:"GET",contentType:"text/plain"},{messageId:"PasscardEditAdd",api:"api/extension_passcard",method:"POST",contentType:"application/json"},{messageId:"PasscardEditUpdate",api:"api/extension_passcard",method:"PUT",contentType:"application/json"},{messageId:"FeedbackPinStatus",api:"api/masterpassword/checkmasterpin_result",method:"GET",contentType:"text/plain"},{messageId:"RecordExceptionDomain.Get",api:"api/record_exception_domain",method:"GET",contentType:"text/plain"},{messageId:"RecordExceptionDomain.Add",api:"api/record_exception_domain",method:"POST",contentType:"application/json"},{messageId:"SBExceptionDomain.Get",api:"api/sb_exception_domain",method:"GET",contentType:"text/plain"},{messageId:"SBExceptionDomain.Add",api:"api/sb_exception_domain",method:"POST",contentType:"application/json"},{messageId:"AddURLintoTIBlackList",api:"api/addurlintoTIblacklist",method:"GET",contentType:"text/plain"},{messageId:"UpdateLastUsed",api:"api/passcard_update/LastUsed",method:"GET",contentType:"text/plain"},{messageId:"SpecialDomain",api:"api/special_domain",method:"GET",contentType:"text/plain"},{messageId:"OpenUrlInDefaultBrowser",api:"api/openUrlInDefaultBrowser",method:"GET",contentType:"text/plain"},{messageId:"TowerInfo",api:"api/getTowerInfo",method:"GET",contentType:"application/json"},{messageId:"DebugLog.Add",api:"api/debugLog",method:"POST",contentType:"application/json"},{messageId:"SendActiveUser",api:"api/sendActiveUser",method:"POST",contentType:"application/json"}],t=new HttpMessageProxy;return t.setTargetInfo({targetId:"Message.Tower",baseAddress:null,apiTable:e}),t}var HttpMessageProxy=require("../lib/httpmessageproxy.js");module.exports=TowerProxy;
},{"../lib/httpmessageproxy.js":37}],25:[function(require,module,exports){
var CryptoJS=CryptoJS||function(t,e){var r={},i=r.lib={},n=function(){},s=i.Base={extend:function(t){n.prototype=this;var e=new n;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=i.WordArray=s.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.words,r=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var n=0;t>n;n++)e[i+n>>>2]|=(r[n>>>2]>>>24-8*(n%4)&255)<<24-8*((i+n)%4);else if(65535<r.length)for(n=0;t>n;n+=4)e[i+n>>>2]=r[n>>>2];else e.push.apply(e,r);return this.sigBytes+=t,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-8*(r%4),e.length=t.ceil(r/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r=[],i=0;e>i;i+=4)r.push(4294967296*t.random()|0);return new c.init(r,e)}}),o=r.enc={},a=o.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],i=0;t>i;i++){var n=e[i>>>2]>>>24-8*(i%4)&255;r.push((n>>>4).toString(16)),r.push((15&n).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,r=[],i=0;e>i;i+=2)r[i>>>3]|=parseInt(t.substr(i,2),16)<<24-4*(i%8);return new c.init(r,e/2)}},h=o.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],i=0;t>i;i++)r.push(String.fromCharCode(e[i>>>2]>>>24-8*(i%4)&255));return r.join("")},parse:function(t){for(var e=t.length,r=[],i=0;e>i;i++)r[i>>>2]|=(255&t.charCodeAt(i))<<24-8*(i%4);return new c.init(r,e)}},l=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},u=i.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,i=r.words,n=r.sigBytes,s=this.blockSize,o=n/(4*s),o=e?t.ceil(o):t.max((0|o)-this._minBufferSize,0);if(e=o*s,n=t.min(4*e,n),e){for(var a=0;e>a;a+=s)this._doProcessBlock(i,a);a=i.splice(0,e),r.sigBytes-=n}return new c.init(a,n)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=u.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new f.HMAC.init(t,r).finalize(e)}}});var f=r.algo={};return r}(Math);!function(){var t=CryptoJS,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,i=this._map;t.clamp(),t=[];for(var n=0;r>n;n+=3)for(var s=(e[n>>>2]>>>24-8*(n%4)&255)<<16|(e[n+1>>>2]>>>24-8*((n+1)%4)&255)<<8|e[n+2>>>2]>>>24-8*((n+2)%4)&255,c=0;4>c&&r>n+.75*c;c++)t.push(i.charAt(s>>>6*(3-c)&63));if(e=i.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var r=t.length,i=this._map,n=i.charAt(64);n&&(n=t.indexOf(n),-1!=n&&(r=n));for(var n=[],s=0,c=0;r>c;c++)if(c%4){var o=i.indexOf(t.charAt(c-1))<<2*(c%4),a=i.indexOf(t.charAt(c))>>>6-2*(c%4);n[s>>>2]|=(o|a)<<24-8*(s%4),s++}return e.create(n,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,r,i,n,s,c){return t=t+(e&r|~e&i)+n+c,(t<<s|t>>>32-s)+e}function r(t,e,r,i,n,s,c){return t=t+(e&i|r&~i)+n+c,(t<<s|t>>>32-s)+e}function i(t,e,r,i,n,s,c){return t=t+(e^r^i)+n+c,(t<<s|t>>>32-s)+e}function n(t,e,r,i,n,s,c){return t=t+(r^(e|~i))+n+c,(t<<s|t>>>32-s)+e}for(var s=CryptoJS,c=s.lib,o=c.WordArray,a=c.Hasher,c=s.algo,h=[],l=0;64>l;l++)h[l]=4294967296*t.abs(t.sin(l+1))|0;c=c.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,s){for(var c=0;16>c;c++){var o=s+c,a=t[o];t[o]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var c=this._hash.words,o=t[s+0],a=t[s+1],l=t[s+2],u=t[s+3],f=t[s+4],d=t[s+5],g=t[s+6],p=t[s+7],y=t[s+8],v=t[s+9],m=t[s+10],b=t[s+11],S=t[s+12],j=t[s+13],w=t[s+14],k=t[s+15],x=c[0],A=c[1],B=c[2],P=c[3],x=e(x,A,B,P,o,7,h[0]),P=e(P,x,A,B,a,12,h[1]),B=e(B,P,x,A,l,17,h[2]),A=e(A,B,P,x,u,22,h[3]),x=e(x,A,B,P,f,7,h[4]),P=e(P,x,A,B,d,12,h[5]),B=e(B,P,x,A,g,17,h[6]),A=e(A,B,P,x,p,22,h[7]),x=e(x,A,B,P,y,7,h[8]),P=e(P,x,A,B,v,12,h[9]),B=e(B,P,x,A,m,17,h[10]),A=e(A,B,P,x,b,22,h[11]),x=e(x,A,B,P,S,7,h[12]),P=e(P,x,A,B,j,12,h[13]),B=e(B,P,x,A,w,17,h[14]),A=e(A,B,P,x,k,22,h[15]),x=r(x,A,B,P,a,5,h[16]),P=r(P,x,A,B,g,9,h[17]),B=r(B,P,x,A,b,14,h[18]),A=r(A,B,P,x,o,20,h[19]),x=r(x,A,B,P,d,5,h[20]),P=r(P,x,A,B,m,9,h[21]),B=r(B,P,x,A,k,14,h[22]),A=r(A,B,P,x,f,20,h[23]),x=r(x,A,B,P,v,5,h[24]),P=r(P,x,A,B,w,9,h[25]),B=r(B,P,x,A,u,14,h[26]),A=r(A,B,P,x,y,20,h[27]),x=r(x,A,B,P,j,5,h[28]),P=r(P,x,A,B,l,9,h[29]),B=r(B,P,x,A,p,14,h[30]),A=r(A,B,P,x,S,20,h[31]),x=i(x,A,B,P,d,4,h[32]),P=i(P,x,A,B,y,11,h[33]),B=i(B,P,x,A,b,16,h[34]),A=i(A,B,P,x,w,23,h[35]),x=i(x,A,B,P,a,4,h[36]),P=i(P,x,A,B,f,11,h[37]),B=i(B,P,x,A,p,16,h[38]),A=i(A,B,P,x,m,23,h[39]),x=i(x,A,B,P,j,4,h[40]),P=i(P,x,A,B,o,11,h[41]),B=i(B,P,x,A,u,16,h[42]),A=i(A,B,P,x,g,23,h[43]),x=i(x,A,B,P,v,4,h[44]),P=i(P,x,A,B,S,11,h[45]),B=i(B,P,x,A,k,16,h[46]),A=i(A,B,P,x,l,23,h[47]),x=n(x,A,B,P,o,6,h[48]),P=n(P,x,A,B,p,10,h[49]),B=n(B,P,x,A,w,15,h[50]),A=n(A,B,P,x,d,21,h[51]),x=n(x,A,B,P,S,6,h[52]),P=n(P,x,A,B,u,10,h[53]),B=n(B,P,x,A,m,15,h[54]),A=n(A,B,P,x,a,21,h[55]),x=n(x,A,B,P,y,6,h[56]),P=n(P,x,A,B,k,10,h[57]),B=n(B,P,x,A,g,15,h[58]),A=n(A,B,P,x,j,21,h[59]),x=n(x,A,B,P,f,6,h[60]),P=n(P,x,A,B,b,10,h[61]),B=n(B,P,x,A,l,15,h[62]),A=n(A,B,P,x,v,21,h[63]);c[0]=c[0]+x|0,c[1]=c[1]+A|0,c[2]=c[2]+B|0,c[3]=c[3]+P|0},_doFinalize:function(){var e=this._data,r=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;r[n>>>5]|=128<<24-n%32;var s=t.floor(i/4294967296);for(r[(n+64>>>9<<4)+15]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[(n+64>>>9<<4)+14]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(r.length+1),this._process(),e=this._hash,r=e.words,i=0;4>i;i++)n=r[i],r[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),s.MD5=a._createHelper(c),s.HmacMD5=a._createHmacHelper(c)}(Math),function(){var t=CryptoJS,e=t.lib,r=e.Base,i=e.WordArray,e=t.algo,n=e.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=r.hasher.create(),s=i.create(),c=s.words,o=r.keySize,r=r.iterations;c.length<o;){a&&n.update(a);var a=n.update(t).finalize(e);n.reset();for(var h=1;r>h;h++)a=n.finalize(a),n.reset();s.concat(a)}return s.sigBytes=4*o,s}});t.EvpKDF=function(t,e,r){return n.create(r).compute(t,e)}}(),CryptoJS.lib.Cipher||function(t){var e=CryptoJS,r=e.lib,i=r.Base,n=r.WordArray,s=r.BufferedBlockAlgorithm,c=e.enc.Base64,o=e.algo.EvpKDF,a=r.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,r,i){return("string"==typeof r?g:d).encrypt(t,e,r,i)},decrypt:function(e,r,i){return("string"==typeof r?g:d).decrypt(t,e,r,i)}}}});r.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=e.mode={},l=function(e,r,i){var n=this._iv;n?this._iv=t:n=this._prevBlock;for(var s=0;i>s;s++)e[r+s]^=n[s]},u=(r.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();u.Encryptor=u.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize;l.call(this,t,e,i),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),u.Decryptor=u.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,n=t.slice(e,e+i);r.decryptBlock(t,e),l.call(this,t,e,i),this._prevBlock=n}}),h=h.CBC=u,u=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,r=r-t.sigBytes%r,i=r<<24|r<<16|r<<8|r,s=[],c=0;r>c;c+=4)s.push(i);r=n.create(s,r),t.concat(r)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},r.BlockCipher=a.extend({cfg:a.cfg.extend({mode:h,padding:u}),reset:function(){a.reset.call(this);var t=this.cfg,e=t.iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=t.createEncryptor;else r=t.createDecryptor,this._minBufferSize=1;this._mode=r.call(t,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var f=r.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),h=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return t=t.salt,(t?n.create([1398893684,1701076831]).concat(t).concat(e):e).toString(c)},parse:function(t){t=c.parse(t);var e=t.words;if(1398893684==e[0]&&1701076831==e[1]){var r=n.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return f.create({ciphertext:t,salt:r})}},d=r.SerializableCipher=i.extend({cfg:i.extend({format:h}),encrypt:function(t,e,r,i){i=this.cfg.extend(i);var n=t.createEncryptor(r,i);return e=n.finalize(e),n=n.cfg,f.create({ciphertext:e,key:r,iv:n.iv,algorithm:t,mode:n.mode,padding:n.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,r,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(r,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),e=(e.kdf={}).OpenSSL={execute:function(t,e,r,i){return i||(i=n.random(8)),t=o.create({keySize:e+r}).compute(t,i),r=n.create(t.words.slice(e),4*r),t.sigBytes=4*e,f.create({key:t,iv:r,salt:i})}},g=r.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:e}),encrypt:function(t,e,r,i){return i=this.cfg.extend(i),r=i.kdf.execute(r,t.keySize,t.ivSize),i.iv=r.iv,t=d.encrypt.call(this,t,e,r.key,i),t.mixIn(r),t},decrypt:function(t,e,r,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),r=i.kdf.execute(r,t.keySize,t.ivSize,e.salt),i.iv=r.iv,d.decrypt.call(this,t,e,r.key,i)}})}(),function(){for(var t=CryptoJS,e=t.lib.BlockCipher,r=t.algo,i=[],n=[],s=[],c=[],o=[],a=[],h=[],l=[],u=[],f=[],d=[],g=0;256>g;g++)d[g]=128>g?g<<1:g<<1^283;for(var p=0,y=0,g=0;256>g;g++){var v=y^y<<1^y<<2^y<<3^y<<4,v=v>>>8^255&v^99;i[p]=v,n[v]=p;var m=d[p],b=d[m],S=d[b],j=257*d[v]^16843008*v;s[p]=j<<24|j>>>8,c[p]=j<<16|j>>>16,o[p]=j<<8|j>>>24,a[p]=j,j=16843009*S^65537*b^257*m^16843008*p,h[v]=j<<24|j>>>8,l[v]=j<<16|j>>>16,u[v]=j<<8|j>>>24,f[v]=j,p?(p=m^d[d[d[S^m]]],y^=d[d[y]]):p=y=1}var w=[0,1,2,4,8,16,32,64,128,27,54],r=r.AES=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes/4,t=4*((this._nRounds=r+6)+1),n=this._keySchedule=[],s=0;t>s;s++)if(r>s)n[s]=e[s];else{var c=n[s-1];s%r?r>6&&4==s%r&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=c<<8|c>>>24,c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=w[s/r|0]<<24),n[s]=n[s-r]^c}for(e=this._invKeySchedule=[],r=0;t>r;r++)s=t-r,c=r%4?n[s]:n[s-4],e[r]=4>r||4>=s?c:h[i[c>>>24]]^l[i[c>>>16&255]]^u[i[c>>>8&255]]^f[i[255&c]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,c,o,a,i)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,h,l,u,f,n),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,i,n,s,c,o){for(var a=this._nRounds,h=t[e]^r[0],l=t[e+1]^r[1],u=t[e+2]^r[2],f=t[e+3]^r[3],d=4,g=1;a>g;g++)var p=i[h>>>24]^n[l>>>16&255]^s[u>>>8&255]^c[255&f]^r[d++],y=i[l>>>24]^n[u>>>16&255]^s[f>>>8&255]^c[255&h]^r[d++],v=i[u>>>24]^n[f>>>16&255]^s[h>>>8&255]^c[255&l]^r[d++],f=i[f>>>24]^n[h>>>16&255]^s[l>>>8&255]^c[255&u]^r[d++],h=p,l=y,u=v;p=(o[h>>>24]<<24|o[l>>>16&255]<<16|o[u>>>8&255]<<8|o[255&f])^r[d++],y=(o[l>>>24]<<24|o[u>>>16&255]<<16|o[f>>>8&255]<<8|o[255&h])^r[d++],v=(o[u>>>24]<<24|o[f>>>16&255]<<16|o[h>>>8&255]<<8|o[255&l])^r[d++],f=(o[f>>>24]<<24|o[h>>>16&255]<<16|o[l>>>8&255]<<8|o[255&u])^r[d++],t[e]=p,t[e+1]=y,t[e+2]=v,t[e+3]=f},keySize:8});t.AES=e._createHelper(r)}(),CryptoJS.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){var e=t.words;if(t.sigBytes>0){for(var r=t.sigBytes-1;!(e[r>>>2]>>>24-r%4*8&255);)r--;t.sigBytes=r+1}}},function(t){"use strict";function e(t,e){var r=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(r>>16);return i<<16|65535&r}function r(t,e){return t<<e|t>>>32-e}function i(t,i,n,s,c,o){return e(r(e(e(i,t),e(s,o)),c),n)}function n(t,e,r,n,s,c,o){return i(e&r|~e&n,t,e,s,c,o)}function s(t,e,r,n,s,c,o){return i(e&n|r&~n,t,e,s,c,o)}function c(t,e,r,n,s,c,o){return i(e^r^n,t,e,s,c,o)}function o(t,e,r,n,s,c,o){return i(r^(e|~n),t,e,s,c,o)}function a(t,r){t[r>>5]|=128<<r%32,t[(r+64>>>9<<4)+14]=r;var i,a,h,l,u,f=1732584193,d=-271733879,g=-1732584194,p=271733878;for(i=0;i<t.length;i+=16)a=f,h=d,l=g,u=p,f=n(f,d,g,p,t[i],7,-680876936),p=n(p,f,d,g,t[i+1],12,-389564586),g=n(g,p,f,d,t[i+2],17,606105819),d=n(d,g,p,f,t[i+3],22,-1044525330),f=n(f,d,g,p,t[i+4],7,-176418897),p=n(p,f,d,g,t[i+5],12,1200080426),g=n(g,p,f,d,t[i+6],17,-1473231341),d=n(d,g,p,f,t[i+7],22,-45705983),f=n(f,d,g,p,t[i+8],7,1770035416),p=n(p,f,d,g,t[i+9],12,-1958414417),g=n(g,p,f,d,t[i+10],17,-42063),d=n(d,g,p,f,t[i+11],22,-1990404162),f=n(f,d,g,p,t[i+12],7,1804603682),p=n(p,f,d,g,t[i+13],12,-40341101),g=n(g,p,f,d,t[i+14],17,-1502002290),d=n(d,g,p,f,t[i+15],22,1236535329),f=s(f,d,g,p,t[i+1],5,-165796510),p=s(p,f,d,g,t[i+6],9,-1069501632),g=s(g,p,f,d,t[i+11],14,643717713),d=s(d,g,p,f,t[i],20,-373897302),f=s(f,d,g,p,t[i+5],5,-701558691),p=s(p,f,d,g,t[i+10],9,38016083),g=s(g,p,f,d,t[i+15],14,-660478335),d=s(d,g,p,f,t[i+4],20,-405537848),f=s(f,d,g,p,t[i+9],5,568446438),p=s(p,f,d,g,t[i+14],9,-1019803690),g=s(g,p,f,d,t[i+3],14,-187363961),d=s(d,g,p,f,t[i+8],20,1163531501),f=s(f,d,g,p,t[i+13],5,-1444681467),p=s(p,f,d,g,t[i+2],9,-51403784),g=s(g,p,f,d,t[i+7],14,1735328473),d=s(d,g,p,f,t[i+12],20,-1926607734),f=c(f,d,g,p,t[i+5],4,-378558),p=c(p,f,d,g,t[i+8],11,-2022574463),g=c(g,p,f,d,t[i+11],16,1839030562),d=c(d,g,p,f,t[i+14],23,-35309556),f=c(f,d,g,p,t[i+1],4,-1530992060),p=c(p,f,d,g,t[i+4],11,1272893353),g=c(g,p,f,d,t[i+7],16,-155497632),d=c(d,g,p,f,t[i+10],23,-1094730640),f=c(f,d,g,p,t[i+13],4,681279174),p=c(p,f,d,g,t[i],11,-358537222),g=c(g,p,f,d,t[i+3],16,-722521979),d=c(d,g,p,f,t[i+6],23,76029189),f=c(f,d,g,p,t[i+9],4,-640364487),p=c(p,f,d,g,t[i+12],11,-421815835),g=c(g,p,f,d,t[i+15],16,530742520),d=c(d,g,p,f,t[i+2],23,-995338651),f=o(f,d,g,p,t[i],6,-198630844),p=o(p,f,d,g,t[i+7],10,1126891415),g=o(g,p,f,d,t[i+14],15,-1416354905),d=o(d,g,p,f,t[i+5],21,-57434055),f=o(f,d,g,p,t[i+12],6,1700485571),p=o(p,f,d,g,t[i+3],10,-1894986606),g=o(g,p,f,d,t[i+10],15,-1051523),d=o(d,g,p,f,t[i+1],21,-2054922799),f=o(f,d,g,p,t[i+8],6,1873313359),p=o(p,f,d,g,t[i+15],10,-30611744),g=o(g,p,f,d,t[i+6],15,-1560198380),d=o(d,g,p,f,t[i+13],21,1309151649),f=o(f,d,g,p,t[i+4],6,-145523070),p=o(p,f,d,g,t[i+11],10,-1120210379),g=o(g,p,f,d,t[i+2],15,718787259),d=o(d,g,p,f,t[i+9],21,-343485551),f=e(f,a),d=e(d,h),g=e(g,l),p=e(p,u);return[f,d,g,p]}function h(t){var e,r="";for(e=0;e<32*t.length;e+=8)r+=String.fromCharCode(t[e>>5]>>>e%32&255);return r}function l(t){var e,r=[];for(r[(t.length>>2)-1]=void 0,e=0;e<r.length;e+=1)r[e]=0;for(e=0;e<8*t.length;e+=8)r[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return r}function u(t){return h(a(l(t),8*t.length))}function f(t,e){var r,i,n=l(t),s=[],c=[];for(s[15]=c[15]=void 0,n.length>16&&(n=a(n,8*t.length)),r=0;16>r;r+=1)s[r]=909522486^n[r],c[r]=1549556828^n[r];return i=a(s.concat(l(e)),512+8*e.length),h(a(c.concat(i),640))}function d(t){var e,r,i="0123456789abcdef",n="";for(r=0;r<t.length;r+=1)e=t.charCodeAt(r),n+=i.charAt(e>>>4&15)+i.charAt(15&e);return n}function g(t){return unescape(encodeURIComponent(t))}function p(t){return u(g(t))}function y(t){return d(p(t))}function v(t,e){return f(g(t),g(e))}function m(t,e){return d(v(t,e))}function b(t,e,r){return e?r?v(e,t):m(e,t):r?p(t):y(t)}t.md5=b}(this);var sjcl={cipher:{},hash:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};sjcl.cipher.aes=function(t){this.h[0][0][0]||this.z();var e,r,i,n,s=this.h[0][4],c=this.h[1];e=t.length;var o=1;if(4!==e&&6!==e&&8!==e)throw new sjcl.exception.invalid("invalid aes key size");for(this.a=[i=t.slice(0),n=[]],t=e;4*e+28>t;t++)r=i[t-1],(t%e===0||8===e&&t%e===4)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],t%e===0&&(r=r<<8^r>>>24^o<<24,o=o<<1^283*(o>>7))),i[t]=i[t-e]^r;for(e=0;t;e++,t--)r=i[3&e?t:t-4],n[e]=4>=t||4>e?r:c[0][s[r>>>24]]^c[1][s[r>>16&255]]^c[2][s[r>>8&255]]^c[3][s[255&r]]},sjcl.cipher.aes.prototype={encrypt:function(t){return this.I(t,0)},decrypt:function(t){return this.I(t,1)},h:[[[],[],[],[],[]],[[],[],[],[],[]]],z:function(){var t,e,r,i,n,s,c,o=this.h[0],a=this.h[1],h=o[4],l=a[4],u=[],f=[];for(t=0;256>t;t++)f[(u[t]=t<<1^283*(t>>7))^t]=t;for(e=r=0;!h[e];e^=i||1,r=f[r]||1)for(s=r^r<<1^r<<2^r<<3^r<<4,s=s>>8^255&s^99,h[e]=s,l[s]=e,n=u[t=u[i=u[e]]],c=16843009*n^65537*t^257*i^16843008*e,n=257*u[s]^16843008*s,t=0;4>t;t++)o[t][e]=n=n<<24^n>>>8,a[t][s]=c=c<<24^c>>>8;for(t=0;5>t;t++)o[t]=o[t].slice(0),a[t]=a[t].slice(0)},I:function(t,e){if(4!==t.length)throw new sjcl.exception.invalid("invalid aes block size");var r=this.a[e],i=t[0]^r[0],n=t[e?3:1]^r[1],s=t[2]^r[2];t=t[e?1:3]^r[3];var c,o,a,h,l=r.length/4-2,u=4,f=[0,0,0,0];c=this.h[e];var d=c[0],g=c[1],p=c[2],y=c[3],v=c[4];for(h=0;l>h;h++)c=d[i>>>24]^g[n>>16&255]^p[s>>8&255]^y[255&t]^r[u],o=d[n>>>24]^g[s>>16&255]^p[t>>8&255]^y[255&i]^r[u+1],a=d[s>>>24]^g[t>>16&255]^p[i>>8&255]^y[255&n]^r[u+2],t=d[t>>>24]^g[i>>16&255]^p[n>>8&255]^y[255&s]^r[u+3],u+=4,i=c,n=o,s=a;for(h=0;4>h;h++)f[e?3&-h:h]=v[i>>>24]<<24^v[n>>16&255]<<16^v[s>>8&255]<<8^v[255&t]^r[u++],c=i,i=n,n=s,s=t,t=c;return f}},sjcl.bitArray={bitSlice:function(t,e,r){return t=sjcl.bitArray.P(t.slice(e/32),32-(31&e)).slice(1),void 0===r?t:sjcl.bitArray.clamp(t,r-e)},concat:function(t,e){if(0===t.length||0===e.length)return t.concat(e);var r=t[t.length-1],i=sjcl.bitArray.getPartial(r);return 32===i?t.concat(e):sjcl.bitArray.P(e,i,0|r,t.slice(0,t.length-1))},bitLength:function(t){var e=t.length;return 0===e?0:32*(e-1)+sjcl.bitArray.getPartial(t[e-1])},clamp:function(t,e){if(32*t.length<e)return t;t=t.slice(0,Math.ceil(e/32));var r=t.length;return e&=31,r>0&&e&&(t[r-1]=sjcl.bitArray.partial(e,t[r-1]&2147483648>>e-1,1)),t},partial:function(t,e,r){return 32===t?e:(r?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(sjcl.bitArray.bitLength(t)!==sjcl.bitArray.bitLength(e))return!1;var r,i=0;for(r=0;r<t.length;r++)i|=t[r]^e[r];return 0===i},P:function(t,e,r,i){var n;for(n=0,void 0===i&&(i=[]);e>=32;e-=32)i.push(r),r=0;if(0===e)return i.concat(t);for(n=0;n<t.length;n++)i.push(r|t[n]>>>e),r=t[n]<<32-e;return n=t.length?t[t.length-1]:0,t=sjcl.bitArray.getPartial(n),i.push(sjcl.bitArray.partial(e+t&31,e+t>32?r:i.pop(),1)),i},k:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]}},sjcl.codec.utf8String={fromBits:function(t){var e,r,i="",n=sjcl.bitArray.bitLength(t);for(e=0;n/8>e;e++)0===(3&e)&&(r=t[e/4]),i+=String.fromCharCode(r>>>24),r<<=8;return decodeURIComponent(escape(i))},toBits:function(t){t=unescape(encodeURIComponent(t));var e,r=[],i=0;for(e=0;e<t.length;e++)i=i<<8|t.charCodeAt(e),3===(3&e)&&(r.push(i),i=0);return 3&e&&r.push(sjcl.bitArray.partial(8*(3&e),i)),r}},sjcl.codec.hex={fromBits:function(t){var e,r="";for(e=0;e<t.length;e++)r+=((0|t[e])+0xf00000000000).toString(16).substr(4);return r.substr(0,sjcl.bitArray.bitLength(t)/4)},toBits:function(t){var e,r,i=[];for(t=t.replace(/\s|0x/g,""),r=t.length,t+="00000000",e=0;e<t.length;e+=8)i.push(0^parseInt(t.substr(e,8),16));return sjcl.bitArray.clamp(i,4*r)}},sjcl.codec.base64={F:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,e){var r,i="",n=0,s=sjcl.codec.base64.F,c=0,o=sjcl.bitArray.bitLength(t);for(r=0;6*i.length<o;)i+=s.charAt((c^t[r]>>>n)>>>26),6>n?(c=t[r]<<6-n,n+=26,r++):(c<<=6,n-=6);for(;3&i.length&&!e;)i+="=";return i},toBits:function(t){t=t.replace(/\s|=/g,"");var e,r,i=[],n=0,s=sjcl.codec.base64.F,c=0;for(e=0;e<t.length;e++){if(r=s.indexOf(t.charAt(e)),0>r)throw new sjcl.exception.invalid("this isn't base64!");n>26?(n-=26,i.push(c^r>>>n),c=r<<32-n):(n+=6,c^=r<<32-n)}return 56&n&&i.push(sjcl.bitArray.partial(56&n,c,1)),i}},sjcl.hash.sha256=function(t){this.a[0]||this.z(),t?(this.n=t.n.slice(0),this.i=t.i.slice(0),this.e=t.e):this.reset()},sjcl.hash.sha256.hash=function(t){return(new sjcl.hash.sha256).update(t).finalize()},sjcl.hash.sha256.prototype={blockSize:512,reset:function(){return this.n=this.N.slice(0),this.i=[],this.e=0,this},update:function(t){"string"==typeof t&&(t=sjcl.codec.utf8String.toBits(t));var e,r=this.i=sjcl.bitArray.concat(this.i,t);for(e=this.e,t=this.e=e+sjcl.bitArray.bitLength(t),e=512+e&-512;t>=e;e+=512)this.D(r.splice(0,16));return this},finalize:function(){var t,e=this.i,r=this.n;for(e=sjcl.bitArray.concat(e,[sjcl.bitArray.partial(1,1)]),t=e.length+2;15&t;t++)e.push(0);for(e.push(Math.floor(this.e/4294967296)),e.push(0|this.e);e.length;)this.D(e.splice(0,16));return this.reset(),r},N:[],a:[],z:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}var e,r=0,i=2;t:for(;64>r;i++){for(e=2;i>=e*e;e++)if(i%e===0)continue t;8>r&&(this.N[r]=t(Math.pow(i,.5))),this.a[r]=t(Math.pow(i,1/3)),r++}},D:function(t){var e,r,i=t.slice(0),n=this.n,s=this.a,c=n[0],o=n[1],a=n[2],h=n[3],l=n[4],u=n[5],f=n[6],d=n[7];for(t=0;64>t;t++)16>t?e=i[t]:(e=i[t+1&15],r=i[t+14&15],e=i[15&t]=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+i[15&t]+i[t+9&15]|0),e=e+d+(l>>>6^l>>>11^l>>>25^l<<26^l<<21^l<<7)+(f^l&(u^f))+s[t],d=f,f=u,u=l,l=h+e|0,h=a,a=o,o=c,c=e+(o&a^h&(o^a))+(o>>>2^o>>>13^o>>>22^o<<30^o<<19^o<<10)|0;n[0]=n[0]+c|0,n[1]=n[1]+o|0,n[2]=n[2]+a|0,n[3]=n[3]+h|0,n[4]=n[4]+l|0,n[5]=n[5]+u|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0}},sjcl.mode.ccm={name:"ccm",encrypt:function(t,e,r,i,n){var s,c=e.slice(0),o=sjcl.bitArray,a=o.bitLength(r)/8,h=o.bitLength(c)/8;if(n=n||64,i=i||[],7>a)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(s=2;4>s&&h>>>8*s;s++);return 15-a>s&&(s=15-a),r=o.clamp(r,8*(15-s)),e=sjcl.mode.ccm.H(t,e,r,i,n,s),c=sjcl.mode.ccm.J(t,c,r,e,n,s),o.concat(c.data,c.tag)},decrypt:function(t,e,r,i,n){n=n||64,i=i||[];var s=sjcl.bitArray,c=s.bitLength(r)/8,o=s.bitLength(e),a=s.clamp(e,o-n),h=s.bitSlice(e,o-n);if(o=(o-n)/8,7>c)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(e=2;4>e&&o>>>8*e;e++);if(15-c>e&&(e=15-c),r=s.clamp(r,8*(15-e)),a=sjcl.mode.ccm.J(t,a,r,h,n,e),t=sjcl.mode.ccm.H(t,a.data,r,i,n,e),!s.equal(a.tag,t))throw new sjcl.exception.corrupt("ccm: tag doesn't match");return a.data},H:function(t,e,r,i,n,s){var c=[],o=sjcl.bitArray,a=o.k;if(n/=8,n%2||4>n||n>16)throw new sjcl.exception.invalid("ccm: invalid tag length");if(i.length>4294967295||e.length>4294967295)throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");if(s=[o.partial(8,(i.length?64:0)|n-2<<2|s-1)],s=o.concat(s,r),s[3]|=o.bitLength(e)/8,s=t.encrypt(s),i.length)for(r=o.bitLength(i)/8,65279>=r?c=[o.partial(16,r)]:4294967295>=r&&(c=o.concat([o.partial(16,65534)],[r])),c=o.concat(c,i),i=0;i<c.length;i+=4)s=t.encrypt(a(s,c.slice(i,i+4).concat([0,0,0])));for(i=0;i<e.length;i+=4)s=t.encrypt(a(s,e.slice(i,i+4).concat([0,0,0])));return o.clamp(s,8*n)},J:function(t,e,r,i,n,s){var c,o=sjcl.bitArray;c=o.k;var a=e.length,h=o.bitLength(e);if(r=o.concat([o.partial(8,s-1)],r).concat([0,0,0]).slice(0,4),i=o.bitSlice(c(i,t.encrypt(r)),0,n),!a)return{tag:i,data:[]};for(c=0;a>c;c+=4)r[3]++,n=t.encrypt(r),e[c]^=n[0],e[c+1]^=n[1],e[c+2]^=n[2],e[c+3]^=n[3];return{tag:i,data:o.clamp(e,h)}}},sjcl.mode.ocb2={name:"ocb2",encrypt:function(t,e,r,i,n,s){if(128!==sjcl.bitArray.bitLength(r))throw new sjcl.exception.invalid("ocb iv must be 128 bits");var c,o=sjcl.mode.ocb2.B,a=sjcl.bitArray,h=a.k,l=[0,0,0,0];r=o(t.encrypt(r));var u,f=[];for(i=i||[],n=n||64,c=0;c+4<e.length;c+=4)u=e.slice(c,c+4),l=h(l,u),f=f.concat(h(r,t.encrypt(h(r,u)))),r=o(r);return u=e.slice(c),e=a.bitLength(u),c=t.encrypt(h(r,[0,0,0,e])),u=a.clamp(h(u.concat([0,0,0]),c),e),l=h(l,h(u.concat([0,0,0]),c)),l=t.encrypt(h(l,h(r,o(r)))),i.length&&(l=h(l,s?i:sjcl.mode.ocb2.pmac(t,i))),f.concat(a.concat(u,a.clamp(l,n)))},decrypt:function(t,e,r,i,n,s){if(128!==sjcl.bitArray.bitLength(r))throw new sjcl.exception.invalid("ocb iv must be 128 bits");n=n||64;var c,o,a=sjcl.mode.ocb2.B,h=sjcl.bitArray,l=h.k,u=[0,0,0,0],f=a(t.encrypt(r)),d=sjcl.bitArray.bitLength(e)-n,g=[];for(i=i||[],r=0;d/32>r+4;r+=4)c=l(f,t.decrypt(l(f,e.slice(r,r+4)))),u=l(u,c),g=g.concat(c),f=a(f);if(o=d-32*r,c=t.encrypt(l(f,[0,0,0,o])),c=l(c,h.clamp(e.slice(r),o).concat([0,0,0])),u=l(u,c),u=t.encrypt(l(u,l(f,a(f)))),i.length&&(u=l(u,s?i:sjcl.mode.ocb2.pmac(t,i))),!h.equal(h.clamp(u,n),h.bitSlice(e,d)))throw new sjcl.exception.corrupt("ocb: tag doesn't match");return g.concat(h.clamp(c,o))},pmac:function(t,e){var r,i=sjcl.mode.ocb2.B,n=sjcl.bitArray,s=n.k,c=[0,0,0,0],o=t.encrypt([0,0,0,0]);for(o=s(o,i(i(o))),r=0;r+4<e.length;r+=4)o=i(o),c=s(c,t.encrypt(s(o,e.slice(r,r+4))));return e=e.slice(r),n.bitLength(e)<128&&(o=s(o,i(o)),e=n.concat(e,[-2147483648,0,0,0])),c=s(c,e),t.encrypt(s(i(s(o,i(o))),c))},B:function(t){return[t[0]<<1^t[1]>>>31,t[1]<<1^t[2]>>>31,t[2]<<1^t[3]>>>31,t[3]<<1^135*(t[0]>>>31)]}},sjcl.misc.hmac=function(t,e){this.M=e=e||sjcl.hash.sha256;var r=[[],[]],i=e.prototype.blockSize/32;for(this.l=[new e,new e],t.length>i&&(t=e.hash(t)),e=0;i>e;e++)r[0][e]=909522486^t[e],r[1][e]=1549556828^t[e];this.l[0].update(r[0]),this.l[1].update(r[1])},sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(t){return t=new this.M(this.l[0]).update(t).finalize(),new this.M(this.l[1]).update(t).finalize()},sjcl.misc.pbkdf2=function(t,e,r,i,n){if(r=r||1e3,0>i||0>r)throw sjcl.exception.invalid("invalid params to pbkdf2");"string"==typeof t&&(t=sjcl.codec.utf8String.toBits(t)),n=n||sjcl.misc.hmac,t=new n(t);var s,c,o,a,h=[],l=sjcl.bitArray;for(a=1;32*h.length<(i||1);a++){for(n=s=t.encrypt(l.concat(e,[a])),c=1;r>c;c++)for(s=t.encrypt(s),o=0;o<s.length;o++)n[o]^=s[o];h=h.concat(n)}return i&&(h=l.clamp(h,i)),h},sjcl.random={randomWords:function(t,e){var r=[];e=this.isReady(e);var i;if(0===e)throw new sjcl.exception.notReady("generator isn't seeded");for(2&e&&this.U(!(1&e)),e=0;t>e;e+=4)(e+1)%65536===0&&this.L(),i=this.w(),r.push(i[0],i[1],i[2],i[3]);return this.L(),r.slice(0,t)},setDefaultParanoia:function(t){this.t=t},addEntropy:function(t,e,r){r=r||"user";var i,n,s=(new Date).valueOf(),c=this.q[r],o=this.isReady(),a=0;switch(i=this.G[r],void 0===i&&(i=this.G[r]=this.R++),void 0===c&&(c=this.q[r]=0),this.q[r]=(this.q[r]+1)%this.b.length,typeof t){case"number":void 0===e&&(e=1),this.b[c].update([i,this.u++,1,e,s,1,0|t]);break;case"object":if(r=Object.prototype.toString.call(t),"[object Uint32Array]"===r){for(n=[],r=0;r<t.length;r++)n.push(t[r]);t=n}else for("[object Array]"!==r&&(a=1),r=0;r<t.length&&!a;r++)"number"!=typeof t[r]&&(a=1);if(!a){if(void 0===e)for(r=e=0;r<t.length;r++)for(n=t[r];n>0;)e++,n>>>=1;this.b[c].update([i,this.u++,2,e,s,t.length].concat(t))}break;case"string":void 0===e&&(e=t.length),this.b[c].update([i,this.u++,3,e,s,t.length]),this.b[c].update(t);break;default:a=1}if(a)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this.j[c]+=e,this.f+=e,0===o&&(0!==this.isReady()&&this.K("seeded",Math.max(this.g,this.f)),this.K("progress",this.getProgress()))},isReady:function(t){return t=this.C[void 0!==t?t:this.t],this.g&&this.g>=t?this.j[0]>80&&(new Date).valueOf()>this.O?3:1:this.f>=t?2:0},getProgress:function(t){return t=this.C[t?t:this.t],this.g>=t?1:this.f>t?1:this.f/t},startCollectors:function(){if(!this.m){if(window.addEventListener)window.addEventListener("load",this.o,!1),window.addEventListener("mousemove",this.p,!1);else{if(!document.attachEvent)throw new sjcl.exception.bug("can't attach event");document.attachEvent("onload",this.o),document.attachEvent("onmousemove",this.p)}this.m=!0}},stopCollectors:function(){this.m&&(window.removeEventListener?(window.removeEventListener("load",this.o,!1),window.removeEventListener("mousemove",this.p,!1)):window.detachEvent&&(window.detachEvent("onload",this.o),window.detachEvent("onmousemove",this.p)),this.m=!1)},addEventListener:function(t,e){this.r[t][this.Q++]=e},removeEventListener:function(t,e){var r;t=this.r[t];var i=[];for(r in t)t.hasOwnProperty(r)&&t[r]===e&&i.push(r);for(e=0;e<i.length;e++)r=i[e],delete t[r]},b:[new sjcl.hash.sha256],j:[0],A:0,q:{},u:0,G:{},R:0,g:0,f:0,O:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],s:void 0,t:6,m:!1,r:{progress:{},seeded:{}},Q:0,C:[0,48,64,96,128,192,256,384,512,768,1024],w:function(){for(var t=0;4>t&&(this.d[t]=this.d[t]+1|0,!this.d[t]);t++);return this.s.encrypt(this.d)},L:function(){this.a=this.w().concat(this.w()),this.s=new sjcl.cipher.aes(this.a)},T:function(t){for(this.a=sjcl.hash.sha256.hash(this.a.concat(t)),this.s=new sjcl.cipher.aes(this.a),t=0;4>t&&(this.d[t]=this.d[t]+1|0,!this.d[t]);t++);},U:function(t){var e,r=[],i=0;for(this.O=r[0]=(new Date).valueOf()+3e4,e=0;16>e;e++)r.push(4294967296*Math.random()|0);for(e=0;e<this.b.length&&(r=r.concat(this.b[e].finalize()),i+=this.j[e],this.j[e]=0,t||!(this.A&1<<e));e++);this.A>=1<<this.b.length&&(this.b.push(new sjcl.hash.sha256),this.j.push(0)),this.f-=i,i>this.g&&(this.g=i),this.A++,this.T(r)},p:function(t){sjcl.random.addEntropy([t.x||t.clientX||t.offsetX||0,t.y||t.clientY||t.offsetY||0],2,"mouse")},o:function(){sjcl.random.addEntropy((new Date).valueOf(),2,"loadtime")},K:function(t,e){var r;t=sjcl.random.r[t];var i=[];for(r in t)t.hasOwnProperty(r)&&i.push(t[r]);for(r=0;r<i.length;r++)i[r](e)}};try{var s=new Uint32Array(32);crypto.getRandomValues(s),sjcl.random.addEntropy(s,1024,"crypto['getRandomValues']")}catch(t){}sjcl.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(t,e,r,i){r=r||{},i=i||{};var n,s=sjcl.json,c=s.c({iv:sjcl.random.randomWords(4,0)},s.defaults);if(s.c(c,r),r=c.adata,"string"==typeof c.salt&&(c.salt=sjcl.codec.base64.toBits(c.salt)),"string"==typeof c.iv&&(c.iv=sjcl.codec.base64.toBits(c.iv)),!sjcl.mode[c.mode]||!sjcl.cipher[c.cipher]||"string"==typeof t&&c.iter<=100||64!==c.ts&&96!==c.ts&&128!==c.ts||128!==c.ks&&192!==c.ks&&256!==c.ks||c.iv.length<2||c.iv.length>4)throw new sjcl.exception.invalid("json encrypt: invalid parameters");return"string"==typeof t&&(n=sjcl.misc.cachedPbkdf2(t,c),
t=n.key.slice(0,c.ks/32),c.salt=n.salt),"string"==typeof e&&(e=sjcl.codec.utf8String.toBits(e)),"string"==typeof r&&(r=sjcl.codec.utf8String.toBits(r)),n=new sjcl.cipher[c.cipher](t),s.c(i,c),i.key=t,c.ct=sjcl.mode[c.mode].encrypt(n,e,c.iv,r,c.ts),s.encode(c)},decrypt:function(t,e,r,i){r=r||{},i=i||{};var n=sjcl.json;e=n.c(n.c(n.c({},n.defaults),n.decode(e)),r,!0);var s;if(r=e.adata,"string"==typeof e.salt&&(e.salt=sjcl.codec.base64.toBits(e.salt)),"string"==typeof e.iv&&(e.iv=sjcl.codec.base64.toBits(e.iv)),!sjcl.mode[e.mode]||!sjcl.cipher[e.cipher]||"string"==typeof t&&e.iter<=100||64!==e.ts&&96!==e.ts&&128!==e.ts||128!==e.ks&&192!==e.ks&&256!==e.ks||!e.iv||e.iv.length<2||e.iv.length>4)throw new sjcl.exception.invalid("json decrypt: invalid parameters");return"string"==typeof t&&(s=sjcl.misc.cachedPbkdf2(t,e),t=s.key.slice(0,e.ks/32),e.salt=s.salt),"string"==typeof r&&(r=sjcl.codec.utf8String.toBits(r)),s=new sjcl.cipher[e.cipher](t),r=sjcl.mode[e.mode].decrypt(s,e.ct,e.iv,r,e.ts),n.c(i,e),i.key=t,sjcl.codec.utf8String.fromBits(r)},encode:function(t){var e,r="{",i="";for(e in t)if(t.hasOwnProperty(e)){if(!e.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name");switch(r+=i+'"'+e+'":',i=",",typeof t[e]){case"number":case"boolean":r+=t[e];break;case"string":r+='"'+escape(t[e])+'"';break;case"object":r+='"'+sjcl.codec.base64.fromBits(t[e],1)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type")}}return r+"}"},decode:function(t){if(t=t.replace(/\s/g,""),!t.match(/^\{.*\}$/))throw new sjcl.exception.invalid("json decode: this isn't json!");t=t.replace(/^\{|\}$/g,"").split(/,/);var e,r,i={};for(e=0;e<t.length;e++){if(!(r=t[e].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new sjcl.exception.invalid("json decode: this isn't json!");i[r[2]]=r[3]?parseInt(r[3],10):r[2].match(/^(ct|salt|iv)$/)?sjcl.codec.base64.toBits(r[4]):unescape(r[4])}return i},c:function(t,e,r){if(void 0===t&&(t={}),void 0===e)return t;var i;for(i in e)if(e.hasOwnProperty(i)){if(r&&void 0!==t[i]&&t[i]!==e[i])throw new sjcl.exception.invalid("required parameter overridden");t[i]=e[i]}return t},V:function(t,e){var r,i={};for(r=0;r<e.length;r++)void 0!==t[e[r]]&&(i[e[r]]=t[e[r]]);return i}},sjcl.encrypt=sjcl.json.encrypt,sjcl.decrypt=sjcl.json.decrypt,sjcl.misc.S={},sjcl.misc.cachedPbkdf2=function(t,e){var r,i=sjcl.misc.S;return e=e||{},r=e.iter||1e3,i=i[t]=i[t]||{},r=i[r]=i[r]||{firstSalt:e.salt&&e.salt.length?e.salt.slice(0):sjcl.random.randomWords(2,0)},i=void 0===e.salt?r.firstSalt:e.salt,r[i]=r[i]||sjcl.misc.pbkdf2(t,i,e.iter),{key:r[i].slice(0),salt:i.slice(0)}},function(t,e,r){var i=function(){},n=t.JSON,s=t.console,c=function(){var t={info:function(){},debug:function(){},log:function(){},warn:function(){},error:function(){}};s=s?s:t;Array.prototype.slice.call(arguments)};i.prototype={config:{apiMasterPasswordUrl:"/api/masterpassword",apiErrorRedirect:"/error",signatureAndIdentifierString:"SPARDA",encryptedKeyString:"pdata1",encryptedVecString:"pdata2",encryptedMasterPin:"masterPin",encryptedGoldenKey:"gk",iterations:2e3,iterationsFast:100,cookieName:"data"},CryptoJS:e,MD5:t.md5,sjcl:r,getErrorCode:function(t){c("getErrorCode begin code = ",t);var e={94000010:{action:"redirect",url:this.config.apiErrorRedirect+"/94000010"},"default":{action:"redirect",url:this.config.apiErrorRedirect}},r=e[t]||e["default"];return r?r:e},errorhandle:function(e){c("errorhandle begin code = ",e);var r=this.getErrorCode(e);switch(r.action.toLowerCase()){case"redirect":t.location.href=r.url;break;default:t.location.href=r.url}return this},getCookie:function(t){c("getCookie begin cname = ",t);for(var e=t+"=",r=document.cookie.split(";"),i="",n=0;n<r.length;n++)if(i=r[n].replace(/^\s+|\s+$/g,""),0===i.indexOf(e))return i.substring(e.length,i.length);return""},setCookie:function(e,r){return c("setCookie begin cname = ",e),c("setCookie begin cvalue = ",r),document.cookie=e+"="+t.escape(r)+"; ",this},getLocalStorage:function(e){return c("getLocalStorage begin key = ",e),this.isLocalStorageUsable()?t.localStorage.getItem(e):null},setLocalStorage:function(e,r){return c("setLocalStorage begin key = ",e),c("setLocalStorage begin value = ",r),this.isLocalStorageUsable()&&(r="object"==typeof r?n.stringify(r):r,t.localStorage.setItem(e,r)),this},deleteLocalStorage:function(e){return c("deleteLocalStorage begin key = ",e),this.isLocalStorageUsable()&&t.localStorage.removeItem(e),this},isLocalStorageUsable:function(){c("isLocalStorageUsable begin");var e="test",r="1",i=t.sessionStorage;try{i.setItem(e,r),i.removeItem(e),this.isLocalStorage=!0}catch(n){this.isLocalStorage=!1,this.errorhandle("94000010")}return this.isLocalStorage},cleanLocalStorage:function(){c("cleanLocalStorage begin");for(var t in this.config)t.match(/^encrypted/i)&&this.deleteLocalStorage(this.config[t]);return this},getCookieKey:function(){c("getCookiesAES begin");var t=this.getCookie(this.config.cookieName);if(!t)return null;for(var e=this.getPbkdf2StringFast(t);e.length<100;)e+=e;var r=this.getAESPackageFast(t,e.substr(0,100)),i={Major:r.Key,Auxiliary:r.Vec};return i},saveEncryptedGoldenKey:function(t){c("saveEncryptedGoldenKey begin");var e=this.getCookieKey();if(!e)return!1;var r=this.encryptString(e,t);try{return this.setLocalStorage(this.config.encryptedGoldenKey,r),!0}catch(i){return!1}},getDecryptedGoldenKey:function(){c("getDecryptedGoldenKey begin");var t=this.getCookieKey();if(!t)return!1;var e=this.getLocalStorage(this.config.encryptedGoldenKey);if(!e)return null;var r=this.decryptString(t,e);return this.goldenKey=n.parse(r),this.goldenKey},saveEncryptedMasterPassword:function(t){c("saveEncryptedMasterPassword begin masterpassword = ",t);var e=this.getCookieKey();if(!e)return!1;var r,i,s;if("string"==typeof t){var o=this.getLocalStorage(this.config.encryptedMasterPin),a="string"==typeof o?n.parse(o):o;r=this.getAESPackage(t,a.Initiator)}else if(t.Major&&t.Auxiliary)r={Key:n.stringify(t.Major),Vec:n.stringify(t.Auxiliary)};else{if(!t.Key||!t.Vec)return!1;r=t}i=this.encryptString(e,r.Key.toString()),s=this.encryptString(e,r.Vec.toString());try{this.setLocalStorage(this.config.encryptedKeyString,i),this.setLocalStorage(this.config.encryptedVecString,s)}catch(h){if(22===h.code)return!1;throw h}return!0},getDecryptedMasterPassword:function(){c("getDecryptedMasterPassword begin");var t=this.getLocalStorage(this.config.encryptedKeyString),r=this.getLocalStorage(this.config.encryptedVecString);if(!t||!r)return null;var i=this.getCookieKey(),n={};return i?(n.Key=e.enc.Hex.parse(this.decryptString(i,t)),n.Vec=e.enc.Hex.parse(this.decryptString(i,r)),n):null},getAESPackage:function(t,e){c("getAESPackage begin");var r=this.imp_getAESPackage(t,e,this.config.iterations);return r},getAESPackageFast:function(t,e){c("getAESPackageFast begin");var r=this.imp_getAESPackage(t,e,this.config.iterationsFast);return r},imp_getAESPackage:function(t,i,n){c("getAESPackage begin masterPin = ",t);var s=i,o=e.enc.Utf8.parse(t),a=o.toString(e.enc.Hex).concat(s.substr(o.toString(e.enc.Hex).length)),h=a.substr(0,24),l=a.substr(24,24),u={};return u.Key=e.enc.Hex.parse(r.codec.hex.fromBits(r.misc.pbkdf2(r.codec.hex.toBits(l),r.codec.hex.toBits(h),n))),h=a.substr(50,24),l=a.substr(74,24),u.Vec=e.enc.Hex.parse(r.codec.hex.fromBits(r.misc.pbkdf2(r.codec.hex.toBits(l),r.codec.hex.toBits(h),n))),c("getAESPackage AESPackage = ",u),u},getPredefineKey:function(){c("getPredefineKey begin");var t={Major:e.enc.Hex.parse("42a03ca4e74f5e49344ed60132be8c2600000000000000000000000000000000"),Auxiliary:e.enc.Hex.parse("1a31b0d95da848a38c183ebcfe213e9900000000000000000000000000000000")};return c("getPredefineKey AESPackage = ",t),t},decryptKey:function(t,e){c("decryptKey begin keyPackage = ",t),c("decryptKey begin masterPin = ",e);var r=this.getAESPackage(e,t.Initiator),i={};return i=this.decryptKeyByAES(t,r),c("decryptKey result = ",i),i},decryptKeyByAES:function(t,r){c("decryptKeyByAES begin keyPackage = ",t),c("decryptKeyByAES begin AESPackage = ",r);var i={};return i.Major=e.AES.decrypt(t.Major,r.Key,{iv:r.Vec,padding:e.pad.ZeroPadding}),i.Auxiliary=e.AES.decrypt(t.Auxiliary,r.Key,{iv:r.Vec,padding:e.pad.ZeroPadding}),i.Signature=e.AES.decrypt(t.Signature,r.Key,{iv:r.Vec,padding:e.pad.ZeroPadding}),i.Identifier=e.AES.decrypt(t.Identifier,i.Major,{iv:i.Auxiliary,padding:e.pad.ZeroPadding}),i.Signature.toString()===i.Identifier.toString()&&i.Signature.toString(e.enc.Utf8)===this.config.signatureAndIdentifierString?i:null},createKey:function(t,r){if(c("createKey begin masterPin = ",t),c("createKey begin goldenKey = ",r),!t)return null;var i=e.enc.Hex.stringify(e.lib.WordArray.random(100)),n=this.getAESPackage(t,i),s=r?r.Major:e.lib.WordArray.random(32),o=r?r.Auxiliary:e.lib.WordArray.random(32),a={};return a.Initiator=i,a.Major=e.AES.encrypt(s,n.Key,{iv:n.Vec,padding:e.pad.ZeroPadding}).toString(),a.Auxiliary=e.AES.encrypt(o,n.Key,{iv:n.Vec,padding:e.pad.ZeroPadding}).toString(),a.Signature=e.AES.encrypt(this.config.signatureAndIdentifierString,n.Key,{iv:n.Vec,padding:e.pad.ZeroPadding}).toString(),a.Identifier=e.AES.encrypt(this.config.signatureAndIdentifierString,s,{iv:o,padding:e.pad.ZeroPadding}).toString(),a},decryptString:function(t,r){if(c("decryptString begin keyPackage = ",t),c("decryptString begin encryptString = ",r),"object"==typeof r&&(r=n.stringify(r)),!r.length)return null;try{return e.AES.decrypt(r,t.Major,{iv:t.Auxiliary,padding:e.pad.ZeroPadding}).toString(e.enc.Utf8)}catch(i){return c("e = ",i),null}},encryptString:function(t,r){return c("encryptString begin keyPackage = ",t),c("encryptString begin plainText = ",r),"object"==typeof r&&(r=n.stringify(r)),r.length?e.AES.encrypt(r,t.Major,{iv:t.Auxiliary,padding:e.pad.ZeroPadding}).toString():null},getPbkdf2String:function(t){return c("getPbkdf2String begin plainText = ",t),r.codec.hex.fromBits(r.misc.pbkdf2(t,r.codec.utf8String.toBits(t),this.config.iterations)).toUpperCase()},getPbkdf2StringFast:function(t){return c("getPbkdf2String begin plainText = ",t),r.codec.hex.fromBits(r.misc.pbkdf2(t,r.codec.utf8String.toBits(t),this.config.iterationsFast)).toUpperCase()},ajax:function(e,r,i,n){c("ajax begin url = ",e),c("ajax begin cb = ",r),c("ajax begin body = ",i),c("ajax begin header = ",n);var s=t.ActiveXObject?t.ActiveXObject:t.XMLHttpRequest;n="object"==typeof n?n:{},s=new s("Microsoft.XMLHTTP"),s.open(i?"POST":"GET",e,1),s.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(var o in n)s.setRequestHeader(o,n[o]);s.onreadystatechange=function(){s.readyState>3&&r?r(s.responseText,s):r(null,null)},s.send(i)},getMasterPin:function(t){c("getMasterPin begin cb = ",t);var e=this,r=this.getLocalStorage(this.config.encryptedMasterPin);return r?(r="string"==typeof r?n.parse(r):r,t(r)):void this.ajax(this.config.apiMasterPasswordUrl,function(r){var i="object"==typeof r?r:n.parse(r);if(c("_res = ",i),"0"===i.returncode){var s=i.data[0]||null;return s&&e.setLocalStorage(e.config.encryptedMasterPin,n.stringify(s)),t(s)}return t(null)})},getGoldenKey:function(t,e){c("getGoldenKey begin masterPassword = ",t),c("getGoldenKey begin cb = ",e);var r,i,s=this,o=function(t,e){return t="string"==typeof t?n.parse(t):t,"string"==typeof e?s.decryptKey(t,e):s.decryptKeyByAES(t,e)};if(s.goldenKey)return"function"==typeof t?t(s.goldenKey):"function"==typeof e?e(this.goldenKey):s.goldenKey;if(i=this.getLocalStorage(this.config.encryptedMasterPin),"function"==typeof t){var a=s.getDecryptedMasterPassword();if(a&&i)return r=o(i,a),s.goldenKey=r,r}return i?(r=o(i,t),s.goldenKey=r,e(r)):void this.getMasterPin(function(i){return i?(r=o(i,t),s.goldenKey=r,e(r)):e(null)})},isMatchMasterPassword:function(t){c("isMatchMasterPassword begin masterPassword = ",t);var e=n.parse(this.getLocalStorage(this.config.encryptedMasterPin)),r=this.getDecryptedMasterPassword(),i=this.getAESPackage(t,e.Initiator);return r.Key.toString()===i.Key.toString()&&r.Vec.toString()===i.Vec.toString()?!0:!1},getSessionKeyAES:function(t){if(t.length<64)return!1;var r={Major:e.enc.Hex.parse(t.substring(0,32)+"00000000000000000000000000000000"),Auxiliary:e.enc.Hex.parse(t.substring(32,64)+"00000000000000000000000000000000")};return r},getSessionKeyEncryptedMasterPasswordPackage:function(t,e,r){var i=this.getAESPackage(t,e.Initiator),s=this.decryptKeyByAES(e,i);if(!s)return null;var c=this.getSessionKeyAES(r);if(!c)return null;var o={};o.Key=i.Key.toString(),o.Vec=i.Vec.toString();var a={};return a.data=this.encryptString(c,n.stringify(o)),a.Signature=e.Signature,a},getSessionKeyDecryptedMasterPasswordPackage:function(t,r,i){if(t.Signature!==r.Signature)return null;var s=this.getSessionKeyAES(i);if(!s)return null;var c={};try{var o=this.decryptString(s,t.data);if(!o)return null;c=n.parse(o)}catch(a){return null}var h={};return h.Key=e.enc.Hex.parse(c.Key),h.Vec=e.enc.Hex.parse(c.Vec),h},setJSON:function(t){n=t},setConsole:function(t){s=t}},"function"==typeof require&&"undefined"!=typeof module&&exports&&(module.exports=i)}(this,CryptoJS,sjcl);
},{}],26:[function(require,module,exports){
function CallbackTable(){this._callbackTable=[]}var console=require("./logger.js"),Util=require("./util.js");CallbackTable.name="CallbackTable",CallbackTable.prototype.addCallback=function(l,a,e,t,n){if(null==l||null==a||"string"!=typeof l||""===l||"function"!=typeof a)return console.error(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][addCallback] Invalid parameter"),this;null==n&&(n=!1);for(var c=l.split(" "),r=0;r<c.length;r++){var i=c[r].split("@"),o=i[0],u=t;i.length>1&&(u=i[1]);var b=!1,s=o.match(/^\^(.*)/);null!=s&&(o=s[1],b=!0),b=b||n,this._addCallback(o,a,e,u,b)}return this},CallbackTable.prototype._addCallback=function(l,a,e,t,n){if(null==l||"string"!=typeof l||""===l)return void console.error(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][addCallback] Invalid parameter");""===t&&(t=null);var c={id:l,callback:a,regexp:null,matchAll:!1,context:e,namespace:t,isRunOnce:n},r=this._callbackTable;Util.hasWildcard(c.id)&&(c.matchAll="*"===Util.reduceWildcard(c.id),c.matchAll===!1&&(c.regexp=new RegExp(Util.messageIdWildcard2RegExp(c.id)))),r.push(c)},CallbackTable.prototype.removeCallback=function(l,a,e,t){null==l&&(l="");for(var n=l.split(" "),c=0;c<n.length;c++){var r=n[c].split("@"),i=r[0],o=t;r.length>1&&(o=r[1]),this._removeCallback(i,a,e,o)}return this},CallbackTable.prototype._removeCallback=function(l,a,e,t){""===l&&(l=null),""===t&&(t=null);for(var n=[],c=this._callbackTable,r=function(){},i=0;i<c.length;i++){var o=c[i];if(null!=o){if(null!=l&&l!==o.id){n.push(o);continue}if(null!=a&&a!==o.callback){n.push(o);continue}if(null!=e&&e!==o.context){n.push(o);continue}if(null!=t&&t!==o.namespace){n.push(o);continue}c[i]=null,o.callback=r}}this._callbackTable=n},CallbackTable.prototype.getCallbackArray=function(l){var a=[];if(null==l||"string"!=typeof l||Util.hasWildcard(l))return console.error(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][getCallbackArray] Invalid parameter"),a;for(var e=this._callbackTable,t=[],n=0;n<e.length;n++){var c=!1,r=e[n];if(null!=r)if(null==r.regexp)(r.matchAll===!0||r.id===l)&&(c=!0);else{var i=l.match(r.regexp);null!=i&&i[0]===l&&(c=!0)}c===!0?(a.push({callback:r.callback,context:r.context}),r.isRunOnce===!1&&t.push(r)):t.push(r)}return this._callbackTable=t,a},CallbackTable.prototype.getCallbackCount=function(){return this._callbackTable.length},module.exports=CallbackTable;
},{"./logger.js":44,"./util.js":57}],27:[function(require,module,exports){
function CoProxy(){CoProxy._parent.constructor.apply(this,arguments)}var console=require("./logger.js"),JSON=require("./json3.mod.js"),Oop=require("./oop.js"),MessageProxy=require("./messageproxy.js");CoProxy.name="CoProxy",Oop.extend(CoProxy,MessageProxy),CoProxy.createCoProxies=function(o,e){var r=null!=o&&""!==o?o:"sword",t=null!=e&&""!==e?e:"shield",n={},s=new CoProxy,a=new CoProxy,g=s.getTargetInfo();return g.coProxy=a,s.setTargetInfo(g),n[r]=s,g=a.getTargetInfo(),g.coProxy=s,a.setTargetInfo(g),n[t]=a,n},CoProxy.prototype._cloneTargetInfo=function(o){var e=CoProxy._parent._cloneTargetInfo.apply(this,arguments);return null==e?null:(e.coProxy=o.coProxy,e)},CoProxy.prototype._senderId="Message.CoProxy",CoProxy.prototype.sendMessage=function(o,e,r){if(console.log(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][sendMessage]:"+o),this._isTargetInfoValid()===!1)return console.warn(__GLOBAL_LOG_PREFIX__,"invalid targetInfo"),this;if(null==o)return console.warn(__GLOBAL_LOG_PREFIX__,"null messageId"),this;null==r&&(r=this._senderId);var t=this.getTargetInfo();return this._doPostMessage({targetId:t.targetId,messageId:o,message:e,senderId:r},!1),this},CoProxy.prototype._doPostMessage=function(o,e){try{var r=this.getTargetInfo(),t=r.coProxy;e===!1?t.forwardMessage(o):setTimeout(function(){t.forwardMessage(o)},0)}catch(n){console.error(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_doPostMessage] Unable to post message");var s=this;return void setTimeout(function(){s._doErrorCallback({errorId:"Error."+o.messageId+".InvalidTarget",message:"Invalid target",senderId:s._senderId},s)},0)}},CoProxy.prototype._createMessageObject=function(o){try{return JSON.parse(o)}catch(e){}return null},CoProxy.prototype._isTargetInfoValid=function(){if(CoProxy._parent._isTargetInfoValid.apply(this,arguments)===!1)return!1;var o=this.getTargetInfo();return null==o.coProxy?!1:!0},CoProxy.prototype._defaultTargetInfo={targetId:"Message.CoProxy",coProxy:null},CoProxy.prototype._targetType="Proxy",CoProxy.prototype._targetInfoCheck=function(o){var e=this.getTargetInfo(),r=o.getTargetInfo();return e.coProxy===r.coProxy?!0:!1},module.exports=CoProxy;
},{"./json3.mod.js":41,"./logger.js":44,"./messageproxy.js":46,"./oop.js":48}],28:[function(require,module,exports){
function DomainList(t){if(this._stateObject=null,this._listObject=new ListObject,this._tmpListObject=new ListObject,null!=t){this._stateObject=new StateObject(t,{domainList:[]});var i=this._stateObject.getStates();this._listObject.setList(i.domainList)}}var StateObject=require("./stateobject.js"),ListObject=require("./listobject.js"),Url=require("./url.js"),Util=require("./util.js");DomainList.name="DomainList",DomainList.prototype._stateObject={},DomainList.prototype._listObject={},DomainList.prototype._tmpListObject={},DomainList.prototype.addDomainList=function(t,i){if(null==i&&(i=!1),this._listObject.addList(t),null!=this._stateObject&&i===!0){var e=this._stateObject.getStates();this._tmpListObject.setList(e.domainList),this._tmpListObject.addList(t),e.domainList=this._tmpListObject.getList(),this._stateObject.setStates(e)}return this},DomainList.prototype.getDomainList=function(){return this._listObject.getList()},DomainList.prototype.isInDomainList=function(t){for(var i=Url.normalizeDomain(Url.getDomain(t)).toLowerCase(),e=this.getDomainList(),s=0;s<e.length;s++){var a=e[s];if(a=Url.normalizeDomain(Url.getDomain(a)),Util.hasWildcard(a)){a=new RegExp(Util.domainWildcard2RegExp(a),"i");var n=i.match(a);if(null!=n&&n[0]===i)return!0}else if(i===a.toLowerCase())return!0}return!1},module.exports=DomainList;
},{"./listobject.js":42,"./stateobject.js":55,"./url.js":56,"./util.js":57}],29:[function(require,module,exports){
var JSON=require("./json3.mod.js"),jsnLogger=require("./jsnlog.js"),dpLoggerName="DirectPass",dpLogger=function(){function e(e,s){var t={};for(var n in s)s.hasOwnProperty(n)&&(null!=e&&null!=e[n]?t[n]=e[n]:t[n]=s[n]);return t}var s={logLevel:"log",activeAppenders:["ConsoleAppender"],AjaxAppender:{useRemote:!1,requestID:"",url:"",batchSize:50,storageKeyName:"DirectPass.JSNLog.AjaxAppender.BatchLogs"},ConsoleAppender:{}},t={},n={settings:JSON.parse(JSON.stringify(s)),getSettings:function(){var t={};try{var n=JSON.parse(window.sessionStorage["DirectPass.Debug.Logger"]);null!=n.DPLogger&&(t=n.DPLogger)}catch(r){}return this.settings=e(t,s),this.applySettings(),this.settings},setSettings:function(t){null==t&&(t={}),this.settings=e(t,s);var n={};try{n=JSON.parse(window.sessionStorage["DirectPass.Debug.Logger"])}catch(r){}n.DPLogger=this.settings,window.sessionStorage["DirectPass.Debug.Logger"]=JSON.stringify(n),this.applySettings()},applySettings:function(){var n=[];for(var r in this.settings.activeAppenders)if(this.settings.activeAppenders.hasOwnProperty(r)&&(r=this.settings.activeAppenders[r],null!=this._appenders[r])){var g={};null!=this.settings[r]&&(g=e(this.settings[r],s[r])),this._appenders[r].setOptions(g),n.push(this._appenders[r])}t(dpLoggerName).setOptions({level:t.getLevel(this.settings.logLevel),appenders:n})},log:function(e,s){t(dpLoggerName).log(e,s)},info:function(e,s){t(dpLoggerName).info(e,s)},warn:function(e,s){t(dpLoggerName).warn(e,s)},error:function(e,s){t(dpLoggerName).error(e,s)},sendBatchLogs:function(){t(dpLoggerName).sendBatch()},cleanBatchLogs:function(){t(dpLoggerName).cleanBatch()},setJSNLogger:function(e){t!==e&&null!=e&&(t=e,this._appenders={AjaxAppender:t.createAjaxAppender("ajaxAppender"),ConsoleAppender:t.createConsoleAppender("consoleAppender")},this.getSettings())}};return n}();dpLogger.setJSNLogger(jsnLogger),module.exports=dpLogger;
},{"./jsnlog.js":40,"./json3.mod.js":41}],30:[function(require,module,exports){
function EventUtil(){}EventUtil.onEvent=function(t,n,e){null!=t.addEventListener?t.addEventListener(n,e):null!=t.attachEvent&&t.attachEvent("on"+n,e)},EventUtil.offEvent=function(t,n,e){null!=t.removeEventListener?t.removeEventListener(n,e):null!=t.detachEvent&&t.detachEvent("on"+n,e)},EventUtil.onDocReady=function(t){function n(){var t=window.document.readyState;return"interactive"===t||"complete"===t}function e(){n()===!0&&(o(),t())}function o(){EventUtil.offEvent(document,"readystatechange",e)}function v(){EventUtil.onEvent(document,"readystatechange",e)}n()===!0?t():v()},module.exports=EventUtil;
},{}],31:[function(require,module,exports){
function ExtensionProxy(){this._topFrameProxy=new FrameProxy,this._currentFrameProxy=new FrameProxy,ExtensionProxy._parent.constructor.apply(this,arguments);var e=this._topFrameProxy.getTargetInfo();e.window=window.top,e.origin="*",this._topFrameProxy.setTargetInfo(e),e=this._currentFrameProxy.getTargetInfo(),e.window=window,e.origin=configModule.EXTENSIONFRAME_BASEURL,this._currentFrameProxy.setTargetInfo(e);var t=this;this._messageCallbackWrapper=function(e,r){t.forwardMessage(e)}}var JSON=require("./json3.mod.js"),Oop=require("./oop.js"),$=require("./jquery-1.11.2.mod.js"),configModule=require("../define/config.js"),MessageProxy=require("./messageproxy.js"),FrameProxy=require("./frameproxy.js");ExtensionProxy.name="ExtensionProxy",Oop.extend(ExtensionProxy,MessageProxy),ExtensionProxy.prototype._message=function(e,t){0===e&&t>0?(this._topFrameProxy.onMessage("*",this._messageCallbackWrapper),this._currentFrameProxy.onMessage("*",this._messageCallbackWrapper)):0===t&&e>0&&(this._topFrameProxy.offMessage("*",this._messageCallbackWrapper),this._currentFrameProxy.offMessage("*",this._messageCallbackWrapper))},ExtensionProxy.prototype.setTargetInfo=function(e){ExtensionProxy._parent.setTargetInfo.apply(this,arguments),e=this.getTargetInfo();var t=this._topFrameProxy.getTargetInfo();return t.targetId=e.targetId,this._topFrameProxy.setTargetInfo(t),t=this._currentFrameProxy.getTargetInfo(),t.targetId=e.targetId,this._currentFrameProxy.setTargetInfo(t),this},ExtensionProxy.prototype.setSenderId=function(e){return ExtensionProxy._parent.setSenderId.apply(this,arguments),this._topFrameProxy.setSenderId(e),this._currentFrameProxy.setSenderId(e),this},ExtensionProxy.prototype._cloneTargetInfo=function(e){var t=ExtensionProxy._parent._cloneTargetInfo.apply(this,arguments);return null==t?null:(t.elementId=e.elementId,t.eventName=e.eventName,t)},ExtensionProxy.prototype._doPostMessage=function(e){var t=this.getTargetInfo(),r=t.elementId,n=t.eventName,o=$("#"+r);if(1===o.length){var a=null;try{a=new CustomEvent(n,{detail:{messageObject:e}})}catch(s){}if(null==a)try{a=document.createEvent("CustomEvent"),a.initCustomEvent(n,!0,!0,{messageObject:e})}catch(s){}if(null!=a)try{return void o[0].dispatchEvent(a)}catch(s){}}if(null!=external)try{return void external.dpPostMessage(e,"*")}catch(s){}var i=this;setTimeout(function(){i._doErrorCallback({errorId:"Error."+e.messageId+".InvalidTarget",message:"Invalid target",senderId:i._senderId},i)},0)},ExtensionProxy.prototype._isTargetInfoValid=function(){if(ExtensionProxy._parent._isTargetInfoValid.apply(this,arguments)===!1)return!1;var e=this.getTargetInfo();return null==e.elementId||null==e.eventName?!1:!0},ExtensionProxy.prototype._defaultTargetInfo={targetId:"Message.Extension",elementId:null,eventName:null},ExtensionProxy.prototype._targetType="Extension",ExtensionProxy.prototype._targetInfoCheck=function(e){var t=this.getTargetInfo(),r=e.getTargetInfo();return t.targetId===r.targetId&&t.elementId===r.elementId&&t.eventName===r.eventName?!0:!1},module.exports=ExtensionProxy;
},{"../define/config.js":1,"./frameproxy.js":34,"./jquery-1.11.2.mod.js":38,"./json3.mod.js":41,"./messageproxy.js":46,"./oop.js":48}],32:[function(require,module,exports){
function FormFillingInfo(){this._pattern=FORMFILLING_DEFINE.DEFAULT_FORMPATTERN,this._userInfoFlag=FORMFILLING_DEFINE.DEFAULT_USERINFO_FLAG,this._userInfoMaskDef=FORMFILLING_DEFINE.USERINFO_MASK_DEF,this._userInfoExcludeList=FORMFILLING_DEFINE.USERINFO_EXCLUDE_LIST,this._userInfo={},this._encUserInfo=null,this._userInfoPreview=null,this._userInfoDecrypted=!1}var console=require("../lib/logger.js"),FORMFILLING_DEFINE=require("../define/formfillingdefine.js"),Util=require("../lib/util.js"),JSON=require("../lib/json3.mod.js"),PWM_DEFINE=require("../define/pwmdefine.js"),pinManager=require("../helper/pinmanagersingleton.js");FormFillingInfo.name="FormFillingInfo",FormFillingInfo.prototype.getPattern=function(){return this._pattern},FormFillingInfo.prototype.getUserInfoFlag=function(){return this._userInfoFlag},FormFillingInfo.prototype.setUserInfo=function(e){if(null==e)return void(this._userInfo=null);this._userInfo=JSON.parse(JSON.stringify(e));for(var n=0;n<this._userInfoExcludeList.length;n++)delete this._userInfo[this._userInfoExcludeList[n]];for(var r=["personal_birthday_year","personal_birthday_month","personal_birthday_day"],i=0;i<r.length;i++){var t=r[i];null!=this._userInfo[t]&&"string"!=typeof this._userInfo[t]&&(this._userInfo[t]=this._userInfo[t].toString())}},FormFillingInfo.prototype.getUserInfo=function(){if(this._userInfoDecrypted!==!0){var e=pinManager.getPinState();if(e===PWM_DEFINE.PINSTATE.VALID){if(this._userInfo={},null!=this._encUserInfo&&this._encUserInfo!==PWM_DEFINE.FORMFILLING.USERINFO_EMPTY){var n=pinManager.decryptUserInfo(this._encUserInfo);null!=n?this.setUserInfo(n):console.info(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][getUserInfo] Can't decrypt userInfo!")}this._userInfoDecrypted=!0}}return this._userInfo},FormFillingInfo.prototype.getPreviewUserInfo=function(){if(null==this._userInfoPreview){var e=this.getUserInfo();if(this._userInfoDecrypted===!1)return{};var n={};for(var r in e)e.hasOwnProperty(r)&&null!=this._userInfoMaskDef[r]&&null!==e[r]&&""!==e[r]&&"0"!==e[r]&&"-1"!==e[r]&&(n[r]=Util.stringCensoring(e[r],this._userInfoMaskDef[r].maxVisibleLen,this._userInfoMaskDef[r].maxOutputLen));this._userInfoPreview=n}return this._userInfoPreview},FormFillingInfo.prototype.setEncUserInfo=function(e){this._encUserInfo=e},FormFillingInfo.prototype.getEncUserInfo=function(){return this._encUserInfo},module.exports=FormFillingInfo;
},{"../define/formfillingdefine.js":2,"../define/pwmdefine.js":4,"../helper/pinmanagersingleton.js":19,"../lib/json3.mod.js":41,"../lib/logger.js":44,"../lib/util.js":57}],33:[function(require,module,exports){
function FrameMessageBroker(){this._messageCallbackTable=new CallbackTable;var e=this;this._messageCallbackWrapper=function(a){e._messageCallback(a)}}var console=require("./logger.js"),Oop=require("./oop.js"),EventUtil=require("./eventutil.js"),CallbackTable=require("./callbacktable.js"),MessageProxy=require("./messageproxy.js"),FrameProxy=require("./frameproxy.js");FrameMessageBroker.name="FrameMessageBroker",Oop.borrow(FrameMessageBroker,MessageProxy,["setSenderId","getSenderId","_senderId","onMessage","oneMessage","offMessage","_message","_messageCallbackTable","_messageCallbackWrapper","_doCallback"]),Oop.borrow(FrameMessageBroker,FrameProxy,["_createMessageObject"]),FrameMessageBroker.prototype._message=function(e,a){0===e&&a>0?EventUtil.onEvent(window,"message",this._messageCallbackWrapper):0===a&&e>0&&EventUtil.offEvent(window,"message",this._messageCallbackWrapper)},FrameMessageBroker.prototype._messageCallback=function(e){if(null==e)return void console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_messageCallback] Insufficient event info");var a=this._createMessageObject(e);if(null!=a&&null!=a.targetId&&null!=a.messageId&&null!=a.senderId){var s=this._messageCallbackTable.getCallbackArray(a.messageId);if(s.length>0){var r=new FrameProxy,l=r.getTargetInfo();l.targetId=a.senderId,l.window=e.source,l.origin="null"===e.origin?null:e.origin,r.setTargetInfo(l),r.setSenderId(this._senderId),this._doCallback(s,a,r)}}},module.exports=FrameMessageBroker;
},{"./callbacktable.js":26,"./eventutil.js":30,"./frameproxy.js":34,"./logger.js":44,"./messageproxy.js":46,"./oop.js":48}],34:[function(require,module,exports){
function FrameProxy(){FrameProxy._parent.constructor.apply(this,arguments);var e=this;this._messageCallbackWrapper=function(r){e._messageCallback(r)}}var console=require("./logger.js"),Util=require("./util.js"),Url=require("./url.js"),JSON=require("./json3.mod.js"),Oop=require("./oop.js"),EventUtil=require("./eventutil.js"),MessageProxy=require("./messageproxy.js"),DPLocksmith=require("./DPLocksmith.js"),CryptoJS=DPLocksmith.prototype.CryptoJS;FrameProxy.name="FrameProxy",FrameProxy.validEncoder=function(){var e={};return null!=window.btoa&&null!=window.atob?(e.utf8ToB64=function(e){return window.btoa(encodeURIComponent(e))},e.b64ToUtf8=function(e){return decodeURIComponent(window.atob(e))}):(e.utf8ToB64=function(e){var r=CryptoJS.enc.Utf8.parse(e);return CryptoJS.enc.Base64.stringify(r)},e.b64ToUtf8=function(e){var r=CryptoJS.enc.Base64.parse(e);return CryptoJS.enc.Utf8.stringify(r)}),e}(),Oop.extend(FrameProxy,MessageProxy),FrameProxy.prototype._message=function(e,r){0===e&&r>0?EventUtil.onEvent(window,"message",this._messageCallbackWrapper):0===r&&e>0&&EventUtil.offEvent(window,"message",this._messageCallbackWrapper)},FrameProxy.prototype._cloneTargetInfo=function(e){var r=FrameProxy._parent._cloneTargetInfo.apply(this,arguments);return null==r?null:(r.window=e.window,r.origin=e.origin,r)},FrameProxy.prototype._doPostMessage=function(e){function r(r,o,t,n){try{o.postMessage(t,n)}catch(a){console.error(__GLOBAL_LOG_PREFIX__,"["+r.constructor.name+"][_doPostMessage] Unable to post message"),setTimeout(function(){r._doErrorCallback({errorId:"Error."+e.messageId+".InvalidTarget",message:"Invalid target",senderId:r._senderId},r)},0)}}var o=null;try{var t=JSON.stringify(e);o=FrameProxy.validEncoder.utf8ToB64(t)}catch(n){return}var a=this.getTargetInfo(),i=a.origin;null==i&&(i="*");var s=a.window;if(Util.isIE()===!0&&Util.isDocModeBelow(9)===!0){var l=this;setTimeout(function(){return Util.isWindowAvailable(s)===!1?void console.warn(__GLOBAL_LOG_PREFIX__,"["+l.constructor.name+"][_doPostMessage] Target window unavailable"):void r(l,s,o,i)},0)}else r(this,s,o,i)},FrameProxy.prototype._createMessageObject=function(e){var r=e.data,o="null"===e.origin?null:e.origin,t=(e.source,null);try{var n=FrameProxy.validEncoder.b64ToUtf8(r);t=JSON.parse(n)}catch(a){}if(null==t)try{t=JSON.parse(r)}catch(a){}return null!=t&&(t.messageOrigin=o),t},FrameProxy.prototype._isTargetInfoValid=function(){if(FrameProxy._parent._isTargetInfoValid.apply(this,arguments)===!1)return!1;var e=this.getTargetInfo();return Util.isWindowAvailable(e.window)===!1?(console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_isTargetInfoValid] Target window unavailable"),!1):!0},FrameProxy.prototype._isSameOrigin=function(e){if(null==e)return!1;var r=this.getTargetInfo();return null==r.origin||"*"===r.origin?!0:e.toLowerCase()===r.origin.toLowerCase()?!0:!1},FrameProxy.prototype._messageCallback=function(e){if(null==e)return void console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_messageCallback] Null event");var r=this.getTargetInfo(),o=r.window;if(Util.isSameWindow(o,null)!==!0){var t=Util.isWindowAvailable(e.source)?e.source:null;if(null==t)console.info(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_messageCallback] Unknown window!");else if(Util.isSameWindow(o,t)===!1)return;var n="null"===e.origin?null:e.origin,a=this._isSameOrigin(n);if(a===!1)return void console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_messageCallback] Unexpected message origin!");var i=this._createMessageObject(e);this._isValidMessage(i)!==!1&&this._doMessageCallback(i,this)}},FrameProxy.prototype.forwardMessage=function(e){e.messageOrigin="*";var r=this.getTargetInfo();null!=r.origin&&(e.messageOrigin=r.origin),FrameProxy._parent.forwardMessage.apply(this,[e])},FrameProxy.prototype._defaultTargetInfo={targetId:"Message.Frame",window:null,origin:"*"},FrameProxy.prototype._targetType="FrameWindow",FrameProxy.prototype.hasSameTargetSource=function(e){var r=this.getTargetInfo(),o=r.window,t=e.getTargetInfo(),n=t.window;return Util.isWindowAvailable(o)===!1||Util.isWindowAvailable(n)===!1?(console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][hasSameTargetSource] Unexpected window!"),!1):Util.isSameWindow(o,n)===!1?!1:!0},FrameProxy.prototype._targetInfoCheck=function(e){var r=this.getTargetInfo(),o=e.getTargetInfo();return r.targetId!==o.targetId?!1:this.hasSameTargetSource(e)},module.exports=FrameProxy;
},{"./DPLocksmith.js":25,"./eventutil.js":30,"./json3.mod.js":41,"./logger.js":44,"./messageproxy.js":46,"./oop.js":48,"./url.js":56,"./util.js":57}],35:[function(require,module,exports){
function FrameProxyGroup(){FrameProxyGroup._parent.constructor.apply(this,arguments)}var Oop=require("./oop.js"),MessageProxyGroup=require("./messageproxygroup.js");FrameProxyGroup.name="FrameProxyGroup",Oop.extend(FrameProxyGroup,MessageProxyGroup),module.exports=FrameProxyGroup;
},{"./messageproxygroup.js":47,"./oop.js":48}],36:[function(require,module,exports){
function FunctionChain(){this._functionChain=[],this._clear(),this._callbackTable=new CallbackTable}var console=require("./logger.js"),CallbackTable=require("./callbacktable.js");FunctionChain.name="FunctionChain",FunctionChain.prototype._clear=function(t){this._result={resolved:0,rejected:0,total:0,info:t},this._isExecuted=!1},FunctionChain.prototype.addFunction=function(t,l){return this._functionChain.push({func:t,context:l}),this},FunctionChain.prototype.onResolved=function(t,l,e){return e===!0?this._isExecuted===!0&&this._result.resolved===this._result.total?null==l?t(null,this._result):t.call(l,null,this._result):this._callbackTable.addCallback("allResolve",t,l):this._callbackTable.addCallback("resolve",t,l),this},FunctionChain.prototype.onRejected=function(t,l){return this._callbackTable.addCallback("reject",t,l),this},FunctionChain.prototype._resolve=function(t){this._result.resolved++;var l=this._callbackTable.getCallbackArray("resolve");this._doCallback(l,t),this._result.resolved===this._result.total&&(l=this._callbackTable.getCallbackArray("allResolve"),this._doCallback(l))},FunctionChain.prototype._reject=function(t){this._result.rejected++;var l=this._callbackTable.getCallbackArray("reject");this._doCallback(l,t)},FunctionChain.prototype._doCallback=function(t,l){for(var e=0;e<t.length;e++){var n=t[e];null==n.context?n.callback(l,this._result):n.callback.call(n.context,l,this._result)}},FunctionChain.prototype.execute=function(t){this._clear(t);var l=this,e={resolve:function(t){l._resolve(t)},reject:function(t){l._reject(t)},info:this._result.info},n=this._functionChain.length;this._result.total=n;for(var a=0;n>a;a++){var i=this._functionChain[a];null==i.context?i.func(e):i.func.call(i.context,e)}return this._isExecuted=!0,this},module.exports=FunctionChain;
},{"./callbacktable.js":26,"./logger.js":44}],37:[function(require,module,exports){
function HttpMessageProxy(){HttpMessageProxy._parent.constructor.apply(this,arguments)}var JSON=require("./json3.mod.js"),Util=require("./util.js"),Url=require("./url.js"),Oop=require("./oop.js"),$=require("./jquery-1.11.2.mod.js");require("./jquery.xdomrequest.mod.js");var MessageProxy=require("./messageproxy.js");HttpMessageProxy.name="HttpMessageProxy",Oop.extend(HttpMessageProxy,MessageProxy),HttpMessageProxy.prototype._getApiFromTable=function(e){var t=this.getTargetInfo();if(null==t||null==t.apiTable)return null;for(var r=t.apiTable,a=0;a<r.length;a++)if(r[a].messageId===e)return r[a];return null},HttpMessageProxy.prototype._cloneTargetInfo=function(e){var t=HttpMessageProxy._parent._cloneTargetInfo.apply(this,arguments);return null==t?null:(t.baseAddress=e.baseAddress,t.apiTable=e.apiTable,t)},HttpMessageProxy.prototype._isTargetInfoValid=function(){if(HttpMessageProxy._parent._isTargetInfoValid.apply(this,arguments)===!1)return!1;var e=this.getTargetInfo();return null==e.baseAddress||null==e.apiTable?!1:!0},HttpMessageProxy.prototype._doPostMessage=function(e){var t=this._getApiFromTable(e.messageId),r=this;if(null==t||null==t.api)return void setTimeout(function(){r._doErrorCallback({errorId:"Error."+e.messageId+".InvalidTarget",message:"Invalid target",senderId:r._senderId},r)},0);var a=e.message,s=null,o="",n=!1;null!=a&&(null!=a.data&&(s=a.data),null!=a.additionalPath&&(o=a.additionalPath),null!=a.cache&&(n=a.cache));var l=this.getTargetInfo(),i=Url.concat(l.baseAddress,t.api);i=Url.concat(i,o);var d="GET";null!=t.method&&(d=t.method);var p="application/json";null!=t.contentType&&(p=t.contentType),"application/json"===p&&(null!=s&&(s=JSON.stringify(s)),"GET"===d&&(p="text/plain",null!=s&&(s={json_data:s}))),Util.isIE()!==!0||Util.isDocModeBelow(10)!==!0||"PUT"!==d&&"DELETE"!==d&&"PATCH"!==d||("application/json"===p&&(p="application/x-www-form-urlencoded"),s={_method:d,model:s},d="POST");var g=null;try{g=$.ajax(i,{data:s,dataType:t.dataType,type:d,contentType:p,cache:n})}catch(u){}if(null==g)return void setTimeout(function(){r._doErrorCallback({errorId:"Error."+e.messageId+".AjaxInit",message:"Initialization Error",senderId:r._senderId},r)},0);var c=function(e){r._messageCallback(t,e)},y=function(e,a,s){r._errorCallback(t,{textStatus:a,errorThrown:s})};g.done(c),g.fail(y)},HttpMessageProxy.prototype._createMessageObject=function(e,t){var r=this.getTargetInfo(),a="Response."+e.messageId;return{targetId:this._senderId,messageId:a,message:t,senderId:r.targetId}},HttpMessageProxy.prototype._messageCallback=function(e,t){var r=this._createMessageObject(e,t);this._isValidMessage(r)!==!1&&this._doMessageCallback(r,this)},HttpMessageProxy.prototype._errorCallback=function(e,t){this._doErrorCallback({errorId:"Error."+e.messageId+".Ajax",message:t,senderId:this._senderId},this)},HttpMessageProxy.prototype._defaultTargetInfo={targetId:"Message.Server",baseAddress:null,apiTable:null},HttpMessageProxy.prototype._targetType="HttpServer",HttpMessageProxy.prototype._targetInfoCheck=function(e){var t=this.getTargetInfo(),r=e.getTargetInfo();return t.targetId===r.targetId&&t.baseAddress===r.baseAddress?!0:!1},module.exports=HttpMessageProxy;
},{"./jquery-1.11.2.mod.js":38,"./jquery.xdomrequest.mod.js":39,"./json3.mod.js":41,"./messageproxy.js":46,"./oop.js":48,"./url.js":56,"./util.js":57}],38:[function(require,module,exports){
var undefined;!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(fe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return ie.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function u(e,t,n){if(n===undefined&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ne.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(e,t,n)}else n=undefined}return n}function l(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,a=ie.expando,s=e.nodeType,u=s?ie.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||n!==undefined||"string"!=typeof t)return l||(l=s?e[a]=J.pop()||ie.guid++:a),u[l]||(u[l]=s?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[l]=ie.extend(u[l],t):u[l].data=ie.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[ie.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ie.camelCase(t)])):i=o,i}}function d(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,a=o?ie.cache:e,s=o?e[ie.expando]:ie.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Ce?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ce?e.querySelectorAll(t||"*"):undefined;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return t===undefined||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function y(e){je.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),a=ie._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ie.event.add(t,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&je.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function E(e){var t=he,n=Ze[e];return n||(n=N(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Ke.detach()),Ze[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ft.length;i--;)if(t=ft[i]+n,t in e)return t;return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ae(r)&&(o[a]=ie._data(r,"olddisplay",E(r.nodeName)))):(i=Ae(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=ut.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ie.css(e,n+Se[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Se[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+Se[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Se[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=et(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=tt(e,t,o),(0>i||null==i)&&(i=e.style[t]),rt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){pt=undefined}),pt=ie.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Se[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(bt[t]||[]).concat(bt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&Ae(e),m=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=ie.css(e,"display"),c="none"===l?ie._data(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||m[r]===undefined)continue;h=!0}f[r]=m&&m[r]||ie.style(e,r)}else l=undefined;if(ie.isEmptyObject(f))"inline"===("none"===l?E(e.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;ie._removeData(e,"fxshow");for(t in f)ie.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ie.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=vt.length,s=ie.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=pt||q(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(O(c,l.opts.specialEasing);a>o;o++)if(r=vt[o].call(l,e,c,l.opts))return r;return ie.map(c,M,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),ie.fx.timer(ie.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var u;return o[s]=!0,ie.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),i===undefined&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Vt.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],Y=J.slice,G=J.concat,Q=J.push,K=J.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.2",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:J.sort,splice:J.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},a[r]=ie.extend(l,o,n)):n!==undefined&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return t===undefined||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):Q.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;t[r]!==undefined;)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return G.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r):undefined},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var le=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=ve.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=d=P,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(d=t.getAttribute("id"))?p=d.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=be.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=null;try{t=H.createElement("div")}catch(n){}if(null==t)return!1;try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[P]||(t[P]={}),(s=u[r])&&s[0]===W&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function y(e,t,n,i,o,a){return i&&!i[P]&&(i=y(i)),o&&!o[P]&&(o=y(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,y=r||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?y:g(y,f,e,s,u),b=n?o||(r?e:h||i)?[]:a:v;if(n&&n(v,b,s,u),i)for(l=g(b,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(v[p[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(v[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?ee(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function v(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return y(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&v(e.slice(s,r)),i>r&&v(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",m=r&&[],y=[],v=A,b=r||o&&T.find.TAG("*",l),x=W+=null==v?1:Math.random()||.1,w=b.length;for(l&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,y,a,s);if(r){if(p>0)for(;h--;)m[h]||y[h]||(y[h]=G.call(u));y=g(y)}K.apply(u,y),l&&!r&&y.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=x,A=v),m};return i?r(a):a}var x,w,T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,J={}.hasOwnProperty,Y=[],G=Y.pop,Q=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(Y=Z.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(Ne){K={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ye.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return _?t.getElementsByClassName(e):void 0},F=[],M=[],(w.qsa=ye.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ye.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ye.test(q.compareDocumentPosition),B=t||ye.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&B(R,e)?-1:t===r||t.ownerDocument===R&&B(R,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?ee(D,e)-ee(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(de,"='$1']"),!(!w.matchesSelector||!_||F&&F.test(n)||M&&M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):undefined;return r!==undefined?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&v){for(c=g[P]||(g[P]={}),l=c[e]||[],p=l[0]===W&&l[1],f=l[0]===W&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(v&&(l=(t[P]||(t[P]={}))[e])&&l[0]===W)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++f||(v&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ue,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({
value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in T.filter)!(i=he[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=v(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&E(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(l||k(e,d))(r,t,!_,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=le,ie.expr=le.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=le.uniqueSort,ie.text=le.getText,ie.isXMLDoc=le.isXML,ie.contains=le.contains;var ce=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;i>t;t++)if(ie.contains(r[t],this))return!0}));for(t=0;i>t;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=he.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ie):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,pe=ie(he);var ye=/^(?:parents|prev(?:Until|All))/,ve={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(n===undefined||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ve[e]||(i=ie.unique(i)),ye.test(e)&&(i=i.reverse())),this.pushStack(i)}});var be=/\S+/g,xe={};ie.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):ie.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&i>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function o(t){ie.each(t,function(t,n){var r=ie.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,u,r))>-1;)u.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?ie.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=undefined,this},disabled:function(){return!u},lock:function(){return l=undefined,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&ie.isFunction(e.promise)?a:0,u=1===s?e:ie.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Y.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&ie.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}});var we;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(we.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!we)if(we=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),ie.ready()}}()}return we.promise(t)};var Te,Ce=typeof undefined;for(Te in ie(ne))break;ne.ownLast="0"!==Te,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(e===undefined){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),u(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?u(o,e,ie.data(o,e)):undefined},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):t===undefined?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";a--;)n=ie._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],Ae=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},De=ie.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,o,a)}else if(r!==undefined&&(i=!0,ie.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ie(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},je=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone=!1;try{ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML}catch(r){}if(e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(r){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Le=/^(?:input|select|textarea)$/i,He=/^key/,qe=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===Ce||e&&ie.event.triggered===e.type?undefined:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=ie.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=ie.event.special[p]||{},d=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),ie.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(be)||[""],l=t.length;l--;)if(s=Me.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ie.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ie.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(e,p+t[l],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),l=ie.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!ie.isWindow(r)){for(u=l.delegateType||p,_e.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||he)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ie.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){c=r[a],c&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(m){}ie.event.triggered=undefined,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),u=(ie._data(this,"events")||{})[e.type]||[],l=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),n!==undefined&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",i[n]===undefined&&(i[n]=r.needsContext?ie(n,this).index(u)>=0:ie.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qe.test(i)?this.mouseHooks:He.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||he,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||o===undefined||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Ce&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===!1?f:p):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:undefined;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Le.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Le.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Le.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=undefined):null==r&&("string"==typeof t?(r=n,n=undefined):(r=n,n=t,t=undefined)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return ie().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=undefined),n===!1&&(n=p),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Be=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Pe=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,$e=/<tbody/i,ze=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ge=m(he),Qe=Ge.appendChild(he.createElement("div"));Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,ie.extend({clone:function(e,t,n){var r,i,o,a,s,u=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Be.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Qe.innerHTML=e.outerHTML,Qe.removeChild(o=Qe.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(We.exec(o)||["",""])[1].toLowerCase(),c=Ye[u]||Ye._default,s.innerHTML=c[1]+o.replace(Re,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Pe.test(o)&&p.push(t.createTextNode(Pe.exec(o)[0])),!ne.tbody)for(o="table"!==u||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),y),h=0;o=p[h++];)if((!r||-1===ie.inArray(o,r))&&(a=ie.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ue.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ie.expando,u=ie.cache,l=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Ce?n.removeAttribute(s):n[s]=null,J.push(i))}}}),ie.fn.extend({text:function(e){return De(this,function(e){return e===undefined?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return De(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(Oe,""):undefined;if(!("string"!=typeof e||Ie.test(e)||!ne.htmlSerialize&&Be.test(e)||!ne.leadingWhitespace&&Pe.test(e)||Ye[(We.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Re,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=ie.isFunction(f);if(p||l>1&&"string"==typeof f&&!ne.checkClone&&Xe.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),b),i=o.length;l>u;u++)r=s,u!==d&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),u=0;i>u;u++)r=o[u],Ue.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Je,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ie(o[r])[t](n),Q.apply(i,n.get());return this.pushStack(i)}});var Ke,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et,tt,nt=/^margin/,rt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),it=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null);
},tt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||et(e),a=n?n.getPropertyValue(t)||n[t]:undefined,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),rt.test(a)&&nt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),a===undefined?a:a+""}):he.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||et(e),a=n?n[t]:undefined,null==a&&s&&s[t]&&(a=s[t]),rt.test(a)&&!it.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),a===undefined?a:a+""||"auto"}),function(){function t(){var t,n,r,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),ie.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,ut=new RegExp("^("+ke+")(.*)$","i"),lt=new RegExp("^([+-])=("+ke+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),u=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=S(u,s)),a=ie.cssHooks[t]||ie.cssHooks[s],n===undefined)return a&&"get"in a&&(i=a.get(e,!1,r))!==undefined?i:u[t];if(o=typeof n,"string"===o&&(i=lt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&(n=a.set(e,n,r))===undefined)))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),o===undefined&&(o=tt(e,t,r)),"normal"===o&&t in dt&&(o=dt[t]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&et(e);return D(e,n,r?j(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Se[r]+t]=o[r]||o[r-2]||o[0];return i}},nt.test(e)||(ie.cssHooks[e+t].set=D)}),ie.fn.extend({css:function(e,t){return De(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=et(e),i=t.length;i>a;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return n!==undefined?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=H.prototype.init,ie.fx.step={};var pt,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),yt=/queueHooks$/,vt=[F],bt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==o&&+r)&&gt.exec(ie.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ie.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(B,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?vt.unshift(e):vt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),a=function(){var t=B(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&yt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ie.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(pt=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),pt=undefined},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var xt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,i,"value")!==undefined||(this.value=i))});if(i)return t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,Ct=ie.expr.attrHandle,Nt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;ie.fn.extend({attr:function(e,t){return De(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ce?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?Tt:wt)),n===undefined?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?undefined:i):null!==n?r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kt&&Et||!Nt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):kt&&Et||!Nt.test(n)?e.setAttribute(!Et&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=kt&&Et||!Nt.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Et||(wt={set:function(e,t,n){var r=e.getAttributeNode(n);r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n));try{r.value=t+=""}catch(i){}return"value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wt.set},ie.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""===t?!1:t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return De(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ie.isXMLDoc(e),o&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Dt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(be)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Ce||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var jt=ie.now(),Lt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Ht,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=undefined}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var qt,_t,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},zt={},It="*/".concat("*");try{_t=location.href}catch(Xt){_t=he.createElement("a"),_t.href="",_t=_t.href}qt=Wt.exec(_t.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:Bt.test(qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:P($t),ajaxTransport:P(zt),ajax:function(e,t){function n(e,t,n,r){var i,c,y,v,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=undefined,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(v=$(d,w,n)),v=z(d,v,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ie.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ie.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=v.state,c=v.data,y=v.error,i=!y)):(y=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,y]),w.statusCode(g),g=undefined,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:y]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var r,i,o,a,s,u,l,c,d=ie.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ie(f):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},y={},v={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ot.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||_t)+"").replace(Mt,"").replace(Rt,qt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(r=Wt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===qt[1]&&r[2]===qt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(qt[3]||("http:"===qt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),R($t,d,t,w),2===b)return w;u=ie.event&&d.global,u&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Lt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ft.test(o)?o.replace(Ft,"$1_="+jt++):o+(Lt.test(o)?"&":"?")+"_="+jt++)),d.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+It+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=R(zt,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(y,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,undefined,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=undefined),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Ut=/%20/g,Vt=/\[\]$/,Jt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,Gt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Ut,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Gt.test(this.nodeName)&&!Yt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Jt,"\r\n")}}):{name:t.name,value:n.replace(Jt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=e.ActiveXObject!==undefined?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Qt=0,Kt={},Zt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Kt)Kt[e](undefined,!0)}),ne.cors=!!Zt&&"withCredentials"in Zt,Zt=ne.ajax=!!Zt,Zt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Qt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)n[i]!==undefined&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Kt[a],t=undefined,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!e.isLocal||e.crossDomain?1223===s?s=204:0===s&&(s=l.text?200:0):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Kt[a]=t:t()},abort:function(){t&&t(undefined,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(undefined,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ie.expando+"_"+jt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=undefined}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=de.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var nn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=ie.css(e,"position"),d=ie(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=ie.css(e,"top"),u=ie.css(e,"left"),l=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},ie.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Ce&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||rn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return De(this,function(e,r,i){var o=V(e);return i===undefined?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){
ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){return n?(n=tt(e,t),rt.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return De(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?ie.css(t,n,a):ie.style(t,n,r,a)},t,o?r:undefined,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack;var on=e.jQuery,an=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=an),t&&e.jQuery===ie&&(e.jQuery=on),ie},typeof t===Ce&&(e.jQuery=e.$=ie),ie});
},{}],39:[function(require,module,exports){
!function(e){"object"==typeof exports?module.exports=e(require("./jquery-1.11.2.mod.js")):e(jQuery)}(function(e){if(!e.support.cors&&e.ajaxTransport&&window.XDomainRequest){var t=/^https?:\/\//i,o=/^get|post$/i,n=new RegExp("^"+location.protocol,"i");e.ajaxTransport("* text html xml json",function(r,s,a){if(r.crossDomain&&r.async&&o.test(r.type)&&t.test(r.url)&&n.test(r.url)){var i=null;return{send:function(t,o){var n="",a=(s.dataType||"").toLowerCase();i=new XDomainRequest,/^\d+$/.test(s.timeout)&&(i.timeout=s.timeout),i.ontimeout=function(){o(500,"timeout")},i.onload=function(){var t="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,n={code:200,message:"success"},r={text:i.responseText};try{if("html"===a||/text\/html/i.test(i.contentType))r.html=i.responseText;else if("json"===a||"text"!==a&&/\/json/i.test(i.contentType))try{r.json=e.parseJSON(i.responseText)}catch(s){n.code=500,n.message="parseerror"}else if("xml"===a||"text"!==a&&/\/xml/i.test(i.contentType)){var c=new ActiveXObject("Microsoft.XMLDOM");c.async=!1;try{c.loadXML(i.responseText)}catch(s){c=void 0}if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw n.code=500,n.message="parseerror","Invalid XML: "+i.responseText;r.xml=c}}catch(p){throw p}finally{o(n.code,n.message,r,t)}},i.onprogress=function(){},i.onerror=function(){o(500,"error",{text:i.responseText})},s.data&&(n="string"===e.type(s.data)?s.data:e.param(s.data)),i.open(r.type,r.url),i.send(n)},abort:function(){i&&i.abort()}}}})}});
},{"./jquery-1.11.2.mod.js":38}],40:[function(require,module,exports){
function JL(e){if(!e)return JL.__;var t="",n=util.reduceArray(("."+e).split("."),function(e,n,r,s){t?t+="."+n:t=n;var i=e["__"+t];return void 0===i&&(JL.Logger.prototype=e,i=new JL.Logger(t),e["__"+t]=i),i},JL.__);return n}var JSON=require("./json3.mod.js"),$=require("./jquery-1.11.2.mod.js");require("./jquery.xdomrequest.mod.js");var util=require("./util.js"),logUtil=require("./logutil.js"),JL;!function(e){function t(e,t,n){return void 0!==t[e]?null===t[e]?void delete n[e]:void(n[e]=t[e]):void 0}function n(t){if(null!=e.enabled&&!e.enabled)return!1;if(null!=e.maxMessages&&e.maxMessages<1)return!1;try{if(t.userAgentRegex&&!new RegExp(t.userAgentRegex).test(navigator.userAgent))return!1}catch(n){}try{if(t.ipRegex&&e.clientIP&&!new RegExp(t.ipRegex).test(e.clientIP))return!1}catch(n){}return!0}function r(e,t){try{if(e.disallow&&new RegExp(e.disallow).test(t))return!1}catch(n){}return!0}function s(e){switch(typeof e){case"string":return e;case"number":return e.toString();case"boolean":return e.toString();case"undefined":return"undefined";case"function":return e instanceof RegExp?e.toString():s(e());case"object":return e instanceof RegExp||e instanceof String||e instanceof Number||e instanceof Boolean?e.toString():JSON.stringify(e);default:return"unknown"}}function i(e){return t("enabled",e,this),t("maxMessages",e,this),t("clientIP",e,this),t("requestId",e,this),this}function o(e){switch("string"!=typeof e&&(e="off"),e.toLowerCase()){case"all":return-2147483648;case"trace":return 1e3;case"debug":return 2e3;case"log":return 3e3;case"info":return 4e3;case"warn":return 5e3;case"error":return 6e3;case"fatal":return 7e3;case"off":default:return 2147483647}}function a(e){return new d(e)}function h(e){return new y(e)}var u={};logUtil.copyLoggerFunctions(window.console,u);var f=(new Date).getTimezoneOffset(),c=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};e.enabled,e.maxMessages,e.clientIP,e.requestId="",e.setOptions=i,e.getLevel=o;var l=function(){function e(e,t){this.inner=t,this.name="JL.Exception",this.message=s(e)}return e}();e.Exception=l,l.prototype=new Error;var g=function(){function e(e,t,n,r){this.l=e,this.m=t,this.t=r}return e}();e.LogItem=g;var p=function(){function s(t,n){this.appenderName=t,this.sendLogItems=n,this.level=e.getLevel("trace"),this.sendWithBufferLevel=2147483647,this.storeInBufferLevel=-2147483648,this.bufferSize=0,this.batchSize=1,this.buffer=[],this.batchBuffer=[],this.storageKeyName=""}return s.prototype.setOptions=function(e){if(t("level",e,this),t("ipRegex",e,this),t("userAgentRegex",e,this),t("disallow",e,this),t("sendWithBufferLevel",e,this),t("storeInBufferLevel",e,this),t("bufferSize",e,this),t("batchSize",e,this),t("storageKeyName",e,this),this.bufferSize<this.buffer.length&&(this.buffer.length=this.bufferSize),this.storageKeyName.length>0)try{this.batchBuffer=JSON.parse(window.sessionStorage[this.storageKeyName])}catch(n){}return this},s.prototype.log=function(e,t,s,i){var o;if(n(this)&&r(this,t)&&!(e<this.storeInBufferLevel)){if(o=new g(e,t,s,i),e<this.level)return void(this.bufferSize>0&&(this.buffer.push(o),this.buffer.length>this.bufferSize&&this.buffer.shift()));e<this.sendWithBufferLevel?this.batchBuffer.push(o):(this.buffer.length&&(this.batchBuffer=this.batchBuffer.concat(this.buffer),this.buffer.length=0),this.batchBuffer.push(o)),this.batchBuffer.length>this.batchSize&&(this.batchBuffer=this.batchBuffer.slice(this.batchBuffer.length-this.batchSize)),this.batchBuffer.length>=this.batchSize&&this.sendBatch(),this.storageKeyName.length>0&&(window.sessionStorage[this.storageKeyName]=JSON.stringify(this.batchBuffer))}},s.prototype.sendBatch=function(){0!==this.batchBuffer.length&&(null!=e.maxMessages&&e.maxMessages<1||(null!=e.maxMessages&&(e.maxMessages-=this.batchBuffer.length),1===this.sendLogItems(this.batchBuffer)&&this.cleanBatch()))},s.prototype.cleanBatch=function(){this.batchBuffer.length=0,this.storageKeyName.length>0&&(window.sessionStorage[this.storageKeyName]=JSON.stringify(this.batchBuffer))},s}();e.Appender=p;var d=function(e){function n(t){e.call(this,t,n.prototype.sendLogItemsAjax),this.useRemote=!1,this.url="",this.requestID=""}return c(n,e),n.prototype.setOptions=function(n){return t("useRemote",n,this),t("url",n,this),t("requestID",n,this),e.prototype.setOptions.call(this,n),this},n.prototype.sendLogItemsAjax=function(e){try{if(this.useRemote===!1||null==this.url||0===this.url.length||null==this.requestID||0===this.requestID.length)return 0;var t=JSON.stringify({r:this.requestID,z:f,lg:e});$.ajax({url:this.url,type:"POST",data:t,dataType:"json",contentType:"application/json",cache:!1,async:!0})}catch(n){return 0}return 1},n}(p);e.AjaxAppender=d;var y=function(t){function n(e){t.call(this,e,n.prototype.sendLogItemsConsole)}return c(n,t),n.prototype.sendLogItemsConsole=function(t){try{if(!u)return 0;var n;for(n=0;n<t.length;++n){var r=t[n],s=r.m;r.l<=e.getLevel("log")?u.log(s):r.l<=e.getLevel("info")?u.info(s):r.l<=e.getLevel("warn")?u.warn(s):u.error(s)}}catch(i){return 0}return 1},n}(p);e.ConsoleAppender=y;var b=function(){function e(e){this.loggerName=e,this.seenRegexes=[]}return e.prototype.setOptions=function(e){return t("level",e,this),t("userAgentRegex",e,this),t("disallow",e,this),t("ipRegex",e,this),t("appenders",e,this),t("onceOnly",e,this),this.seenRegexes=[],this},e.prototype.buildExceptionObject=function(e){var t={};return e.stack?t.stack=e.stack:t.e=e,e.message&&(t.message=e.message),e.name&&(t.name=e.name),e.data&&(t.data=e.data),e.inner&&(t.inner=this.buildExceptionObject(e.inner)),t},e.prototype._log=function(e,t,i,o){var a,h,u=0;if(!this.appenders)return this;if(e>=this.level&&n(this)&&(a=s(t),o&&(h=this.buildExceptionObject(o),h.logData=a,a=JSON.stringify(h)),r(this,a))){if(this.onceOnly)for(u=this.onceOnly.length-1;u>=0;){if(new RegExp(this.onceOnly[u]).test(a)){if(this.seenRegexes[u])return this;this.seenRegexes[u]=!0}u--}for(u=this.appenders.length-1;u>=0;)this.appenders[u].log(e,a,this.loggerName,i),u--}return this},e.prototype.trace=function(e,t){return this._log(o("trace"),e,t)},e.prototype.debug=function(e,t){return this._log(o("debug"),e,t)},e.prototype.log=function(e,t){return this._log(o("log"),e,t)},e.prototype.info=function(e,t){return this._log(o("info"),e,t)},e.prototype.warn=function(e,t){return this._log(o("warn"),e,t)},e.prototype.error=function(e,t){return this._log(o("error"),e,t)},e.prototype.fatal=function(e,t){return this._log(o("fatal"),e,t)},e.prototype.fatalException=function(e,t,n){return this._log(o("fatal"),e,t,n)},e.prototype.sendBatch=function(){for(var e in this.appenders)this.appenders.hasOwnProperty(e)&&this.appenders[e].sendBatch()},e.prototype.cleanBatch=function(){for(var e in this.appenders)this.appenders.hasOwnProperty(e)&&this.appenders[e].cleanBatch()},e}();e.Logger=b,e.createAjaxAppender=a,e.createConsoleAppender=h;var m=new d("");e.__=new e.Logger(""),e.__.setOptions({level:e.getLevel("debug"),appenders:[m]})}(JL||(JL={})),module.exports=JL;
},{"./jquery-1.11.2.mod.js":38,"./jquery.xdomrequest.mod.js":39,"./json3.mod.js":41,"./logutil.js":45,"./util.js":57}],41:[function(require,module,exports){
(function (global){
(function(){function t(e,n){function c(t){if(c[t]!==b)return c[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=c("json-stringify")&&c("json-parse");else{var r,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var a=n.stringify,s="function"==typeof a&&C;if(s){(r=function(){return 1}).toJSON=r;try{s="0"===a(0)&&"0"===a(new i)&&'""'==a(new l)&&a(v)===b&&a(b)===b&&a()===b&&"1"===a(r)&&"[1]"==a([r])&&"[null]"==a([b])&&"null"==a(null)&&"[null,null,null]"==a([b,v,null])&&a({a:[r,!0,!1,null,"\x00\b\n\f\r	"]})==o&&"1"===a(null,r)&&"[\n 1,\n 2\n]"==a([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==a(new f(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==a(new f(864e13))&&'"-000001-01-01T00:00:00.000Z"'==a(new f(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==a(new f(-1))}catch(u){s=!1}}e=s}if("json-parse"==t){var h=n.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){r=h(o);var p=5==r.a.length&&1===r.a[0];if(p){try{p=!h('"	"')}catch(u){}if(p)try{p=1!==h("01")}catch(u){}if(p)try{p=1!==h("1.")}catch(u){}}}}catch(u){p=!1}e=p}}return c[t]=!!e}e||(e=o.Object()),n||(n=o.Object());var i=e.Number||o.Number,l=e.String||o.String,a=e.Object||o.Object,f=e.Date||o.Date,s=e.SyntaxError||o.SyntaxError,u=e.TypeError||o.TypeError,h=e.Math||o.Math,p=e.JSON||o.JSON;"object"==typeof p&&p&&(n.stringify=p.stringify,n.parse=p.parse);var g,y,b,d=a.prototype,v=d.toString,C=new f(-0xc782b5b800cec);try{C=-109252==C.getUTCFullYear()&&0===C.getUTCMonth()&&1===C.getUTCDate()&&10==C.getUTCHours()&&37==C.getUTCMinutes()&&6==C.getUTCSeconds()&&708==C.getUTCMilliseconds()}catch(j){}if(!c("json")){var S="[object Function]",O="[object Date]",w="[object Number]",T="[object String]",A="[object Array]",_="[object Boolean]",N=c("bug-string-char-index");if(!C)var U=h.floor,J=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(t,e){return J[e]+365*(t-1970)+U((t-1969+(e=+(e>1)))/4)-U((t-1901+e)/100)+U((t-1601+e)/400)};if((g=d.hasOwnProperty)||(g=function(t){var e,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=v?g=function(t){var e=this.__proto__,r=t in(this.__proto__=null,this);return this.__proto__=e,r}:(e=r.constructor,g=function(t){var r=(this.constructor||e).prototype;return t in this&&!(t in r&&this[t]===r[t])}),r=null,g.call(this,t)}),y=function(t,e){var n,o,c,i=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,o=new n;for(c in o)g.call(o,c)&&i++;return n=o=null,i?y=2==i?function(t,e){var r,n={},o=v.call(t)==S;for(r in t)o&&"prototype"==r||g.call(n,r)||!(n[r]=1)||!g.call(t,r)||e(r)}:function(t,e){var r,n,o=v.call(t)==S;for(r in t)o&&"prototype"==r||!g.call(t,r)||(n="constructor"===r)||e(r);(n||g.call(t,r="constructor"))&&e(r)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],y=function(t,e){var n,c,i=v.call(t)==S,l=!i&&"function"!=typeof t.constructor&&r[typeof t.hasOwnProperty]&&t.hasOwnProperty||g;for(n in t)i&&"prototype"==n||!l.call(t,n)||e(n);for(c=o.length;n=o[--c];l.call(t,n)&&e(n));}),y(t,e)},!c("json-stringify")){var m={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},M="000000",k=function(t,e){return(M+(e||0)).slice(-t)},D="\\u00",E=function(t){for(var e='"',r=0,n=t.length,o=!N||n>10,c=o&&(N?t.split(""):t);n>r;r++){var i=t.charCodeAt(r);switch(i){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=m[i];break;default:if(32>i){e+=D+k(2,i.toString(16));break}e+=o?c[r]:t.charAt(r)}}return e+'"'},P=function(t,e,r,n,o,c,i){var l,a,f,s,h,p,d,C,j,S,N,J,m,M,D,Z;try{l=e[t]}catch(F){}if("object"==typeof l&&l)if(a=v.call(l),a!=O||g.call(l,"toJSON"))"function"==typeof l.toJSON&&(a!=w&&a!=T&&a!=A||g.call(l,"toJSON"))&&(l=l.toJSON(t));else if(l>-1/0&&1/0>l){if(x){for(h=U(l/864e5),f=U(h/365.2425)+1970-1;x(f+1,0)<=h;f++);for(s=U((h-x(f,0))/30.42);x(f,s+1)<=h;s++);h=1+h-x(f,s),p=(l%864e5+864e5)%864e5,d=U(p/36e5)%24,C=U(p/6e4)%60,j=U(p/1e3)%60,S=p%1e3}else f=l.getUTCFullYear(),s=l.getUTCMonth(),h=l.getUTCDate(),d=l.getUTCHours(),C=l.getUTCMinutes(),j=l.getUTCSeconds(),S=l.getUTCMilliseconds();l=(0>=f||f>=1e4?(0>f?"-":"+")+k(6,0>f?-f:f):k(4,f))+"-"+k(2,s+1)+"-"+k(2,h)+"T"+k(2,d)+":"+k(2,C)+":"+k(2,j)+"."+k(3,S)+"Z"}else l=null;if(r&&(l=r.call(e,t,l)),null===l)return"null";if(a=v.call(l),a==_)return""+l;if(a==w)return l>-1/0&&1/0>l?""+l:"null";if(a==T)return E(""+l);if("object"==typeof l){for(M=i.length;M--;)if(i[M]===l)throw u();if(i.push(l),N=[],D=c,c+=o,a==A){for(m=0,M=l.length;M>m;m++)J=P(m,l,r,n,o,c,i),N.push(J===b?"null":J);Z=N.length?o?"[\n"+c+N.join(",\n"+c)+"\n"+D+"]":"["+N.join(",")+"]":"[]"}else y(n||l,function(t){var e=P(t,l,r,n,o,c,i);e!==b&&N.push(E(t)+":"+(o?" ":"")+e)}),Z=N.length?o?"{\n"+c+N.join(",\n"+c)+"\n"+D+"}":"{"+N.join(",")+"}":"{}";return i.pop(),Z}};n.stringify=function(t,e,n){var o,c,i,l;if(r[typeof e]&&e)if((l=v.call(e))==S)c=e;else if(l==A){i={};for(var a,f=0,s=e.length;s>f;a=e[f++],l=v.call(a),(l==T||l==w)&&(i[a]=1));}if(n)if((l=v.call(n))==w){if((n-=n%1)>0)for(o="",n>10&&(n=10);o.length<n;o+=" ");}else l==T&&(o=n.length<=10?n:n.slice(0,10));return P("",(a={},a[""]=t,a),c,i,o,"",[])}}if(!c("json-parse")){var Z,F,$=l.fromCharCode,H={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},I=function(){throw Z=F=null,s()},Y=function(){for(var t,e,r,n,o,c=F,i=c.length;i>Z;)switch(o=c.charCodeAt(Z)){case 9:case 10:case 13:case 32:Z++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=N?c.charAt(Z):c[Z],Z++,t;case 34:for(t="@",Z++;i>Z;)if(o=c.charCodeAt(Z),32>o)I();else if(92==o)switch(o=c.charCodeAt(++Z)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=H[o],Z++;break;case 117:for(e=++Z,r=Z+4;r>Z;Z++)o=c.charCodeAt(Z),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||I();t+=$("0x"+c.slice(e,Z));break;default:I()}else{if(34==o)break;for(o=c.charCodeAt(Z),e=Z;o>=32&&92!=o&&34!=o;)o=c.charCodeAt(++Z);t+=c.slice(e,Z)}if(34==c.charCodeAt(Z))return Z++,t;I();default:if(e=Z,45==o&&(n=!0,o=c.charCodeAt(++Z)),o>=48&&57>=o){for(48==o&&(o=c.charCodeAt(Z+1),o>=48&&57>=o)&&I(),n=!1;i>Z&&(o=c.charCodeAt(Z),o>=48&&57>=o);Z++);if(46==c.charCodeAt(Z)){for(r=++Z;i>r&&(o=c.charCodeAt(r),o>=48&&57>=o);r++);r==Z&&I(),Z=r}if(o=c.charCodeAt(Z),101==o||69==o){for(o=c.charCodeAt(++Z),(43==o||45==o)&&Z++,r=Z;i>r&&(o=c.charCodeAt(r),o>=48&&57>=o);r++);r==Z&&I(),Z=r}return+c.slice(e,Z)}if(n&&I(),"true"==c.slice(Z,Z+4))return Z+=4,!0;if("false"==c.slice(Z,Z+5))return Z+=5,!1;if("null"==c.slice(Z,Z+4))return Z+=4,null;I()}return"$"},B=function(t){var e,r;if("$"==t&&I(),"string"==typeof t){if("@"==(N?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=Y(),"]"!=t;r||(r=!0))r&&(","==t?(t=Y(),"]"==t&&I()):I()),","==t&&I(),e.push(B(t));return e}if("{"==t){for(e={};t=Y(),"}"!=t;r||(r=!0))r&&(","==t?(t=Y(),"}"==t&&I()):I()),(","==t||"string"!=typeof t||"@"!=(N?t.charAt(0):t[0])||":"!=Y())&&I(),e[t.slice(1)]=B(Y());return e}I()}return t},L=function(t,e,r){var n=q(t,e,r);n===b?delete t[e]:t[e]=n},q=function(t,e,r){var n,o=t[e];if("object"==typeof o&&o)if(v.call(o)==A)for(n=o.length;n--;)L(o,n,r);else y(o,function(t){L(o,t,r)});return r.call(t,e,o)};n.parse=function(t,e){var r,n;return Z=0,F=""+t,r=B(Y()),"$"!=Y()&&I(),Z=F=null,e&&v.call(e)==S?q((n={},n[""]=r,n),"",e):r}}}return n.runInContext=t,n}var e=!1,r={"function":!0,object:!0},n=r[typeof exports]&&exports&&!exports.nodeType&&exports,o=r[typeof window]&&window||this,c=n&&r[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(o=c),n&&!e)t(o,n);else{var i=o.JSON,l=o.JSON3,a=!1,f=t(o,o.JSON3={noConflict:function(){return a||(a=!0,o.JSON=i,o.JSON3=l,i=l=null),f}});o.JSON={parse:f.parse,stringify:f.stringify}}e&&define(function(){return f})}).call(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],42:[function(require,module,exports){
function ListObject(){this._list=[]}ListObject.name="ListObject",ListObject.prototype._list=[],ListObject.prototype.getList=function(){return this._list},ListObject.prototype.setList=function(t){return null==t?(this._list=[],this):(this._list=t,this)},ListObject.prototype.addList=function(t){if(null==t||null==t.length||0===t.length)return this;if(0===this._list.length)this._list=t;else for(var i=0;i<t.length;i++)this._list.push(t[i]);return this},module.exports=ListObject;
},{}],43:[function(require,module,exports){
var logUtil=require("./logutil.js"),logFunctionGroups=[],logFunctionStore={storeLogFunctions:function(o,n){return null==o?this:null!=logFunctionGroups[o]?this:(null==n&&(n={}),logFunctionGroups[o]={},logUtil.copyLoggerFunctions(n,logFunctionGroups[o]),this)},applyLogFunctions:function(o,n){return null==o||null==n||null==logFunctionGroups[o]?this:(logUtil.copyLoggerFunctions(logFunctionGroups[o],n),this)}};module.exports=logFunctionStore;
},{"./logutil.js":45}],44:[function(require,module,exports){
var config=require("../define/config.js"),logFunctionStore=require("./logfunctionstore.js"),logger={};logFunctionStore.storeLogFunctions("SilentLogger"),logFunctionStore.storeLogFunctions("NativeLogger",window.console),logFunctionStore.applyLogFunctions(config.DEFAULT_LOGGER,logger),module.exports=logger;
},{"../define/config.js":1,"./logfunctionstore.js":43}],45:[function(require,module,exports){
var JSON=require("./json3.mod.js"),logFunctions=["log","info","warn","error"],emptyFunc=function(){},logUtil={bindContext:function(n,t){try{if(n.__bound__===!0)return n}catch(o){}var r;if(Function.prototype.bind&&null==Function.prototype.bind.prototype)try{r=Function.prototype.bind.call(n,t)}catch(o){}if(null==r&&Function.prototype.apply&&null==Function.prototype.apply.prototype)try{r=function(){Function.prototype.apply.call(n,t,[].slice.call(arguments))}}catch(o){}null==r&&(r=emptyFunc);try{r.__bound__=!0}catch(o){}return r},getBoundLogFunc:function(n,t){if(null==t)return emptyFunc;if(null==t[n]){if(null==t.log||t.log===emptyFunc)return emptyFunc;n="log"}return this.bindContext(t[n],t)},copyLoggerFunctions:function(n,t){for(var o in logFunctions)logFunctions.hasOwnProperty(o)&&(o=logFunctions[o],t[o]=this.getBoundLogFunc(o,n))},stringifyLogObject:function(n){switch(typeof n){case"string":return n;case"number":case"boolean":return n.toString();case"undefined":return"undefined";case"function":return n.toString();case"object":return n instanceof RegExp||n instanceof String||n instanceof Number||n instanceof Boolean?n.toString():JSON.stringify(n);default:return"unknown"}},stringifyLogArguments:function(n){var t="";for(var o in n)n.hasOwnProperty(o)&&(t+=this.stringifyLogObject(n[o]));return t},toLogFunction:function(n,t){var o=this;return function(){n(t,o.stringifyLogArguments([].slice.call(arguments)))}},createRelayLogger:function(n){for(var t={},o=0;o<logFunctions.length;o++){var r=logFunctions[o];t[r]=this.toLogFunction(n,r)}return t}};module.exports=logUtil;
},{"./json3.mod.js":41}],46:[function(require,module,exports){
function MessageProxy(){this._messageCallbackTable=new CallbackTable,this._errorCallbackTable=new CallbackTable,this.setTargetInfo(this._defaultTargetInfo)}var console=require("./logger.js"),CallbackTable=require("./callbacktable.js");MessageProxy.name="MessageProxy",MessageProxy.prototype.postMessage=function(e,a,t){if(console.log(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][postMessage] Enter:"+e),null==e)return console.error(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][postMessage] Empty messageId"),this;if(this._isTargetInfoValid()===!1)return console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][postMessage] Invalid target"),this;null==t&&(t=this._senderId);var r=this.getTargetInfo();return this._doPostMessage({targetId:r.targetId,messageId:e,message:a,senderId:t}),this},MessageProxy.prototype._message=function(e,a){},MessageProxy.prototype._error=function(e,a){},MessageProxy.prototype.onMessage=function(e,a,t,r){var s=this._messageCallbackTable.getCallbackCount();this._messageCallbackTable.addCallback(e,a,t,r,!1);var o=this._messageCallbackTable.getCallbackCount();return this._message(s,o),this},MessageProxy.prototype.oneMessage=function(e,a,t,r){var s=this._messageCallbackTable.getCallbackCount();this._messageCallbackTable.addCallback(e,a,t,r,!0);var o=this._messageCallbackTable.getCallbackCount();return this._message(s,o),this},MessageProxy.prototype.offMessage=function(e,a,t,r){var s=this._messageCallbackTable.getCallbackCount();this._messageCallbackTable.removeCallback(e,a,t,r);var o=this._messageCallbackTable.getCallbackCount();return this._message(s,o),this},MessageProxy.prototype.onError=function(e,a,t,r){var s=this._errorCallbackTable.getCallbackCount();this._errorCallbackTable.addCallback(e,a,t,r,!1);var o=this._errorCallbackTable.getCallbackCount();return this._error(s,o),this},MessageProxy.prototype.oneError=function(e,a,t,r){var s=this._errorCallbackTable.getCallbackCount();this._errorCallbackTable.addCallback(e,a,t,r,!0);var o=this._errorCallbackTable.getCallbackCount();return this._error(s,o),this},MessageProxy.prototype.offError=function(e,a,t,r){var s=this._errorCallbackTable.getCallbackCount();this._errorCallbackTable.removeCallback(e,a,t,r);var o=this._errorCallbackTable.getCallbackCount();return this._error(s,o),this},MessageProxy.prototype.setSenderId=function(e){return this._senderId=e,this},MessageProxy.prototype.getSenderId=function(){return this._senderId},MessageProxy.prototype.setTargetInfo=function(e){return null==e?this._targetInfo=this._cloneTargetInfo(this._defaultTargetInfo):this._targetInfo=this._cloneTargetInfo(e),this},MessageProxy.prototype.getTargetInfo=function(){return null==this._targetInfo&&(this._targetInfo=this._cloneTargetInfo(this._defaultTargetInfo)),this._cloneTargetInfo(this._targetInfo)},MessageProxy.prototype._cloneTargetInfo=function(e){return null==e?null:{targetId:e.targetId}},MessageProxy.prototype._senderId="Message.Unknown",MessageProxy.prototype._targetInfo=null,MessageProxy.prototype._messageCallbackTable=null,MessageProxy.prototype._errorCallbackTable=null,MessageProxy.prototype._doPostMessage=function(e){},MessageProxy.prototype._isTargetInfoValid=function(){var e=this.getTargetInfo();return null==e||null==e.targetId?!1:!0},MessageProxy.prototype._messageCallbackWrapper=function(){},MessageProxy.prototype._errorCallbackWrapper=function(){},MessageProxy.prototype._messageCallback=function(){},MessageProxy.prototype._errorCallback=function(){},MessageProxy.prototype._createMessageObject=function(e){},MessageProxy.prototype._isValidMessage=function(e){if(null==e||null==e.targetId||null==e.messageId||null==e.senderId||e.targetId!==this._senderId)return!1;var a=this.getTargetInfo();return e.senderId!==a.targetId?!1:!0},MessageProxy.prototype._errorCallbackCheck=function(e){},MessageProxy.prototype.forwardMessage=function(e){return console.log(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][forwardMessage] Enter"),this._isValidMessage(e)===!1?(console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][forwardMessage] Invalid message"),this):(this._doMessageCallback(e,this),this)},MessageProxy.prototype._doMessageCallback=function(e,a){var t=this._messageCallbackTable.getCallbackCount(),r=this._messageCallbackTable.getCallbackArray(e.messageId),s=this._messageCallbackTable.getCallbackCount();this._message(t,s),r.length>0&&console.log(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_doMessageCallback] messageId: "+e.messageId),this._doCallback(r,e,a)},MessageProxy.prototype._doErrorCallback=function(e,a){var t=this._errorCallbackTable.getCallbackCount(),r=this._errorCallbackTable.getCallbackArray(e.errorId),s=this._errorCallbackTable.getCallbackCount();this._error(t,s),r.length>0&&console.log(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_doErrorCallback] errorId: "+e.errorId),this._doCallback(r,e,a)},MessageProxy.prototype._doCallback=function(e,a,t){for(var r=0;r<e.length;r++){var s=e[r];null==s.context?s.callback(a,t):s.callback.call(s.context,a,t)}},MessageProxy.prototype._defaultTargetInfo={targetId:null},MessageProxy.prototype.getTargetType=function(){return this._targetType},MessageProxy.prototype._targetType="",MessageProxy.prototype.hasSameTarget=function(e){return this===e?!0:this.getTargetType()!==e.getTargetType()?!1:this._targetInfoCheck(e)},MessageProxy.prototype._targetInfoCheck=function(e){var a=this.getTargetInfo(),t=e.getTargetInfo();return a.targetId===t.targetId?!0:!1},module.exports=MessageProxy;
},{"./callbacktable.js":26,"./logger.js":44}],47:[function(require,module,exports){
function MessageProxyGroup(){this._messageCallbackTable=new CallbackTable,this._messageProxyArray=[],this._messagesForNew=[];var e=this;this._messageCallbackWrapper=function(s,a){e._messageCallback(s,a)}}var console=require("./logger.js"),Oop=require("./oop.js"),MessageProxy=require("./messageproxy.js"),CallbackTable=require("./callbacktable.js");MessageProxyGroup.name="MessageProxyGroup",Oop.borrow(MessageProxyGroup,MessageProxy,["onMessage","oneMessage","offMessage","_message","_messageCallbackTable","_messageCallbackWrapper","_doMessageCallback","_doCallback"]),MessageProxyGroup.prototype._messageProxyArray=null,MessageProxyGroup.prototype._messagesForNew=null,MessageProxyGroup.prototype._hasSameTarget=function(e,s){return e===s?!0:e.hasSameTarget(s)},MessageProxyGroup.prototype.isAlreadyAdded=function(e,s){null==s&&(s=this._hasSameTarget);for(var a=0;a<this._messageProxyArray.length;a++)if(s(this._messageProxyArray[a],e)===!0)return this._messageProxyArray[a];return null},MessageProxyGroup.prototype.addMessageProxy=function(e){if(e._isTargetInfoValid()===!1)return this;if(null!=this.isAlreadyAdded(e))return this;e.onMessage("*",this._messageCallbackWrapper),this._messageProxyArray.push(e);for(var s=0;s<this._messagesForNew.length;s++){var a=this._messagesForNew[s];this._doFilterAndPostMessage(e,a.messageObject,a.filterFunc)}return this},MessageProxyGroup.prototype._doFilterAndPostMessage=function(e,s,a){return null==a?void this._doPostMessage(e,s):void(a(e,s)===!0&&this._doPostMessage(e,s))},MessageProxyGroup.prototype._doPostMessage=function(e,s){e.postMessage(s.messageId,s.message,s.senderId)},MessageProxyGroup.prototype.removeMessageProxy=function(e){var s=0,a=null;if(null==e){for(s=0;s<this._messageProxyArray.length;s++)a=this._messageProxyArray[s],a.offMessage("*",this._messageCallbackWrapper);this._messageProxyArray.length=0}else{var r=[];for(s=0;s<this._messageProxyArray.length;s++)a=this._messageProxyArray[s],a===e?a.offMessage("*",this._messageCallbackWrapper):r.push(a);this._messageProxyArray=r}return this},MessageProxyGroup.prototype.broadcastMessage=function(e,s,a,r,o){var t={messageId:e,message:s,senderId:a};return this._doBroadcastMessage(t,r,o),this},MessageProxyGroup.prototype._doBroadcastMessage=function(e,s,a){console.log(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_doBroadcastMessage]:"+e.messageId),null==s&&(s=!1);for(var r=0;r<this._messageProxyArray.length;r++){var o=this._messageProxyArray[r];this._doFilterAndPostMessage(o,e,a)}if(s===!0){var t=this._findMatchedMessage(e);t>=0?this._messagesForNew[t]={messageObject:e,filterFunc:a}:this._messagesForNew.push({messageObject:e,filterFunc:a})}},MessageProxyGroup.prototype.updateMessage=function(e,s,a,r){var o={messageId:e,message:s,senderId:a};return this._doUpdateMessage(o,r),this},MessageProxyGroup.prototype._doUpdateMessage=function(e,s){console.log(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_doUpdateMessage]:"+e.messageId);var a=this._findMatchedMessage(e);a>=0&&(this._messagesForNew[a]={messageObject:e,filterFunc:s})},MessageProxyGroup.prototype._isSameMessageId=function(e,s){return null==e||null==e.messageId||null==s||null==s.messageId?!1:e.messageId===s.messageId?!0:!1},MessageProxyGroup.prototype._findMatchedMessage=function(e,s){console.log(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_findMatchedMessage]: "+e.messageId),null==s&&(s=this._isSameMessageId);for(var a=this._messagesForNew,r=-1,o=0;o<a.length;o++){var t=a[o];if(s(t.messageObject,e)===!0){r=o;break}}return r},MessageProxyGroup.prototype._messageCallback=function(e,s){this._doMessageCallback(e,s)},module.exports=MessageProxyGroup;
},{"./callbacktable.js":26,"./logger.js":44,"./messageproxy.js":46,"./oop.js":48}],48:[function(require,module,exports){
function Oop(){}Oop.extend=function(o,t){o.prototype=Oop.inherit(t.prototype),o.prototype.constructor=o,o._parent=t.prototype},Oop.inherit=function(o){function t(){}return t.prototype=o,new t},Oop.borrow=function(o,t,p){for(var r=0;r<p.length;r++){var e=p[r];t.prototype.hasOwnProperty(e)&&(o.prototype[e]=t.prototype[e])}},module.exports=Oop;
},{}],49:[function(require,module,exports){
function PasscardProvider(){this.passcards=[]}PasscardProvider.prototype.setPasscards=function(s){this.passcards=s},PasscardProvider.prototype.getPasscards=function(){return this.passcards},PasscardProvider.prototype.addOrUpdatePasscard=function(s){for(var r=[],a=!1,d=0;d<this.passcards.length;d++){var t=this.passcards[d];t.ID===s.ID?(r.push(s),a=!0):r.push(t)}a!==!0&&r.push(s),this.passcards=r},module.exports=PasscardProvider;
},{}],50:[function(require,module,exports){
function PinManager(){this._locksmith=new DPLocksmith,this._locksmith.setJSON(JSON),this._locksmith.setConsole(console),this._pinAESPackage={Key:"",Vec:""},this._sessionKey=null,this._encPackage=null,this._keyPackage={Major:"",Auxiliary:"",Signature:"",Identifier:""},this._goldenKeyPackage={Major:"",Auxiliary:"",Signature:"",Identifier:""},this._isPinValid=!1,this._isPinChecked=!1;var e=null;null!=e&&(this._pinAESPackage={Key:e.Key,Vec:e.Vec})}var console=require("./logger.js"),JSON=require("./json3.mod.js"),PWM_RESULT=require("../define/pwmresult.js"),PWM_DEFINE=require("../define/pwmdefine.js"),DPLocksmith=require("./DPLocksmith.js");PinManager.prototype={setPinTable:function(e){this._keyPackage=e},setSessionKey:function(e){this._sessionKey=e},setEncPackage:function(e){this._encPackage=e},getEncPackage:function(){return this._encPackage},setGoldenKeyPackage:function(){},validatePin:function(e){var n=null;if(this._isPinChecked=!0,this._isPinValid=!1,null!=e){if(n=this._locksmith.decryptKey(this._keyPackage,e),null!=n){var t=this._locksmith.getSessionKeyEncryptedMasterPasswordPackage(e,this._keyPackage,this._sessionKey);if(null==t)return console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][validatePin]] getSessionKeyEncryptedMasterPasswordPackage failed!!"),PWM_RESULT.SUCCESS.FAILED;this.setEncPackage(t)}}else if(null!=this._encPackage){var i=this._locksmith.getSessionKeyDecryptedMasterPasswordPackage(this._encPackage,this._keyPackage,this._sessionKey);if(null!=i)try{n=this._locksmith.decryptKeyByAES(this._keyPackage,i)}catch(r){console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][validatePin]] Decrypt error!!")}}return null!=n?(this._goldenKeyPackage=n,this._isPinValid=!0,PWM_RESULT.SUCCESS.GENERAL.OK):(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][validatePin]] Wrong pin!!"),PWM_RESULT.SUCCESS.FAILED)},getPinState:function(){return this._isPinChecked===!1&&this.validatePin(),this._isPinValid===!0?PWM_DEFINE.PINSTATE.VALID:PWM_DEFINE.PINSTATE.INVALID},encryptString:function(e){if(console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][encryptString]] Enter"),this.getPinState()===PWM_DEFINE.PINSTATE.INVALID)throw console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][validatePin]] No pin to encrypt!!"),new Error("Invalid Pin");return this._locksmith.encryptString(this._goldenKeyPackage,e)},decryptString:function(e){if(console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][decryptString]] Enter"),this.getPinState()===PWM_DEFINE.PINSTATE.INVALID)throw console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][validatePin]] No pin to decrypt!!"),new Error("Invalid Pin");return this._locksmith.decryptString(this._goldenKeyPackage,e)},decryptPasscard:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][decryptPasscard]] Enter");var n=JSON.parse(JSON.stringify(e));try{n.Account=this.decryptString(e.Account),n.AccountMeta=JSON.parse(this.decryptString(e.AccountMeta.Encrypted)),n.Fields=JSON.parse(this.decryptString(e.Fields.Encrypted)),n.AttrEnc=JSON.parse(this.decryptString(e.AttrEnc.Encrypted))}catch(t){throw console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][decryptPasscard]] Decrypt failed!!"),new Error("Decrypt Failed")}return n},encryptPasscard:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][encryptPasscard]] Enter");var n=JSON.parse(JSON.stringify(e));try{n.Account=this.encryptString(e.Account),n.AccountMeta={Encrypted:this.encryptString(JSON.stringify(e.AccountMeta))},n.Fields={Encrypted:this.encryptString(JSON.stringify(e.Fields))},n.AttrEnc={Encrypted:this.encryptString(JSON.stringify(e.AttrEnc))}}catch(t){throw console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][encryptPasscard]] Encrypt failed!!"),new Error("Encrypt Failed")}return n},decryptUserInfo:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][decryptUserInfo]] Enter");try{var n=this.decryptString(e),t=null;t=JSON.parse(n)}catch(i){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][decryptUserInfo]] Decrypt userInfo error: "+i.message)}return t},encryptUserInfo:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][encryptUserInfo]] Enter");try{var n=this.encryptString(e)}catch(t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][encryptUserInfo]] Encrypt userInfo error: "+t.message)}return n},getHint:function(){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][getHint]] Enter"),null!=this._keyPackage?this._keyPackage.Hint:""},isPasscardEncrypted:function(e){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PinManager][isPasscardEncrypted]] Enter"),null!=e.Fields.Encrypted?!0:!1},getPbkdf2String:function(e){return this._locksmith.getPbkdf2String(e)},getPbkdf2StringFast:function(e){return this._locksmith.getPbkdf2StringFast(e)}},module.exports=PinManager;
},{"../define/pwmdefine.js":4,"../define/pwmresult.js":5,"./DPLocksmith.js":25,"./json3.mod.js":41,"./logger.js":44}],51:[function(require,module,exports){
function DPPlugin(){function e(){}function t(e,t){if(this.setStates=function(t){window.sessionStorage[e]=JSON.stringify(t)},this.getStates=function(){if("undefined"!=typeof window.sessionStorage[e]){var t;try{t=JSON.parse(window.sessionStorage[e])}catch(a){}return t}},null!=t){var a=this.getStates();if(null==a)this.setStates(t);else{var n=!1;for(var r in t)t.hasOwnProperty(r)&&("undefined"==typeof a[r]?(console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][StateObject][constructor]] Missing property - "+e+"."+r),n=!0,a[r]=t[r]):Util.getObjectType(a[r])!==Util.getObjectType(t[r])&&(console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][StateObject][constructor]] Property type changed - "+e+"."+r),n=!0,a[r]=t[r]));n&&this.setStates(a)}}}function a(){this._init=function(){this._stateObject=new t(g.DIRECTPASS.PLUGIN.PLUGINSTATESMANAGER._key,g.DIRECTPASS.PLUGIN.PLUGINSTATESMANAGER._value)}}function n(){this._init=function(){this._stateObject=new t(g.DIRECTPASS.PLUGIN.PASSCARDCANDIDATES._key,g.DIRECTPASS.PLUGIN.PASSCARDCANDIDATES._value)}}function r(e){(null==e||""===e)&&(e=g.DIRECTPASS.PLUGIN.PASSCARD._key),this._stateObject=new t(e,g.DIRECTPASS.PLUGIN.PASSCARD._value)}function s(){this._init=function(){this._passcard=new r(g.DIRECTPASS.PLUGIN.CURRENTPASSCARD._key+".Passcard"),this._stateObject=new t(g.DIRECTPASS.PLUGIN.CURRENTPASSCARD._key,g.DIRECTPASS.PLUGIN.CURRENTPASSCARD._value)}}function i(){this.engineComponents={}}function o(){this._init=function(){this._stateObject=new t(g.DIRECTPASS.PLUGIN.BROWSERADAPTER._key,g.DIRECTPASS.PLUGIN.BROWSERADAPTER._value),this._callbackFunc=null}}function _(){this._init=function(){this._browserAdapter=h.getInstance(),this._pluginStates=S.getInstance(),this._passcardCandidates=A.getInstance(),this._currentPasscard=I.getInstance(),this._pinManager=pinManager,this._stateObject=new t(g.DIRECTPASS.PLUGIN.OPERATIONCONTEXT._key,g.DIRECTPASS.PLUGIN.OPERATIONCONTEXT._value),this._scriptComposer=O.getInstance(),this._feedbackHandler=R.getInstance(),this._passcardProvider=passcardProvider,this._kvData={}}}function c(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][construtor]] Enter"),this._stateObject=new t(g.DIRECTPASS.PLUGIN.PLUGINOBJECT._key,g.DIRECTPASS.PLUGIN.PLUGINOBJECT._value);var e=this._stateObject.getStates();e.wasInOperation&&(console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][construtor]] Incomplete operation cmd: "+e.lastCommand+" found!! Clearing all data!!"),t.clearAll(),this._stateObject.setStates(g.DIRECTPASS.PLUGIN.PLUGINOBJECT._value)),this._browserAdapter=h.getInstance(),this._operationContext=D.getInstance()}function l(){this._init=function(){this._pluginStates=S.getInstance(),this._currentPasscard=I.getInstance(),this._passcardCandidates=A.getInstance(),this._operationContext=D.getInstance(),this._passcardProvider=passcardProvider,this._feedbackHandler=R.getInstance(),this._pinManager=pinManager}}function P(){this._init=function(){P.prototype._init(),this._stateObject=new t(g.DIRECTPASS.PLUGIN.HEURISTICOPERATOR._key,g.DIRECTPASS.PLUGIN.HEURISTICOPERATOR._value),this.operatorType="Heuristic"}}function d(){this._init=function(){d.prototype._init(),this._stateObject=new t(g.DIRECTPASS.PLUGIN.PATTERNOPERATOR._key,g.DIRECTPASS.PLUGIN.PATTERNOPERATOR._value),this.operatorType="Pattern"}}function u(){this._init=function(){this._stateObject=new t(g.DIRECTPASS.PLUGIN.FEEDBACKHANDLER._key,g.DIRECTPASS.PLUGIN.FEEDBACKHANDLER._value),this._pluginStates=S.getInstance(),this._currentPasscard=I.getInstance(),this._browserAdapter=h.getInstance()}}function p(e){var t=null;this.getInstance=function(){return null==t&&(t=new e,"function"==typeof t._init&&t._init()),t}}var E={EXECUTE_JAVASCRIPT:"ExecuteJavaScript",EXECUTE_REPLAYSCRIPT:"ExecuteReplayScript",EXECUTE_FORMFILLING_SCRIPT:"ExecuteFormFillingScript",SHOW_UPDATE_PASSCARD_LIST:536870913,SHOW_ADD_PASSCARD:"ShowAddPasscard",SHOW_PASSCARD_UPDATED:"ShowPasscardUpdated",SHOW_SIGNIN_MANUALLY:536870918,SHOW_PASSCARD_LIST:"ShowPasscardList",READY_TO_ADD_PASSCARD:"ReadyToAddPasscard",READY_TO_UPDATE_PASSCARD:"ReadyToUpdatePasscard",RESULT_LOGS:1073741828,SEND_UBM_DATA:1073741829,SHOW_PASSWORD_GENERATOR:1073741832,SEND_REALTIME_PATTERN_FEEDBACK:"SendRealtimeFeedback",DO_AUTO_FILL:"DoAutoFill"},g={DIRECTPASS:{PLUGIN:{_key:"DirectPass.Plugin",OPERATIONCONTEXT:{_key:"DirectPass.Plugin.OperationContext",_value:{cachedPasscard:{},cachedPasswordObj:{}}},PLUGINSTATESMANAGER:{_key:"DirectPass.Plugin.PluginStatesManager",_value:{waitingLoadEvent:!1,isFirstPage:!1,isFirstPageStored:!0,probeResult:{},passcardIDSpecified:"",topFrameUrl:"",topFrameDomain:"",topFrameSiteId:0}},PASSCARDCANDIDATES:{_key:"DirectPass.Plugin.PasscardCandidates",_value:[]},PASSCARD:{_key:"DirectPass.Plugin.Passcard",_value:{ID:"",Domain:"",Account:"",AccountMeta:{},Fields:[],ReservedEnc:null,Reserved:{DomainWhiteList:[]},Location:"",FormAction:"",SiteID:0,FormType:0,DisplayName:"",AttrEnc:{AutoSubmit:!0,LaunchSW:!1,ShowLaunchSW:!1,QueryStr:"",OpenURL:null},Attr:{Imported:!1,Strength:{Value:25}},_internal:{domainWhitelist:[]}}},CURRENTPASSCARD:{_key:"DirectPass.Plugin.CurrentPasscard",_value:{isSaveOnSubmit:!1,isPasscardSaved:!1,isFieldModified:!1,isPromptOnDiscard:!1,isPasscardModified:!1}},HEURISTICOPERATOR:{_key:"DirectPass.Plugin.HeuristicOperator",_value:{signedFormActions:[]}},PATTERNOPERATOR:{_key:"DirectPass.Plugin.PatternOperator",_value:{signedSiteIDs:[],visitedSteps:[]}},PLUGINOBJECT:{_key:"DirectPass.Plugin.PluginObject",_value:{wasInOperation:!1,lastCommand:""}},BROWSERADAPTER:{_key:"DirectPass.Plugin.BrowserAdapter",_value:{cachedUI:[]}},FEEDBACKHANDLER:{_key:"DirectPass.Plugin.FeedbackHandler",_value:{prevSiteID:-1,hasFormSubmitted:!1,stateDataArray:[],visitedSteps:[]}}}}};Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),e.isExisted=function(e,t){if(!Array.isArray(e)||null==t)return!1;for(var a in e)if(e.hasOwnProperty(a)&&e[a]===t)return!0;return!1},e.setInsert=function(t,a){return Array.isArray(t)&&null!=a?e.isExisted(t,a)?!1:(t.push(a),!0):!1},t.clearAll=function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][StateObject][clearAll]] Enter");for(var e in sessionStorage)sessionStorage.hasOwnProperty(e)&&-1!==e.indexOf(g.DIRECTPASS.PLUGIN._key)&&sessionStorage.removeItem(e)},a.prototype={getStates:function(){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginStatesManager][getStates]] Enter"),this._stateObject.getStates()},setStates:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginStatesManager][setStates]] Enter"),this._stateObject.setStates(e)}},n.prototype={getPasscardCandidates:function(){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PasscardCandidates][getPasscardCandidates]] Enter"),this._stateObject.getStates()},setPasscardCandidates:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PasscardCandidates][setPasscardCandidates]] Enter"),this._stateObject.setStates(e)},clear:function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PasscardCandidates][clearPasscardCandidates]] Enter"),this.setPasscardCandidates([])}};var L={getUsableFilter:function(){return function(e){return 1===e.Editable?!0:!1}},getOrgDomainFilter:function(e){return function(t){var a=Url.getOrgDomain(Url.getDomain(t.Location)).toLowerCase();return a===e?!0:!1}},getFormActionFilter:function(e){return function(t){for(var a in e)if(e.hasOwnProperty(a)&&(a=e[a],Url.isIdenticalURL(a,t.FormAction)))return!0;return!1}},getDomainFilter:function(e){return function(t){return Url.isIdenticalURL(e,t.Domain)?!0:!1}},getLocationFilter:function(e){return function(t){return Url.isIdenticalURL(e,t.Location)?!0:!1}},getSiteIDFilter:function(e){return function(t){return e===t.SiteID?!0:!1}},getPasscardIDFilter:function(e){return function(t){return e===t.ID?!0:!1}}};r.prototype={getPasscard:function(){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][Passcard][getPasscard]] Enter"),this._stateObject.getStates()},setPasscard:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][Passcard][setPasscard]] Enter"),this._stateObject.setStates(e)},clear:function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][Passcard][clear]] Enter"),this.setPasscard(g.DIRECTPASS.PLUGIN.PASSCARD._value)}},r.isNew=function(e){return""===e.ID?!0:!1},r.queryByFilter=function(e,t){var a=[];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],t(n)&&a.push(n));return a},r.calcPasswordStrength=function(e){var t=0;return null!==e.match(/[0-9]/g)&&(t+=25),null!==e.match(/[a-zA-Z]/g)&&(t+=25),null!==e.match(/[^a-zA-Z0-9_]/g)&&(t+=25),t},r.applyPasswordStrength=function(t){var a=[],n=t.Fields;if(Array.isArray(n))for(var s in n)n.hasOwnProperty(s)&&(s=n[s],"password"===s.type&&null!=s.value&&e.setInsert(a,s.value));var i=25;if(a.length>0){for(var o="",_=0,c=0;c<a.length;c++)o+=a[c],a[c].length>_&&(_=a[c].length);_>=8&&(i+=r.calcPasswordStrength(o))}console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][Passcard][applyPasswordStrength]] Password strength: "+i),t.Attr.Strength.Value=i},r.isPasswordEmpty=function(e){var t=e.Fields;if(Array.isArray(t))for(var a in t)if(t.hasOwnProperty(a)&&(a=t[a],"password"===a.type&&null!=a.value))return!1;return!0},r.getSensitiveData=function(e){var t={Account:e.Account,AccountMeta:e.AccountMeta,Fields:e.Fields,AttrEnc:e.AttrEnc};return t},r.setSensitiveData=function(e,t){e.Account=t.Account,e.AccountMeta=t.AccountMeta,e.Fields=t.Fields,e.AttrEnc=t.AttrEnc},r.trimSensitiveData=function(e){e.Account="",e.AccountMeta={},e.Fields=[],e.AttrEnc={}},r.matchesUrlAccount=function(e,t){return Url.isIdenticalURL(e.Location,t.Location)&&e.Account===t.Account&&null!=e.AttrEnc.QueryStr&&null!=t.AttrEnc.QueryStr&&e.AttrEnc.QueryStr===t.AttrEnc.QueryStr},s.prototype={getCurrentPasscard:function(){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][CurrentPasscard][getCurrentPasscard]] Enter"),this._passcard.getPasscard()},setCurrentPasscard:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][CurrentPasscard][setCurrentPasscard]] Enter"),this._passcard.setPasscard(e)},getStates:function(){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][CurrentPasscard][getStates]] Enter"),this._stateObject.getStates()},setStates:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][CurrentPasscard][setStates]] Enter"),this._stateObject.setStates(e)},clear:function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][CurrentPasscard][clear]] Enter"),this.setStates(g.DIRECTPASS.PLUGIN.CURRENTPASSCARD._value),this._passcard.clear()}},i.prototype={getProbeScript:function(e,t,a){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][ScriptComposer][getProbeScript]] Enter");var n="";if(0!==e.siteID){console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][ScriptComposer][getProbeScript]] Pattern site.");var r="",s=-1;-1!==e.operationPattern.indexOf("$modPatternPlatform-0$")?(s=0,r=e.operationPattern.replace("$modPatternPlatform-0$","")):-1!==e.operationPattern.indexOf("$modPatternPlatform-1$")&&(s=1,r=e.operationPattern.replace("$modPatternPlatform-1$","")),-1!==s?(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][ScriptComposer][getProbeScript]] Pattern type: "+s),r=r.replace("$siteID$",e.siteID),n=this.engineComponents["pattern"+s].replace("$operationPattern$",Util.escapeReplaceValue(r))):(console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][ScriptComposer][getProbeScript]] Wrong pattern type in pattern!!"),n=this.engineComponents.pattern)}else console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][ScriptComposer][getProbeScript]] Pattern-less site."),n=this.engineComponents.pattern;var i=this.engineComponents.modules;i=i.replace("$signupPattern$",Util.escapeReplaceValue(JSON.stringify(t))),i=i.replace("$l10n$",Util.escapeReplaceValue(JSON.stringify(appSettings.l10n)));var o=formFillingInfo.getPattern(),_=this.engineComponents.probe;return _=_.replace("$detectkey$",Util.escapeReplaceValue(JSON.stringify({PinState:a,KeyAndAlias:o}))),_=_.replace("$externalcss$",Util.escapeReplaceValue(JSON.stringify(config.EXTENSIONFRAME_ENGINEV3_CSS))),i+n+_},setEngineComponents:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][ScriptComposer][setEngineComponents]] Enter"),this.engineComponents=e},getReplayScript:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][ScriptComposer][getReplayScript]] Enter");var t=this.engineComponents.replay;return t.replace("$passcard$",Util.escapeReplaceValue(JSON.stringify(e)))},getAutoFillScript:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][ScriptComposer][getAutoFillScript]] Enter");var t=this.engineComponents.autofill;return t.replace("$autofilldata$",Util.escapeReplaceValue(JSON.stringify(e)))}},o.prototype={registerCallback:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][registerCallback]] Enter"),this._callbackFunc=e},notifyCallback:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][notifyCallback]] Enter");var a={cmd:e,msg:t};"function"==typeof this._callbackFunc&&this._callbackFunc(a)},executeJavaScript:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][executeJavaScript]] Enter"),console.info(__GLOBAL_LOG_PREFIX__,pTag2,"[[DPPlugin][BrowserAdapter][executeJavaScript]] Script ready for inject"),this.notifyCallback(E.EXECUTE_JAVASCRIPT,e)},executeReplayScript:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][executeReplayScript]] Enter"),console.info(__GLOBAL_LOG_PREFIX__,pTag2,"[[DPPlugin][BrowserAdapter][executeReplayScript]] Script ready for inject");var a={Script:e,DomainWhitelist:t};this.notifyCallback(E.EXECUTE_REPLAYSCRIPT,a)},executeFormFillingScript:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][executeFormFillingScript]] Enter"),console.info(__GLOBAL_LOG_PREFIX__,pTag2,"[[DPPlugin][BrowserAdapter][executeFormFillingScript]] Script ready for inject");var a={script:e,hasSensitiveData:t};this.notifyCallback(E.EXECUTE_FORMFILLING_SCRIPT,a)},showPasscardList:function(e,t){if(console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][showPasscardList]] Enter"),this.hasCachedUI()===!0)return void console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][executeReplayScript]] Do not show passcard prompt due to cached UI");var a={Passcards:e,Revisit:t};this.notifyCallback(E.SHOW_PASSCARD_LIST,a)},showUpdatePasscardList:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][showUpdatePasscardList]] Enter");var a={Passcards:e,NewPasswordID:t};this.removeCachedUI(),this.addCachedUI({action:E.SHOW_UPDATE_PASSCARD_LIST,obj:a}),a.IsFirstShow=!0,this.notifyCallback(E.SHOW_UPDATE_PASSCARD_LIST,a)},showCachedUI:function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][showCachedUI]] Enter");var e=this._stateObject.getStates();if(e.cachedUI.length>0){var t=e.cachedUI[0],a=t.action,n=t.obj;return n.IsFirstShow=!1,console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][showCachedUI]] About to show cached UI"),this.notifyCallback(a,n),!0}return!1},hasCachedUI:function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][hasCachedUI]] Enter");var e=this._stateObject.getStates();return e.cachedUI.length>0?!0:!1},addCachedUI:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][removeCachedUI]] Enter");for(var t=this._stateObject.getStates(),a=t.cachedUI,n=[],r=0;r<a.length;r++)a[r].action!==e.action&&n.push(a[r]);n.push(e),t.cachedUI=n,this._stateObject.setStates(t)},removeCachedUI:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][removeCachedUI]] Enter");var t=this._stateObject.getStates();if(t.cachedUI.length>0){if(null==e)t.cachedUI.length=0;else{for(var a=t.cachedUI,n=[],r=0;r<a.length;r++)a[r].action!==e&&n.push(a[r]);t.cachedUI=n}this._stateObject.setStates(t)}},showAddPasscard:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][showAddPasscard]] Enter");var a={passcard:e,isPromptOnDiscard:t};this.removeCachedUI(),this.addCachedUI({action:E.SHOW_ADD_PASSCARD,obj:a}),a.IsFirstShow=!0,this.notifyCallback(E.SHOW_ADD_PASSCARD,a)},readyToAddPasscard:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][readyToAddPasscard]] Enter"),this.notifyCallback(E.READY_TO_ADD_PASSCARD,e)},readyToUpdatePasscard:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][readyToUpdatePasscard]] Enter"),this.addCachedUI({action:E.READY_TO_UPDATE_PASSCARD,obj:e}),e.IsFirstShow=!0,this.notifyCallback(E.READY_TO_UPDATE_PASSCARD,e)},sendUBMData:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][sendUBMData]] Enter"),this.notifyCallback(E.SEND_UBM_DATA,e)},showPasswordGenerator:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][showPasswordGenerator]] Enter"),this.notifyCallback(E.SHOW_PASSWORD_GENERATOR,e)},sendFeedbackData:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][BrowserAdapter][sendFeedbackData]] Enter"),this.notifyCallback(E.SEND_REALTIME_PATTERN_FEEDBACK,e)}},_.prototype={notifyPageLoaded:function(e,t,a,n,r,s){if(console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][notifyPageLoaded]] Enter"),this._browserAdapter.showCachedUI()===!0,"string"!=typeof t||t.search(/http(s|):\/\//i)<0)return PWM_RESULT.ERROR.GENERAL.INVALID_PARAM;var i=this._pluginStates.getStates();i.passcardIDSpecified=s,i.topFrameDomain=e,i.topFrameUrl=t,i.topFrameSiteId=a,this._pluginStates.setStates(i),this.insertProbe(t,n,r)},setKeyValueData:function(e,t){this._kvData[e]=t},getKeyValueData:function(e){return this._kvData[e]},notifyEngineCallback:function(e){var t=e.cmd;switch(e=e.args,console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][notifyEngineCallback]] Enter cmd: "+t),t){case"ProbeReturn":this.probePageReturnHandler(e);break;case"StoreData":case"ReplayNext":this.storeCredentialHandler(e);break;case"Reprobe":console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][notifyEngineCallback]] reprobe: do nothing.");break;case"ErrorReturn":this.formSubmitHandler();break;case"ReplayFailed":break;case"EngineFeedback":this.engineFeedbackHandler(e);break;case"QueryAndAutoFill":this.queryAndAutoFillHandler(e)}return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][notifyEngineCallback]] Done cmd: "+t),!0},queryAndAutoFillHandler:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][queryAndAutoFillHandler]] Enter");var a=e.IsPreview;if(a===PWM_DEFINE.FORMFILLING.NON_HTTPS_POPOUT)return void console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][queryAndAutoFillHandler]] Formfilling non https popout");var n=this._pinManager.getPinState(),r={},s=(formFillingInfo.getEncUserInfo(),formFillingInfo.getUserInfoFlag()),i=e.ConfirmFormfilling,o=e.FormTitle,_=!1;if(a===PWM_DEFINE.FORMFILLING.AUTO_FILL){if(t!==!0)return console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][queryAndAutoFillHandler]] Query formfilling data successfully. Pin state is invalid"),void this._browserAdapter.notifyCallback(E.DO_AUTO_FILL,e);r=formFillingInfo.getUserInfo(),_=!0}else(a===PWM_DEFINE.FORMFILLING.SHOW_POPOUT||a===PWM_DEFINE.FORMFILLING.PREVIEW)&&(r=formFillingInfo.getPreviewUserInfo());var c={UserInfo:r,UserInfoFlag:s,IsPreview:a,FormTitle:o,PinState:n,ConfirmFormfilling:i},l=this._scriptComposer.getAutoFillScript(c);this._browserAdapter.executeFormFillingScript(l,_)},_toProbeResult:function(e,t){if(null==e)return null;var a=Url.splitByQueryString(e.recordLoc),n={formActions:null==e.formAction?[]:e.formAction,siteID:e.siteID,patternVersion:this.getKeyValueData("patternVersion"),step:e.step,readyToRecord:e.readyToRecord,recording:e.recording,location:null==e.location?"":Url.normalizeLocation(e.location),locationQuery:null==e.locationQuery?"":e.locationQuery,domain:null==e.domain?"":Url.normalizeDomain(e.domain),faviconURL:null==e.faviconURL?"":e.faviconURL,title:e.title,launchSW:null==e.launchSW?!1:e.launchSW,showLaunchSW:null==e.showLaunchSW?!1:e.showLaunchSW,recordLoc:a.location,recordLocQuery:a.queryString,isLoginform:null==e.isLoginform?!1:e.isLoginform,hasLoginForm:e.hasLoginForm,signupPattern:e.signupPattern,isMultiStepPattern:e.isMultiStepPattern||!1,dualModeRecord:e.dualModeRecord||!1,feedbackUrl:e.feedbackUrl||"",_internal:{messageOrigin:null==t?"":t}};if(null!=n.signupPattern&&null!=n.signupPattern.loginForm&&"string"==typeof n.signupPattern.loginForm.location){var r=n.signupPattern.loginForm.location.split("?");n.loginFormLocation=""!==r[0]?r[0]:null,n.loginFormLocationQuery=r[1]?r[1]:null}return null==n.title&&(n.title=n.domain),n.launchSW=appSettings.isInSecureBrowser,n},probePageReturnHandler:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][probePageReturnHandler]] Enter");var t=e.messageBody,a=e.messageOrigin,n=this._toProbeResult(t,a);return null==n?void console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][probePageReturnHandler]] Invalid probe result!"):void this.onProbeReturn(n)},storeCredentialHandler:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][storeCredentialHandler]] Enter");var t=e.messageBody,a=e.messageOrigin;null==t&&(t={});var n=t.probeResult;if(null==n){var r=this._pluginStates.getStates();n=r.probeResult}var s=this._toProbeResult(n,a);if(null==s)return void console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][storeCredentialHandler]] Invalid probe result!");var i={whiteDomain:null,fields:t.data,domain:null==t.domain?"":Url.normalizeDomain(t.domain),siteID:null==t.siteID?0:t.siteID,formAction:null==t.formAction?"":t.formAction,formType:null==t.formType?1:t.formType,saveOnSubmit:null==t.saveOnSubmit?!1:t.saveOnSubmit,dataReadyFlag:null==t.dataReadyFlag?"yes":t.dataReadyFlag,hasValue:null==t.hasValue?!0:t.hasValue,passcards:this._passcardProvider.getPasscards(),probeResult:s};0===i.siteID&&(i.whiteDomain=""===i.domain?null:i.domain),this._feedbackHandler.onStoreCredential(i),this.onStoreCredential(i)},formSubmitHandler:function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][formSubmitHandler]] Enter"),this._feedbackHandler.onFormSubmit()},replayFailedHandler:function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][replayFailedHandler]] Enter"),this._feedbackHandler.onReplayFailed()},insertProbe:function(e,t,a){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][insertProbe]] Enter");var n=this._scriptComposer.getProbeScript(t,a,this._pinManager.getPinState());this._browserAdapter.executeJavaScript(n)},onProbeReturn:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][onProbeReturn]] Enter"),this._feedbackHandler.onProbeReturn(e);var t=e.siteID,a=this._pluginStates.getStates(),n=a.topFrameSiteId,r=Url.normalizeDomain(a.topFrameDomain).toLowerCase(),s=Url.getOrgDomain(r),i=Url.normalizeDomain(Url.getDomain(e._internal.messageOrigin)).toLowerCase(),o=Url.getOrgDomain(i),_=e.location.toLowerCase(),c=Url.normalizeDomain(Url.getDomain(_)),l=Url.getOrgDomain(c);if(t!==n)return this._browserAdapter.notifyCallback("InvalidProbeResult"),void this._feedbackHandler.onInvalidProbeResult(e,"SiteID not match");if(0===t){if(c!==i)return this._browserAdapter.notifyCallback("InvalidProbeResult"),void this._feedbackHandler.onInvalidProbeResult(e,"Suspicious location domain")}else l!==o&&l!==s&&this._feedbackHandler.onInvalidProbeResult(e,"Suspicious location domain");a.waitingLoadEvent===!0&&(t=a.probeResult.siteID),this.getOperator(t).onProbeReturn(e)},onStoreCredential:function(t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][onStoreCredential]] Enter");var a=this._currentPasscard.getCurrentPasscard();null==a.Reserved&&(a.Reserved={DomainWhiteList:[]});var n=e.setInsert(a.Reserved.DomainWhiteList,t.whiteDomain);this._currentPasscard.setCurrentPasscard(a);var r=this._currentPasscard.getStates();r.isPasscardModified=r.isPasscardModified||n,r.isPasscardSaved=!1,this._currentPasscard.setStates(r);var s=this._pluginStates.getStates();if(s.dataReadyFlag=t.dataReadyFlag,s.hasValue=t.hasValue,console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][onStoreCredential]] 2017-11: pluginStates.dataReadyFlag = "+s.dataReadyFlag),console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][onStoreCredential]] 2017-11: pluginStates.hasValue = "+s.hasValue),s.isFirstPage===!0&&(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][onStoreCredential]] First save!"),null==a.AttrEnc.OpenURL&&0===t.siteID&&(r.isPasscardModified=!0,a.AttrEnc.OpenURL=s.topFrameUrl,this._currentPasscard.setStates(r),this._currentPasscard.setCurrentPasscard(a)),s.isFirstPageStored===!1&&(null!=t.probeResult&&(s.probeResult=t.probeResult),s.isFirstPageStored=!0)),s.waitingLoadEvent=!0,this._pluginStates.setStates(s),null==t.fields)return void console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][onStoreCredential]] No data to stroe, replay next!");if(a.FormAction!==t.formAction&&(r.isPasscardModified=!0,a.FormAction=t.formAction),a.FormType=t.formType,Array.isArray(t.fields)){var i=JSON.parse(JSON.stringify(t.fields));for(var o in i)if(i.hasOwnProperty(o))if(o=i[o],o.account===!0){if(null==o.value)continue;a.Account!==o.value&&(a.Account=o.value,a.ID=""),a.AccountMeta=o,delete a.AccountMeta.value}else if(o.newPassword===!0){if(null==o.newPassword)continue;a.NewPassword=o.value}else{var _=!1,c=a.Fields;if(Array.isArray(c))for(var l in c)if(c.hasOwnProperty(l)&&(l=c[l],"password"===o.type&&"PASSWORD"===l.name&&(l.name=o.name),_=l.name===o.name)){var P="deleted"===l.type;l.type===o.type||P||(l.type=o.type),l.value!==o.value&&(l.value=o.value,r.isFieldModified=r.isFieldModified||!P,r.isPasscardModified=r.isPasscardModified||r.isFieldModified);break}_||(a.Fields.push(o),r.isFieldModified=!0,r.isPasscardModified=!0)}}this._currentPasscard.setStates(r),this._currentPasscard.setCurrentPasscard(a),t.saveOnSubmit===!0&&(r.isSaveOnSubmit=!0,this._currentPasscard.setStates(r),console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][onStoreCredential]] Finish passcard on store"),this.getOperator(t.siteID).finishPasscardOnStore())},playWithPasscards:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][playWithPasscards]] Enter"),console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][playWithPasscards]] Passcard(s) matched: "+e.length);var a=r.queryByFilter(e,L.getUsableFilter()),n=this._pluginStates.getStates(),s=n.passcardIDSpecified,i=[];if(""!==s&&(i=r.queryByFilter(e,L.getPasscardIDFilter(s)),i.length>0&&(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][playWithPasscards]] Specified passcard found"),n.passcardIDSpecified="",this._pluginStates.setStates(n))),a.length>0){var o=this._pinManager.getPinState();if(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][playWithPasscards]] Usable passcard(s): "+a.length),1===i.length&&1===i[0].Editable)return console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][playWithPasscards]] Replay specified passcard"),void(o===PWM_DEFINE.PINSTATE.VALID?this.replayPasscard(i[0]):this.promptPasscardList(i));console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][playWithPasscards]] Specified passcard cannot be replay");var _=!1,c=appSettings.portalSettings.auto_signin;if(1===a.length&&o===PWM_DEFINE.PINSTATE.VALID&&c){if(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][playWithPasscards]] Auto-signin"),!this.getOperator(a[0].SiteID).isPasscardUsed(a[0]))return void this.replayPasscard(a[0]);console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][playWithPasscards]] Revisit"),_=!0}console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][playWithPasscards]] Prompt replay"),this.promptPasscardList(a,_)}else console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][playWithPasscards]] No usable passcard")},replayCurrentPasscard:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][replayCurrentPasscard]] Enter"),null==e&&(e=!0);var t=this._currentPasscard.getCurrentPasscard(),a=JSON.parse(JSON.stringify(t.AccountMeta));a.value=t.Account;var n=JSON.parse(JSON.stringify(t.Fields));n.push(a);var r=this._pluginStates.getStates(),s=null;0===r.probeResult.siteID&&null!=t.Reserved&&(s=t.Reserved.DomainWhiteList);var i={formAction:t.FormAction,siteID:t.SiteID,data:n,submit:e&&t.AttrEnc.AutoSubmit,location:t.Location,domainWhiteList:s},o=this._scriptComposer.getReplayScript(i);this._browserAdapter.executeReplayScript(o,t._internal.domainWhitelist)},getOperator:function(e){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][getOperator]] Enter"),e>0?F.getInstance():f.getInstance()},promptPasscardList:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][promptPasscardList]] Enter"),t=null!=t?t:!1,e.length>0&&this._browserAdapter.showPasscardList(e,t)},saveOrUpdatePasscard:function(e,t,a){var n="[[DPPlugin][OperationContext][saveOrUpdatePasscard]] ";console.log(__GLOBAL_LOG_PREFIX__,n+"Enter");var s=this._passcardCandidates.getPasscardCandidates(),i=this._pinManager.getPinState();if(r.isPasswordEmpty(t)===!0){var o=" No password, no save";return console.warn(__GLOBAL_LOG_PREFIX__,n+o),{result:!1,msg:o}}if(3===t.FormType){var _=L.getUsableFilter(),c=L.getDomainFilter(e.domain),l=L.getFormActionFilter(e.formActions),P=function(e){return _(e)&&(c(e)||l(e))},d=r.queryByFilter(this._passcardProvider.getPasscards(),P);return void(a.isFieldModified&&d.length>0&&this.promptUpdatePasscardList(d,t.NewPassword))}if(r.isNew(t)){if(""===t.Account||""===t.Domain){var o=" Invalid account or domain";return console.warn(__GLOBAL_LOG_PREFIX__,n+o),{result:!1,msg:o}}var u=recordExceptionDomain.isInDomainList(t.Domain);e.siteID>0&&specialDomain.isInDomainList(t.Domain)?""!==t.Location&&(t.ID=this._pinManager.getPbkdf2StringFast(t.Location+t.Account),console.info(__GLOBAL_LOG_PREFIX__,n+" update ID for special domain!")):t.ID=this._pinManager.getPbkdf2StringFast(t.Domain+t.Account);var p=[],E=[],g=[];if(console.info(__GLOBAL_LOG_PREFIX__,n+" # of availablePasscards = "+s.length),s.length>0){for(var O=0;O<s.length;O++){var S=s[O];if(i===PWM_DEFINE.PINSTATE.VALID&&pinManager.isPasscardEncrypted(S))try{S=pinManager.decryptPasscard(S)}catch(A){console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PasscardFilter][saveOrUpdatePasscard]] Failed to decrypt passcard")}t.Account===S.Account&&null!==S.Domain&&""!==S.Domain&&g.push(S),r.matchesUrlAccount(t,S)&&(t.ID=S.ID,E.push(S),console.info(__GLOBAL_LOG_PREFIX__,n+" Location-Account-QueryStr are the same, [A. Update]"))}if(g.length>1)return void console.info(__GLOBAL_LOG_PREFIX__,n+g.length+" passcards have the same account. [B. No update]");if(1===g.length)if(1==E.length)console.log(__GLOBAL_LOG_PREFIX__,n+" 1 exactMatchPasscards found [C. Update]"),p.push(E[0]);else{if(0!==E.length)return void console.warn(__GLOBAL_LOG_PREFIX__,n+E.length+" exactMatchPasscards found (should not happen).");console.log(__GLOBAL_LOG_PREFIX__,n+" 1 sameAccountAsCurrentPasscard found [C. Update]"),p.push(g[0])}else{var I=[],h=this._passcardProvider.getPasscards();for(var D in h){var f=h[D];f.ID===t.ID&&I.push(f)}if(1==I.length)p.push(I[0]),console.info(__GLOBAL_LOG_PREFIX__,n+" 1 hashMatchPasscards found [D. Update]");else{if(I.length>1)return void console.warn(__GLOBAL_LOG_PREFIX__,n+I.length+" hashMatchPasscards found [return]");console.info(__GLOBAL_LOG_PREFIX__,n+" 0 hashMatchPasscards found [E. Create new].")}}}if(p.length>1)return void console.warn(__GLOBAL_LOG_PREFIX__,n+p.length+" candidatePasscards found (More than one). [return]");if(1===p.length){console.info(__GLOBAL_LOG_PREFIX__,n+" 1 candidatePasscards found.");var F=p[0];if(t.ID=F.ID,i===PWM_DEFINE.PINSTATE.VALID){if(null==F.Editable||F.Editable===!1)return void console.info(__GLOBAL_LOG_PREFIX__,n+" Cannot update unusable passcard");var R=JSON.stringify(t.Fields),C="";
C=this._pinManager.isPasscardEncrypted(F)===!0?this._pinManager.decryptString(F.Fields.Encrypted):JSON.stringify(F.Fields);var G=R!==C;console.info(__GLOBAL_LOG_PREFIX__,n+" Update passcard!"),t.DisplayName=F.DisplayName,t.Attr.Imported=F.Attr.Imported;for(var b in F)F.hasOwnProperty(b)&&null==t[b]&&(t[b]=F[b]);return void this.updatePasscard({Passcard:t,IsFieldModified:G,IsPasscardModified:!0,IsReplay:!1,IsSaveOnSubmit:a.isSaveOnSubmit})}return void console.info(__GLOBAL_LOG_PREFIX__,n+" Pin is not valid. Ignoring this passcard")}return console.info(__GLOBAL_LOG_PREFIX__,n+" no candidatePasscards found. [create]"),u===!1?(console.info(__GLOBAL_LOG_PREFIX__,n+" Add passcard"),this.showAddPasscard(t,a.isPromptOnDiscard),{result:!0,msg:"success"}):void console.info(__GLOBAL_LOG_PREFIX__,n+" Skip saving passcard for this domain [return]")}if(console.info(__GLOBAL_LOG_PREFIX__,n+" Update passcard"),i===PWM_DEFINE.PINSTATE.VALID&&(t.LastUsed=Math.floor((new Date).getTime()/1e3),this.updatePasscard({Passcard:t,IsFieldModified:a.isFieldModified,IsPasscardModified:a.isPasscardModified,IsReplay:!0,IsSaveOnSubmit:a.isSaveOnSubmit}),a.isSaveOnSubmit===!0)){a=this._currentPasscard.getStates(),a.isPasscardSaved=!0,this._currentPasscard.setStates(a),this._currentPasscard.setCurrentPasscard(t);var v=this._pluginStates.getStates();v.waitingLoadEvent=!0,this._pluginStates.setStates(v)}},showAddPasscard:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][showAddPasscard]] Enter"),this._browserAdapter.showAddPasscard(e,t)},updatePassword:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][updatePassword]] Enter");try{var t=e.Passcard;this._pinManager.isPasscardEncrypted(t)&&(t=this._pinManager.decryptPasscard(t));var a,n=this._stateObject.getStates();a=n.cachedPasswordObj,n.cachedPasswordObj={},this._stateObject.setStates(n);var r;if(null!=a&&e.NewPasswordID===a.ID?r=a.newPassword:console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][updatePassword]] No matched password!"),e.IsFieldModified=!1,e.IsPasscardModified=!1,null!=r){var s=t.Fields;if(Array.isArray(s))for(var i in s)if(s.hasOwnProperty(i)&&(i=s[i],"password"===i.type)){if(null!=i.value){console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][recordPasscard]] Updating password"),i.value=r,e.IsFieldModified=!0,e.IsPasscardModified=!0;break}console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][recordPasscard]] Password field do not have any value")}}e.Passcard=t,e.IsReplay=!1,this.updatePasscard(e)}catch(o){console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][updatePassword]] Pin error!!")}},promptUpdatePasscardList:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][promptUpdatePasscardList]] Enter"),t=null!=t?t:"";var a=this._stateObject.getStates();a.cachedPasswordObj={ID:(new Date).getTime().toString(),newPassword:t},this._stateObject.setStates(a),e.length>0&&this._browserAdapter.showUpdatePasscardList(e,a.cachedPasswordObj.ID)},engineFeedbackHandler:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][engineFeedbackHandler]] Enter"),this._feedbackHandler.onEngineFeedback(e)},replayPasscard:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][replayPasscard]] Enter"),this._browserAdapter.notifyCallback("SendActiveUserEvent");try{var t=e;this._pinManager.isPasscardEncrypted(e)&&(t=this._pinManager.decryptPasscard(e)),this._currentPasscard.setCurrentPasscard(t),this.replayCurrentPasscard()}catch(a){console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][replayPasscard]] Pin error!!")}},recordPasscard:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][recordPasscard]] Enter");try{var t=e.Passcard;this._pinManager.isPasscardEncrypted(t)&&(t=this._pinManager.decryptPasscard(t)),r.applyPasswordStrength(t),e.Passcard=this._pinManager.encryptPasscard(t),console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][recordPasscard]] Passcard created and is ready to save."),this._browserAdapter.readyToAddPasscard(e)}catch(a){console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][recordPasscard]] Pin error!!")}},updatePasscard:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][updatePasscard]] Enter");try{var t=e.Passcard;e.IsFieldModified===!0&&(this._pinManager.isPasscardEncrypted(t)===!0&&(t=this._pinManager.decryptPasscard(t)),r.applyPasswordStrength(t)),e.AccountName=t.Account,e.IsPasscardModified===!0&&this._pinManager.isPasscardEncrypted(t)===!1&&(t=this._pinManager.encryptPasscard(t)),e.Passcard=t,console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][updatePasscard]] Passcard is ready to update."),this._browserAdapter.readyToUpdatePasscard(e)}catch(a){console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][recordPasscard]] Pin error!!")}},debugPasscardToString:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][debugPasscardToString]] Enter");try{this._pinManager.isPasscardEncrypted(e)&&(e=this._pinManager.decryptPasscard(e)),r.applyPasswordStrength(e);var a="";"location"===t.toLowerCase()?a=e.Location+e.Account:"querystr"===t.toLowerCase()?a=e.Location+e.AttrEnc.QueryStr+e.Account:(t="domain",a=e.Domain+e.Account);var n=this._pinManager.getPbkdf2StringFast(a);return e.ID=n,console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][debugPasscardToString]] New passcard ID w/ "+t.toLowerCase()+" = "+n),e=this._pinManager.encryptPasscard(e),console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][debugPasscardToString]] Passcard is ready to be a string."),JSON.stringify(e)}catch(s){console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][debugPasscardToString]] Pin error!!")}},setTabInfo:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][setTabInfo]] Enter"),this._scriptComposer.setEngineComponents(e.engineComponents)},setPasscardInfo:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][setPasscardInfo]] Enter");var t=this._currentPasscard.getCurrentPasscard();if(!r.isNew(t))return void console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][setPasscardInfo]] For recording only");var a=this._currentPasscard.getStates();a.isPromptOnDiscard=e.usingStrongPassword,this._currentPasscard.setStates(a)},queryAvailablePasscards:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][queryAvailablePasscards]] Enter");var a,n=this._pluginStates.getStates(),s=Url.normalizeDomain(n.topFrameDomain).toLowerCase(),i=(Url.getOrgDomain(s),n.topFrameSiteId),o=Url.normalizeDomain(Url.getDomain(t._internal.messageOrigin)).toLowerCase(),_=(Url.getOrgDomain(o),t.location.toLowerCase()),c=Url.normalizeDomain(Url.getDomain(_)),l=Url.getOrgDomain(c),P=t.formActions,d=function(){return!1},u=function(){return!1},p=function(){return!1},E=function(){return!1};d=L.getLocationFilter(_),u=L.getOrgDomainFilter(l);var g=t.siteID;0===g?(p=L.getFormActionFilter(P),a=function(e){if(e._internal={domainWhitelist:[]},d(e)===!0)return e._internal.domainWhitelist.push("[*?.]"+l),!0;if(p(e)===!0){var t=Url.getOrgDomain(Url.getDomain(e.FormAction)).toLowerCase();return e._internal.domainWhitelist.push("[*?.]"+t),t!==l&&u(e)===!0&&e._internal.domainWhitelist.push("[*?.]"+l),!0}return e.Attr.Imported===!0&&u(e)===!0?(e._internal.domainWhitelist.push("[*?.]"+l),!0):!1}):(g===i&&(E=L.getSiteIDFilter(g)),a=function(e){return e._internal={domainWhitelist:[]},E(e)===!0?!0:d(e)===!0?(e._internal.domainWhitelist.push("[*?.]"+l),!0):0!==e.SiteID&&e.Attr.Imported!==!0||u(e)!==!0?!1:(e._internal.domainWhitelist.push("[*?.]"+l),!0)});var O=r.queryByFilter(e,a);return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperationContext][queryAvailablePasscards]] # of passcard(s) queried ="+O.length),O}},c.prototype={registerCallback:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][registerCallback]] Enter"),"function"==typeof e?this._browserAdapter.registerCallback(e):console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][registerCallback]] Cannot register non-function callback!")},Invoke:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][Invoke]] Enter"),console.info(__GLOBAL_LOG_PREFIX__,pTag2,"[[DPPlugin][PluginObject][Invoke]] Enter cmd: "+e);var a=this._stateObject.getStates();a.wasInOperation=!0,a.lastCommand="Invoke_"+e,this._stateObject.setStates(a);var n=!1;switch(e){case"PageLoad":n=this.pageLoad(t);break;case"SetTabInfo":n=this.setTabInfo(t);break;case"ReplayPasscard":n=this.replayPasscard(t);break;case"UpdatePassword":n=this.updatePassword(t);break;case"RecordPasscard":n=this.recordPasscard(t);break;case"RemoveCachedUI":n=this.removeCachedUI(t);break;case"SetPasscardInfo":n=this.setPasscardInfo(t);break;case"AddCachedUI":n=this.addCachedUI(t);break;case"ShowCachedUI":n=this.showCachedUI();break;case"EngineCallback":n=this._operationContext.notifyEngineCallback(t);break;case"AutoFill":n=this._operationContext.queryAndAutoFillHandler(t,!0);break;default:console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][UiInvoke]] unexpected cmd:"+e)}return a.wasInOperation=!1,this._stateObject.setStates(a),console.info(__GLOBAL_LOG_PREFIX__,pTag2,"[[DPPlugin][PluginObject][UiInvoke]] Done cmd: "+e),n},pageLoad:function(e){if(console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][pageLoad]] Enter"),"string"!=typeof e.DocumentLocation)return console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][pageLoad]] Invalid parameters."),!0;var t={siteID:0,operationPattern:null};if(e.SiteId>0&&null!=e.Pattern){var a={};try{a=JSON.parse(e.Pattern)}catch(n){}null!=a.procedure&&(t.siteID=e.SiteId,t.operationPattern=a.procedure)}var r=e.signupPattern,s="";return"string"==typeof e.PasscardIDSpecified&&(s=e.PasscardIDSpecified),null!=this._operationContext&&(this._operationContext.setKeyValueData("patternVersion",e.PatternVersion),this._operationContext.notifyPageLoaded(e.DocumentDomain,e.DocumentLocation,e.SiteId,t,r,s)),!0},setTabInfo:function(e){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][setTabInfo]] Enter"),this._operationContext.setTabInfo({engineComponents:e.Engine}),!0},replayPasscard:function(e){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][replayPasscard]] Enter"),this._operationContext.replayPasscard(e),!0},recordPasscard:function(e){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][recordPasscard]] Enter"),this._browserAdapter.notifyCallback("SendActiveUserEvent"),this._operationContext.recordPasscard(e),!0},removeCachedUI:function(e){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][removeCachedUI]] Enter"),this._browserAdapter.removeCachedUI(e),!0},setPasscardInfo:function(e){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][setPasscardInfo]] Enter"),this._operationContext.setPasscardInfo({usingStrongPassword:null==e.usingStrongPassword?!1:e.usingStrongPassword}),!0},updatePassword:function(e){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][updatePassword]] Enter"),this._operationContext.updatePassword(e),!0},addCachedUI:function(e){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][addCachedUI]] Enter"),"ShowPasscardUpdated"===e.action&&this._browserAdapter.notifyCallback("SendActiveUserEvent"),this._browserAdapter.addCachedUI(e),!0},showCachedUI:function(){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][showCachedUI]] Enter"),this._browserAdapter.showCachedUI(),!0},autoFill:function(e){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PluginObject][autoFill]] Enter"),this._operationContext.autoFill(e),!0}},l.prototype={commonActionOnFirstPage:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperatorBase][commonActionOnFirstPage]] Enter");var t=this._pluginStates.getStates();return t.probeResult=e,t.isFirstPage=!0,t.isFirstPageStored=!1,this._pluginStates.setStates(t),this._currentPasscard.clear(),this._passcardCandidates.clear(),this.queryPasscardsAndPlay(e)},finishPasscard:function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperatorBase][finishPasscard]] Enter");var e=this._pluginStates.getStates(),t=this._currentPasscard.getCurrentPasscard(),a=this._currentPasscard.getStates();this._currentPasscard.clear();var n=e.probeResult,s=n.dualModeRecord||!1,i=s===!0?"[PLUGIN][RECORD/DUALMODE]":"[PLUGIN][RECORD]";t.Domain=n.domain,t.SiteID=n.siteID;var o=r.isNew(t);if(o&&3!==t.FormType){console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperatorBase][finishPasscard]] New passcard"),a.isPasscardModified=!0,s===!0?(t.Location=null!=n.recordLoc?n.recordLoc:n.location,t.AttrEnc.QueryStr=null!=n.recordLocQuery?n.recordLocQuery:n.locationQuery):(t.Location=null!=n.loginFormLocation?n.loginFormLocation:n.location,t.AttrEnc.QueryStr=null!=n.loginFormLocationQuery?n.loginFormLocationQuery:n.locationQuery);var _=Url.getDomain(n.domain,!0),c=Url.getSuffix(n.domain),l=_;if(null!==c){var P=_.lastIndexOf(c);l=_.substr(0,P-1),-1===l.indexOf(".")&&(l=_)}t.DisplayName=l,t.AttrEnc.AutoSubmit=!0,t.AttrEnc.LaunchSW=n.launchSW,t.AttrEnc.ShowLaunchSW=n.showLaunchSW}console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperatorBase][finishPasscard]] To refresh current passcard's hash Attr."),null!=t.Account&&(t.Attr.AccountHash=this._pinManager.getPbkdf2StringFast(t.Account)),t.AttrEnc.QueryStr=t.AttrEnc.QueryStr||"",t.Attr.QueryStrHash=this._pinManager.getPbkdf2StringFast(t.AttrEnc.QueryStr);var d=R.getInstance();if(console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperatorBase][finishPasscard]] currentPasscardStates.isPasscardSaved is "+a.isPasscardSaved),a.isPasscardSaved===!1){var u=this._operationContext.saveOrUpdatePasscard(n,t,a),p=null!=u?u.result:null,E=null!=u?u.msg:null,g=null!=p&&o,L=null!=e.dataReadyFlag?e.dataReadyFlag:"yes";if(console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperatorBase][finishPasscard]] 2017-11: dataProvided is "+L),"yes"===L&&g){var O={};O.ID=Util.generateId(),d.appendProbeResult(O,n),d.appendPluginState(O),d.cacheStateData(O),"Heuristic"===this.operatorType?p===!0?this._feedbackHandler.sendFeedback({reason:i+"[HEURISTIC][SUCCESS] Record success",action:PWM_DEFINE.FEEDBACK.ACTION.RECORD,type:PWM_DEFINE.FEEDBACK.TYPE.HEURISTIC,result:PWM_DEFINE.FEEDBACK.RESULT.SUCCESS}):this._feedbackHandler.sendFeedback({reason:i+"[HEURISTIC][FAILED] Record failure, "+E,action:PWM_DEFINE.FEEDBACK.ACTION.RECORD,type:PWM_DEFINE.FEEDBACK.TYPE.HEURISTIC,result:PWM_DEFINE.FEEDBACK.RESULT.FAILED}):p===!0?this._feedbackHandler.sendFeedback({reason:i+"[PATTERN][SUCCESS] Record success",action:PWM_DEFINE.FEEDBACK.ACTION.RECORD,type:PWM_DEFINE.FEEDBACK.TYPE.PATTERN,result:PWM_DEFINE.FEEDBACK.RESULT.SUCCESS}):this._feedbackHandler.sendFeedback({reason:i+"[PATTERN][FAILED] Record failure , "+E,action:PWM_DEFINE.FEEDBACK.ACTION.RECORD,type:PWM_DEFINE.FEEDBACK.TYPE.PATTERN,result:PWM_DEFINE.FEEDBACK.RESULT.FAILED})}}d.reset()},queryPasscardsAndPlay:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][OperatorBase][queryPasscardsAndPlay]] Enter");var t=this._operationContext.queryAvailablePasscards(this._passcardProvider.getPasscards(),e);this._passcardCandidates.setPasscardCandidates(t),this._operationContext.playWithPasscards(t,e)}},P.prototype=new l,P.prototype.onProbeReturn=function(t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][HeuristicOperator][onProbeReturn]] Enter");var a=this._pluginStates.getStates();if(a.isFirstPage=!1,this._pluginStates.setStates(a),a.waitingLoadEvent===!0){console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][HeuristicOperator][onProbeReturn]] Composing passcard"),a.waitingLoadEvent=!1,this._pluginStates.setStates(a);for(var n=this._currentPasscard.getCurrentPasscard(),s=t.formActions,i=!1,o=0;o<s.length;o++)if(Url.isIdenticalURL(s[o],n.FormAction)){i=!0;break}if(!i){console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][HeuristicOperator][onProbeReturn]] Replay or record successfully, finishing passcard");var _=this._stateObject.getStates();return e.setInsert(_.signedFormActions,n.FormAction),this._stateObject.setStates(_),this.finishPasscard(),void this._operationContext.onProbeReturn(t)}if(!r.isNew(n))return console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][HeuristicOperator][onProbeReturn]] Replay failed"),void this._operationContext.replayCurrentPasscard(!1)}else if(t.recording===!0)return console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][HeuristicOperator][onProbeReturn]] First page for record/replay"),void this.commonActionOnFirstPage(t);this._currentPasscard.clear(),this._passcardCandidates.clear()},P.prototype.isPasscardUsed=function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][HeuristicOperator][isPasscardUsed]] Enter");for(var t=this._stateObject.getStates().signedFormActions,a=0;a<t.length;a++)if(Url.isIdenticalURL(t[a],e.FormAction))return!0;return!1},P.prototype.finishPasscardOnStore=function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][HeuristicOperator][finishPasscardOnStore]] Enter");var t=this._pluginStates.getStates();t.waitingLoadEvent=!1,this._pluginStates.setStates(t);var a=this._currentPasscard.getCurrentPasscard(),n=this._stateObject.getStates();e.setInsert(n.signedFormActions,a.FormAction),this._stateObject.setStates(n),this.finishPasscard()},d.prototype=new l,d.prototype.onProbeReturn=function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][onProbeReturn]] Enter");var t=this._currentPasscard.getCurrentPasscard(),a=this._pluginStates.getStates(),n=r.isNew(t);if(a.isFirstPage=!1,this._pluginStates.setStates(a),a.waitingLoadEvent===!0)if(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][onProbeReturn]] Composing passcard"),a.waitingLoadEvent=!1,this._pluginStates.setStates(a),a.probeResult.siteID>0){if(a.probeResult.siteID!==e.siteID)return console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][onProbeReturn]] Site changed."),this.reset(),void this._operationContext.onProbeReturn(e);if(-1===e.step)return console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][onProbeReturn]] Last step"),this.reset(),this.replaySuccess(e),void this._operationContext.onProbeReturn(e);if(0!==e.step){var s=this.isVisitedStep(e.step);return s?(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][onProbeReturn]] Visited step"),this.reset(),this.insertStep(e.step),n?(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][onProbeReturn]] Visited step while recording"),t.SiteID=a.probeResult.siteID,this._currentPasscard.setCurrentPasscard(t),void this._operationContext.replayCurrentPasscard(!1)):(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][onProbeReturn]] Visited step while replay"),void this._operationContext.replayCurrentPasscard(!1))):(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][onProbeReturn]] Unvisited step: "+e.step+" matched"),this.insertStep(e.step),void(n||(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][onProbeReturn]] Replay. Fill out form and submit."),this._operationContext.replayCurrentPasscard())))}this._operationContext.onProbeReturn(e)}else console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][onProbeReturn]] Should not reach here!!");else if(e.recording===!0)return console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][onProbeReturn]] First page for record/replay"),this.reset(),this.insertStep(e.step),void this.commonActionOnFirstPage(e);this._currentPasscard.clear(),this._passcardCandidates.clear()},d.prototype.reset=function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][reset]] Enter");var e=this._stateObject.getStates();e.visitedSteps=[],this._stateObject.setStates(e)},d.prototype.replaySuccess=function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][replaySuccess]] Enter"),console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][replaySuccess]] Finishing passcard");var t=this._pluginStates.getStates(),a=this._stateObject.getStates();e.setInsert(a.signedSiteIDs,t.probeResult.siteID),this._stateObject.setStates(a),this.finishPasscard()},d.prototype.isPasscardUsed=function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][isPasscardUsed]] Enter");var t=this._stateObject.getStates().signedSiteIDs;for(var a in t)if(t.hasOwnProperty(a)&&t[a]===e.SiteID)return!0;return!1},d.prototype.insertStep=function(t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][insertStep]] Enter");var a=this._stateObject.getStates();e.setInsert(a.visitedSteps,t),this._stateObject.setStates(a)},d.prototype.isVisitedStep=function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][PatternOperator][insertStep]] Enter");var t=this._stateObject.getStates();for(var a in t.visitedSteps)if(t.visitedSteps.hasOwnProperty(a)&&(a=t.visitedSteps[a],a===e))return!0;return!1},d.prototype.finishPasscardOnStore=function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][HeuristicOperator][finishPasscardOnStore]] Enter");var e=this._pluginStates.getStates();e.waitingLoadEvent=!1,this._pluginStates.setStates(e),this.replaySuccess()},u.prototype={onInvalidProbeResult:function(e,t){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][onInvalidProbeResult]] Enter");var a=this._pluginStates.getStates(),n={};n.ID=Util.generateId(),this.appendProbeResult(n,e),this.appendPluginState(n),a.topFrameSiteId>0?this.sendFeedback({purpose:PWM_DEFINE.FEEDBACK.PURPOSE.ASSESSMENT,reason:"[PLUGIN][PATTERN][PROBERETURN][ASSESSMENT] "+t,action:PWM_DEFINE.FEEDBACK.ACTION.ASSESS,type:PWM_DEFINE.FEEDBACK.TYPE.PATTERN,result:PWM_DEFINE.FEEDBACK.RESULT.SUSPICIOUS}):this.sendFeedback({purpose:PWM_DEFINE.FEEDBACK.PURPOSE.ASSESSMENT,reason:"[PLUGIN][HEURISTIC][PROBERETURN][ASSESSMENT] "+t,action:PWM_DEFINE.FEEDBACK.ACTION.ASSESS,type:PWM_DEFINE.FEEDBACK.TYPE.HEURISTIC,result:PWM_DEFINE.FEEDBACK.RESULT.SUSPICIOUS})},onStoreCredential:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][onStoreCredential]] Enter");var t=e.probeResult._internal.messageOrigin;if(""!==t){var a=this._pluginStates.getStates(),n=Url.getOrgDomain(a.topFrameDomain).toLowerCase(),r=Url.getOrgDomain(Url.getDomain(t)).toLowerCase();if(n!==r){var s={};s.ID=Util.generateId(),this.appendProbeResult(s,e.probeResult),this.appendPluginState(s);var i=Url.splitByQueryString(a.topFrameUrl).location,o="MsgOrigin:{"+t+"}, TopFrameLoc:{"+i+"}";a.topFrameSiteId>0?this.sendFeedback({purpose:PWM_DEFINE.FEEDBACK.PURPOSE.ASSESSMENT,reason:"[PLUGIN][PATTERN][ASSESSMENT] "+o,action:PWM_DEFINE.FEEDBACK.ACTION.ASSESS,type:PWM_DEFINE.FEEDBACK.TYPE.PATTERN,result:PWM_DEFINE.FEEDBACK.RESULT.SUSPICIOUS}):this.sendFeedback({purpose:PWM_DEFINE.FEEDBACK.PURPOSE.ASSESSMENT,reason:"[PLUGIN][HEURISTIC][ASSESSMENT] "+o,action:PWM_DEFINE.FEEDBACK.ACTION.ASSESS,type:PWM_DEFINE.FEEDBACK.TYPE.HEURISTIC,result:PWM_DEFINE.FEEDBACK.RESULT.SUSPICIOUS})}}},onProbeReturn:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][onProbeReturn]] Enter");var t={};t.ID=Util.generateId(),this.appendProbeResult(t,e),this.appendPluginState(t),this.cacheStateData(t);var a=this._currentPasscard.getCurrentPasscard();if(""===a.Account&&1!=a.FormType)return void console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][onProbeReturn]] Enter: _currentPasscard.clear() is just called so no feedback sent out.");this.strictCheck(e),this.looseCheck(e);var n=this._stateObject.getStates();n.prevSiteID=e.siteID,this._stateObject.setStates(n)},strictCheck:function(t){var a=this._currentPasscard.getCurrentPasscard(),n=this._currentPasscard.getStates(),s=this._pluginStates.getStates(),i=this._stateObject.getStates(),o=t.dualModeRecord||!1,_=o===!0?"[PLUGIN][RECORD/DUALMODE]":"[PLUGIN][RECORD]";if(s.waitingLoadEvent===!0){var c=r.isNew(a);if(-1!==i.prevSiteID&&i.prevSiteID!==t.siteID)return void this.reset();if(t.siteID>0){if(-1===t.step)return void this.reset();if(0===t.step){var l=c?PWM_DEFINE.FEEDBACK.ACTION.RECORD:PWM_DEFINE.FEEDBACK.ACTION.REPLAY;return n.isPasscardSaved===!1&&l==PWM_DEFINE.FEEDBACK.ACTION.RECORD&&this.sendFeedback({reason:_+"[PATTERN][FAILED] No matched pattern step after submission",action:PWM_DEFINE.FEEDBACK.ACTION.RECORD,type:PWM_DEFINE.FEEDBACK.TYPE.PATTERN,result:PWM_DEFINE.FEEDBACK.RESULT.FAILED}),void this.reset()}return this.isVisitedStep(t.step)?void this.reset():(e.setInsert(i.visitedSteps,t.step),void this._stateObject.setStates(i))}for(var P=t.formActions,d=!1,u=0;u<P.length;u++)if(Url.isIdenticalURL(P[u],a.FormAction)){d=!0;break}if(!d)return void this.reset();if(c)return void this.reset()}else if(t.recording===!0)return this.reset(),e.setInsert(i.visitedSteps,t.step),void this._stateObject.setStates(i)},looseCheck:function(e){var t=this._currentPasscard.getCurrentPasscard(),a=this._pluginStates.getStates(),n=this._stateObject.getStates(),s=e.dualModeRecord||!1,i=s===!0?"[PLUGIN][RECORD/DUALMODE]":"[PLUGIN][RECORD]";a.waitingLoadEvent===!0&&(n.hasFormSubmitted=!1,this._stateObject.setStates(n));var o=e.siteID>0?PWM_DEFINE.FEEDBACK.TYPE.PATTERN:PWM_DEFINE.FEEDBACK.TYPE.HEURISTIC;if(n.hasFormSubmitted===!0&&(n.hasFormSubmitted=!1,this._stateObject.setStates(n),a.waitingLoadEvent===!1)){var _=r.isNew(t);_&&(o==PWM_DEFINE.FEEDBACK.TYPE.PATTERN?this.sendFeedback({reason:i+"[PATTERN][FAILED] onStoreCredential() is not triggered when user clicks submit button (but errorReturn triggered)",action:PWM_DEFINE.FEEDBACK.ACTION.RECORD,type:PWM_DEFINE.FEEDBACK.TYPE.PATTERN,result:PWM_DEFINE.FEEDBACK.RESULT.FAILED}):this.sendFeedback({reason:i+"[HEURISTIC][FAILED] onStoreCredential() is not triggered when user clicks submit button (but errorReturn triggered)",action:PWM_DEFINE.FEEDBACK.ACTION.RECORD,type:PWM_DEFINE.FEEDBACK.TYPE.HEURISTIC,result:PWM_DEFINE.FEEDBACK.RESULT.FAILED}))}},reset:function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][reset]] Enter");var e=this._stateObject.getStates();e.visitedSteps.length=0,e.prevSiteID=-1,this._stateObject.setStates(e)},onFormSubmit:function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][onFormSubmit]] Enter");var e=this._stateObject.getStates();e.hasFormSubmitted=!0,this._stateObject.setStates(e)},onReplayFailed:function(){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][onReplayFailed]] Enter")},onEngineFeedback:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][onEngineFeedback]] Enter");var t=e.resultID,a=e.reason,n=this._stateObject.getStates(),r=n.stateDataArray,s={};s.purpose=PWM_DEFINE.FEEDBACK.PURPOSE.STATISTICS;var i=t&PWM_RESULT_DEF.SEC_RESULT._filter;switch(i){case PWM_RESULT_DEF.SEC_RESULT.SUCCESS:s.result=PWM_DEFINE.FEEDBACK.RESULT.SUCCESS;break;case PWM_RESULT_DEF.SEC_RESULT.ERROR:s.result=PWM_DEFINE.FEEDBACK.RESULT.FAILED;break;default:return void console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][onEngineFeedback]] Invalid feedback")}var o=t&PWM_RESULT_DEF.SEC_ENGINE_ACTION._filter;switch(o){case PWM_RESULT_DEF.SEC_ENGINE_ACTION.RECORD:s.action=PWM_DEFINE.FEEDBACK.ACTION.RECORD;break;case PWM_RESULT_DEF.SEC_ENGINE_ACTION.REPLAY:s.action=PWM_DEFINE.FEEDBACK.ACTION.REPLAY;break;default:return void console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][onEngineFeedback]] Invalid feedback")}var _=t&PWM_RESULT_DEF.SEC_ENGINE_OPERATION_TYPE._filter;switch(_){case PWM_RESULT_DEF.SEC_ENGINE_OPERATION_TYPE.HEURISTIC:s.type=PWM_DEFINE.FEEDBACK.TYPE.HEURISTIC;break;case PWM_RESULT_DEF.SEC_ENGINE_OPERATION_TYPE.PATTERN:s.type=PWM_DEFINE.FEEDBACK.TYPE.PATTERN;break;case PWM_RESULT_DEF.SEC_ENGINE_OPERATION_TYPE.DUAL_MODE:s.type=PWM_DEFINE.FEEDBACK.TYPE.DUAL_MODE;break;default:return void console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][onEngineFeedback]] Invalid feedback")}s.reason=a,s.states={},s.stateArray=[],r.length>0&&(s.states=r[r.length-1],s.stateArray=r),s.extraInfo=e.extraInfo||{},this.sendOperationFeedback(s)},isVisitedStep:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][isVisitedStep]] Enter");var t=this._stateObject.getStates();for(var a in t.visitedSteps)if(t.visitedSteps.hasOwnProperty(a)&&(a=t.visitedSteps[a],a===e))return!0;return!1},cacheStateData:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][cacheStateData]] Enter");var t=this._stateObject.getStates();t.stateDataArray.push(e),t.stateDataArray.length>2&&(t.stateDataArray=t.stateDataArray.slice(t.stateDataArray.length-2)),this._stateObject.setStates(t)},appendProbeResult:function(e,t){return console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][appendProbeResult]] Enter"),null==e?void console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][appendProbeResult]] Empty object"):void(e.probeResult={siteID:t.siteID,recording:t.recording,location:t.location,recordLoc:t.recordLoc,isLoginform:t.isLoginform,step:t.step,patternVersion:t.patternVersion})},appendPluginState:function(e){if(console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][appendPluginState]] Enter"),null==e)return void console.warn(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][appendPluginState]] Empty object");var t=this._pluginStates.getStates();e.pluginState={waitingLoadEvent:t.waitingLoadEvent,domain:t.probeResult.domain,location:t.probeResult.location,siteID:t.probeResult.siteID,dataReadyFlag:t.dataReadyFlag,hasValue:t.hasValue}},sendFeedback:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][sendFeedback]] Enter");var t=this._stateObject.getStates(),a=t.stateDataArray;return e&&"string"==typeof e.reason?(console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][sendFeedback]] Reason: "+e.reason+"\r\n	",a),e.states={},e.stateArray=[],a.length>0&&(e.states=a[a.length-1],e.stateArray=a),e.purpose=e.purpose||PWM_DEFINE.FEEDBACK.PURPOSE.STATISTICS,void this.sendOperationFeedback(e)):void console.error(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][sendFeedback]] No reason specified!")},sendOperationFeedback:function(e){console.log(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][sendOperationFeedback]] Enter");var t={time:Util.getDateTimeString(!0),name:"OperationFeedback",detail:e};console.info(__GLOBAL_LOG_PREFIX__,"[[DPPlugin][FeedbackHandler][sendOperationFeedback]] Feedback Data: \r\n	",t),this._browserAdapter.sendFeedbackData(t)}};var O=new p(i),S=new p(a),A=new p(n),I=new p(s),h=new p(o),D=new p(_),f=new p(P),F=new p(d),R=new p(u);return new c}var console=require("./logger.js"),config=require("../define/config.js"),JSON=require("./json3.mod.js"),PWM_RESULT_DEF=require("../define/pwmresultdef.js"),PWM_RESULT=require("../define/pwmresult.js"),PWM_DEFINE=require("../define/pwmdefine.js"),DPLocksmith=require("./DPLocksmith.js"),pinManager=require("../helper/pinmanagersingleton.js"),passcardProvider=require("../helper/passcardprovidersingleton.js"),formFillingInfo=require("../helper/formfillinginfosingleton.js"),Util=require("./util.js"),Url=require("./url.js"),recordExceptionDomain=require("../helper/recordexceptiondomain.js"),specialDomain=require("../helper/specialdomain.js"),appSettings=require("../helper/main.appsettings.js"),pTag2="QAProfiles - ",FORMFILLING_DEFINE=require("../define/formfillingdefine.js");module.exports=DPPlugin;
},{"../define/config.js":1,"../define/formfillingdefine.js":2,"../define/pwmdefine.js":4,"../define/pwmresult.js":5,"../define/pwmresultdef.js":6,"../helper/formfillinginfosingleton.js":14,"../helper/main.appsettings.js":17,"../helper/passcardprovidersingleton.js":18,"../helper/pinmanagersingleton.js":19,"../helper/recordexceptiondomain.js":20,"../helper/specialdomain.js":22,"./DPLocksmith.js":25,"./json3.mod.js":41,"./logger.js":44,"./url.js":56,"./util.js":57}],52:[function(require,module,exports){
function PluginProxy(){PluginProxy._parent.constructor.apply(this,arguments);var e=this;this._messageCallbackWrapper=function(s){e._messageCallback(s)},this._plugin=new Plugin,this._plugin.registerCallback(this._messageCallbackWrapper)}var JSON=require("./json3.mod.js"),Oop=require("./oop.js"),MessageProxy=require("./messageproxy.js"),Plugin=require("./plugin.js");PluginProxy.name="PluginProxy",Oop.extend(PluginProxy,MessageProxy),PluginProxy.prototype._plugin=null,PluginProxy.prototype.sendMessage=function(e,s,r){if(this._isTargetInfoValid()===!1)return this;if(null==e)return this;null==r&&(r=this._senderId);var t=this.getTargetInfo();return this._doPostMessage({targetId:t.targetId,messageId:e,message:s,senderId:r},!1),this},PluginProxy.prototype._doPostMessage=function(e,s){try{var r=this._plugin;s===!1?r.Invoke(e.messageId,e.message):setTimeout(function(){r.Invoke(e.messageId,e.message)},0)}catch(t){var n=this;return void setTimeout(function(){n._doErrorCallback({errorId:"Error."+e.messageId+".InvalidTarget",message:"Invalid target",senderId:n._senderId},n)},0)}},PluginProxy.prototype._createMessageObject=function(e){if(null==e)return null;var s=this.getTargetInfo();return null==s?null:{targetId:this._senderId,messageId:e.cmd.toString(),message:e.msg,senderId:s.targetId}},PluginProxy.prototype._messageCallback=function(e){var s=this._createMessageObject(e);this._isValidMessage(s)!==!1&&this._doMessageCallback(s,this)},PluginProxy.prototype._defaultTargetInfo={targetId:"Message.Plugin"},PluginProxy.prototype._targetType="Plugin",module.exports=PluginProxy;
},{"./json3.mod.js":41,"./messageproxy.js":46,"./oop.js":48,"./plugin.js":51}],53:[function(require,module,exports){
function SecureFrameProxy(){SecureFrameProxy._parent.constructor.apply(this,arguments)}var console=require("./logger.js"),JSON=require("./json3.mod.js"),Oop=require("./oop.js"),FrameProxy=require("./frameproxy.js"),DPLocksmith=require("./DPLocksmith.js"),zeros="0000000000000000000000000000000000000000000000000000000000000000",locksmith=new DPLocksmith;locksmith.setJSON(JSON),locksmith.setConsole(console),SecureFrameProxy.name="SecureFrameProxy",Oop.extend(SecureFrameProxy,FrameProxy),SecureFrameProxy.prototype.setEnable=function(e){if(this._isEnable!=e){var r=this._messageCallbackTable.getCallbackCount();e===!0?this._message(0,r):this._message(r,0),this._isEnable=e}return this},SecureFrameProxy.prototype.isEnable=function(){return this._isEnable},SecureFrameProxy.prototype._isEnable=!0,SecureFrameProxy.prototype._message=function(e,r){return this.isEnable()===!1?void console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_message] Disabled!"):void SecureFrameProxy._parent._message.apply(this,arguments)},SecureFrameProxy.prototype.setTargetInfo=function(e){return SecureFrameProxy._parent.setTargetInfo.apply(this,arguments),this._keyPackageEnc=this._createKeyPackage(this._targetInfo.encKey),this},SecureFrameProxy.prototype._keyPackageEnc={},SecureFrameProxy.prototype._keyPackageDec={},SecureFrameProxy.prototype._createKeyPackage=function(e){if(null==e)return null;try{var r=locksmith.CryptoJS,t=/^[0-9a-f]+$/i.test(e);t===!1&&(e=r.enc.Utf8.parse(e),e=e.toString(r.enc.Hex));var o=e.length/2,s=Math.ceil(o/2),a=e.slice(0,2*s),n=e.slice(2*s);return a=(a+zeros).slice(0,64),n=(n+zeros).slice(0,64),{Major:r.enc.Hex.parse(a),Auxiliary:r.enc.Hex.parse(n)}}catch(c){console.error(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_createKeyPackage] Error")}return null},SecureFrameProxy.prototype._decKey=null,SecureFrameProxy.prototype.setDecKey=function(e){return this._decKey=e,this._keyPackageDec=this._createKeyPackage(e),this},SecureFrameProxy.prototype.getDecKey=function(){return this._decKey},SecureFrameProxy.prototype._cloneTargetInfo=function(e){var r=SecureFrameProxy._parent._cloneTargetInfo.apply(this,arguments);return null==r?null:(r.encKey=e.encKey,r)},SecureFrameProxy.prototype._encryptString=function(e){var r=null;try{r=locksmith.encryptString(this._keyPackageEnc,e)}catch(t){console.error(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_encryptString] Error")}return r},SecureFrameProxy.prototype._decryptString=function(e){var r=null;try{r=locksmith.decryptString(this._keyPackageDec,e)}catch(t){console.error(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_decryptString] Error")}return r},SecureFrameProxy.prototype.postSecureMessage=function(e,r,t){if(console.log(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][postSecureMessage] Enter:"+e),null==this._keyPackageEnc)return console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][postSecureMessage] Key not ready"),this;if(null==e)return console.error(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][postSecureMessage] Empty messageId"),this;if(this._isTargetInfoValid()===!1)return console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][postSecureMessage] Invalid target"),this;null==t&&(t=this._senderId);var o=this.getTargetInfo(),s=null,a=null,n=!1;try{s=this._encryptString(e),null!=r&&(a=this._encryptString(JSON.stringify(r))),n=!0}catch(c){}return this._doPostMessage({targetId:o.targetId,messageId:s,message:a,senderId:t,isEncrypted:n}),this},SecureFrameProxy.prototype._doPostMessage=function(e){return this.isEnable()===!1?void console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_doPostMessage] Disabled!"):void SecureFrameProxy._parent._doPostMessage.apply(this,arguments)},SecureFrameProxy.prototype._doMessageCallback=function(e,r){if(this.isEnable()===!1)return void console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_doMessageCallback] Disabled!");if(e.wasEncrypted=!1,e.isEncrypted===!0){var t=null,o=null;try{null!=this._keyPackageDec?(t=this._decryptString(e.messageId),null!=e.message&&(o=JSON.parse(this._decryptString(e.message)))):console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][_doMessageCallback] Key not ready")}catch(s){}e.messageId=t,e.message=o,e.wasEncrypted=!0}delete e.isEncrypted,SecureFrameProxy._parent._doMessageCallback.apply(this,[e,r])},SecureFrameProxy.prototype._defaultTargetInfo={targetId:"Message.Frame",window:null,origin:"*",encKey:null},SecureFrameProxy.prototype._targetType="SecureFrameWindow",module.exports=SecureFrameProxy;
},{"./DPLocksmith.js":25,"./frameproxy.js":34,"./json3.mod.js":41,"./logger.js":44,"./oop.js":48}],54:[function(require,module,exports){
function SecureFrameProxyGroup(){SecureFrameProxyGroup._parent.constructor.apply(this,arguments)}var Oop=require("./oop.js"),FrameProxyGroup=require("./frameproxygroup.js");SecureFrameProxyGroup.name="SecureFrameProxyGroup",Oop.extend(SecureFrameProxyGroup,FrameProxyGroup),SecureFrameProxyGroup.prototype._doPostMessage=function(e,r){r.doEncrypt===!0?null!=e.postSecureMessage&&e.postSecureMessage(r.messageId,r.message,r.senderId):e.postMessage(r.messageId,r.message,r.senderId)},SecureFrameProxyGroup.prototype.broadcastSecureMessage=function(e,r,o,s,a){var u={messageId:e,message:r,senderId:o,doEncrypt:!0};return this._doBroadcastMessage(u,s,a),this},SecureFrameProxyGroup.prototype.updateSecureMessage=function(e,r,o,s){var a={messageId:e,message:r,senderId:o,doEncrypt:!0};return this._doUpdateMessage(a,s),this},module.exports=SecureFrameProxyGroup;
},{"./frameproxygroup.js":35,"./oop.js":48}],55:[function(require,module,exports){
function StateObject(t,e){if(this.name=t,null!=e){var s=this.getStates();if(null==s)this.setStates(e);else{var o=!1;for(var r in e)e.hasOwnProperty(r)&&("undefined"==typeof s[r]?(console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][constructor] Missing property - "+t+"."+r),o=!0,s[r]=e[r]):Util.getObjectType(s[r])!==Util.getObjectType(e[r])&&(console.warn(__GLOBAL_LOG_PREFIX__,"["+this.constructor.name+"][constructor]] Property type changed - "+t+"."+r),o=!0,s[r]=e[r]));o&&this.setStates(s)}}}var console=require("./logger.js"),JSON=require("./json3.mod.js"),Util=require("./util.js");StateObject.name="StateObject",StateObject.prototype.name="DirectPass.StateObject.TempStore",StateObject.prototype.setStates=function(t){window.sessionStorage[this.name]=JSON.stringify(t)},StateObject.prototype.getStates=function(){if("undefined"!=typeof window.sessionStorage[this.name]){var t;try{t=JSON.parse(window.sessionStorage[this.name])}catch(e){}return t}},module.exports=StateObject;
},{"./json3.mod.js":41,"./logger.js":44,"./util.js":57}],56:[function(require,module,exports){
function Url(){}var console=require("./logger.js"),tld=require("../extlib/tld.js-master"),punycode=require("../extlib/punycode.mod");Url.trimHttpPrefix=function(r){return null==r?"":r.replace(/^https?:\/\//i,"")},Url.getProtocol=function(r){return null==r?"":r.replace(/^([a-z0-9+._]+:).*/i,"$1")},Url.getDomain=function(r){return null==r?"":Url.trimHttpPrefix(r).split(/\/+/g)[0].split(/:/g)[0]},Url.normalizeUrl=function(r){return null==r?"":r.replace(/index\.[^\/]*$/i,"").replace(/\/$/,"")},Url.normalizeDomain=function(r){return null==r?"":r.replace(/^(www\.)+/i,"")},Url.normalizeLocation=function(r){return null==r?"":r.replace(/\/$/,"").trim()},Url.isIdenticalURL=function(r,n){return null==r||null==n?!1:Url.normalizeUrl(Url.trimHttpPrefix(r.toLowerCase()))===Url.normalizeUrl(Url.trimHttpPrefix(n.toLowerCase()))},Url.hasIdenticalDomain=function(r,n){return null==r||null==n?!1:Url.normalizeDomain(Url.getDomain(r.toLowerCase()))===Url.normalizeDomain(Url.getDomain(n.toLowerCase()))},Url.splitByQueryString=function(r){var n={location:"",queryString:""};if(null==r)return n;var l=r.indexOf("?");return-1===l?(n.location=r.substring(0),n.queryString=""):(n.location=r.substring(0,l),n.queryString=r.substring(l)),n},Url.removeTrailingSlashes=function(r){return null==r?"":r.replace(/\/+$/,"")},Url.removeBeginSlashes=function(r){return null==r?"":r.replace(/^\/+/,"")},Url.concat=function(r,n){return r=null==r?"":r,n=null==n?"":n,Url.removeTrailingSlashes(r)+"/"+Url.removeBeginSlashes(n)},Url.getSuffix=function(r){return tld.getPublicSuffix(r)},Url.getOrgDomain=function(r){if(null==r)return"";if(Url.hasIP(r)===!0)return r;var n=tld.getDomain(r);return null==n?"":n},Url.getOrgName=function(r,n){if(null==r)return"";if(Url.hasIP(r)===!0)return r;var l=tld.getDomain(r);if(null==l)return"";var e=l.split(".")[0];return n===!0?Url.punycodeToUnicode(e):e},Url.punycodeToUnicode=function(r){return null==r?"":punycode.toUnicode(r)},Url.hasIP=function(r){var n=/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/;return n.test(r)},module.exports=Url;
},{"../extlib/punycode.mod":8,"../extlib/tld.js-master":9,"./logger.js":44}],57:[function(require,module,exports){
function Util(){}Util.messageIdWildcard2RegExp=function(n){var e=n.replace(/([.+\^${}()|\/\\])/g,"\\$1");return e=e.replace(/\[/g,"("),e=e.replace(/\]/g,"|)"),e=e.replace(/\*+/g,"[a-zA-Z0-9-._]*"),e=e.replace(/\?/g,"[a-zA-Z0-9-_]")},Util.domainWildcard2RegExp=function(n){var e=n.replace(/([.+\^${}()|\/\\])/g,"\\$1");return e=e.replace(/\[/g,"("),e=e.replace(/\]/g,"|)"),e=e.replace(/\*+/g,"[a-zA-Z0-9-.]*"),e=e.replace(/\?/g,"[a-zA-Z0-9-]")},Util.hasWildcard=function(n){return-1!==n.search(/[\[\]*?]/)},Util.reduceWildcard=function(n){return n.replace(/\*+/g,"*")},Util.reduceArray=function(n,e,r){"use strict";if(null===n||"undefined"==typeof n)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"==typeof n.reduce)return n.reduce(e,r);if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,i=Object(n),l=i.length>>>0,a=0;if(null!=r)t=r;else{for(;l>a&&!(a in i);)a++;if(a>=l)throw new TypeError("Reduce of empty array with no initial value");t=i[a++]}for(;l>a;a++)a in i&&(t=e(t,i[a],a,i));return t},Util.getObjectType=function(n){return Object.prototype.toString.call(n)},Util.getDateTimeString=function(n){function e(n){return 10>n?"0"+n:n}var r=new Date,t=n?"UTC":"";return r["get"+t+"FullYear"]()+"-"+e(r["get"+t+"Month"]()+1)+"-"+e(r["get"+t+"Date"]())+" "+e(r["get"+t+"Hours"]())+":"+e(r["get"+t+"Minutes"]())+":"+e(r["get"+t+"Seconds"]())},Util.generateId=function(n){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function r(){return(new Date).getTime().toString(16).slice(-8)}null==n&&(n=1);for(var t=r(),i=0;n>i;i++)t+=e();return t},Util.randomBytes=function(n,e){function r(n,e){return Math.floor(Math.random()*(e-n+1))+n}null==n&&(n=1),null==e&&(e=!1);var t="",i=0;if(e===!0&&null!=crypto&&null!=crypto.getRandomValues&&null!=Uint8Array){var l=new Uint8Array(n);for(crypto.getRandomValues(l),i=0;n>i;i++)t+=("0"+l[i].toString(16)).slice(-2)}else for(i=0;n>i;i++)t+=r(256,511).toString(16).slice(-2);return t},Util.stringReplace=function(n,e,r,t){if(null==n||null==e)return n;null==r&&(r="__"),null==t&&(t="__");var i=new RegExp(r+"([a-zA-Z0-9.]+)"+t,"g");return n.replace(i,function(n,r){var t=Util.reduceArray(r.split("."),function(n,e){return n[e]},e);return null==t?n:t})},Util.isIE=function(){var n="";return null!=window.navigator&&null!=window.navigator.userAgent&&(n=window.navigator.userAgent),-1!==n.search(/trident/i)},Util.isDocModeBelow=function(n){return null!=document.documentMode&&document.documentMode<n?!0:!1},Util.isMobile=function(){return null!=window.navigator.userAgent.match(/PasswordManager\/[0-9.]+\s+\((iPhone|iPad|Android)/i)},Util.isIos=function(){return null!=window.navigator.userAgent.match(/PasswordManager\/[0-9.]+\s+\((iPhone|iPad)/i)},Util.isAndroid=function(){return null!=window.navigator.userAgent.match(/PasswordManager\/[0-9.]+\s+\(Android/i)},Util.isPad=function(){var n=!1,e=Util.isAndroid();return n=e===!0?null==window.navigator.userAgent.match(/Mobile Safari/i):null!=window.navigator.userAgent.match(/PasswordManager\/[0-9.]+\s+\(iPad/i)};var checker="checkme";Util.escapeReplaceValue=function(n){return"checkme"===checker&&(checker=checker.replace("checkme",function(){return"$$"})),"$"===checker?n.replace(/\$/g,"$$$$"):function(){return n}},Util.isWindowAvailable=function(n){var e=null;try{e=n===n&&n}catch(r){}return null==e?!1:!0},Util.isSameWindow=function(n,e){var r=!1;try{r=n==e}catch(t){}return r},Util.stringCensoring=function(n,e,r,t){if(null==n||null==n.length||0===n.length)return"";var i=n.length,l=n;if((null==r||r>i)&&(r=i),null!=e&&e>=0){null==t&&(t="*");var a=Math.floor(i/2);a=a>e?e:a;var u=i-a;u>0&&(l=l.slice(0,a),l+=null!=t.repeat?t.repeat(u):Array(u+1).join(t))}return r!=i&&(l=l.slice(0,r)),l},module.exports=Util;
},{}],58:[function(require,module,exports){
function onFlowEnds(e){isFlowEnds===!1&&(isFlowEnds=!0,pluginProxy.sendMessage("PageLoad",e))}var console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),Url=require("../../lib/url.js"),pluginProxy=initedComponents.pluginProxy,eventPublisher=initedComponents.eventPublisher,topBarHelper=initedComponents.topBarHelper,towerProxy=initedComponents.towerProxy,sbExceptionDomain=require("../../helper/sbexceptiondomain.js"),isFlowEnds=!1;eventPublisher.onMessage("AskForProtectedBrowser",function(e,o){var n=e.message.pageInfo,r=n.DocumentLocation,s=Url.getDomain(r);isFlowEnds=!1,topBarHelper.offMessage(null,null,null,"__UIINTERACT__"),topBarHelper.postMessage("AskForProtectedBrowser"),topBarHelper.oneMessage("AskForProtectedBrowser.Confirm",function(e,o){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] TopBar callback - ShowProtectedBrowser!"),towerProxy.postMessage("ShowSB",{data:{url:r}}),topBarHelper.offMessage(null,null,null,"__UIINTERACT__"),topBarHelper.postMessage("ProtectedBrowserOpened",{domain:s}),topBarHelper.oneMessage("ProtectedBrowserOpened.Never",function(e,o){towerProxy.postMessage("SBExceptionDomain.Add",{data:{Domain:s}}),sbExceptionDomain.addDomainList([s],!1),topBarHelper.close(),onFlowEnds(n)},null,"__UIINTERACT__"),topBarHelper.oneMessage("ProtectedBrowserOpened.OpenHere",function(e,o){sbExceptionDomain.addDomainList([s],!0),topBarHelper.close(),onFlowEnds(n)},null,"__UIINTERACT__")},null,"__UIINTERACT__"),topBarHelper.oneMessage("AskForProtectedBrowser.NotNow",function(e,o){sbExceptionDomain.addDomainList([s],!0),topBarHelper.close(),onFlowEnds(n)},null,"__UIINTERACT__"),topBarHelper.oneMessage("AskForProtectedBrowser.Never",function(e,o){towerProxy.postMessage("SBExceptionDomain.Add",{data:{Domain:s}}),sbExceptionDomain.addDomainList([s],!1),topBarHelper.close(),onFlowEnds(n)},null,"__UIINTERACT__"),topBarHelper.oneMessage("CloseTopBar",function(){onFlowEnds(n)},null,"__UIINTERACT__")});
},{"../../helper/sbexceptiondomain.js":21,"../../lib/logger.js":44,"../../lib/url.js":56,"./main.initcomponents.js":68}],59:[function(require,module,exports){
function onFlowEnds(e){isFlowEnds===!1&&(isFlowEnds=!0,pluginProxy.sendMessage("PageLoad",e))}var console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),Url=require("../../lib/url.js"),pluginProxy=initedComponents.pluginProxy,eventPublisher=initedComponents.eventPublisher,topBarHelper=initedComponents.topBarHelper,towerProxy=initedComponents.towerProxy,sbExceptionDomain=require("../../helper/sbexceptiondomain.js"),isFlowEnds=!1;eventPublisher.onMessage("AskForProtectedBrowserWhiteList",function(e,o){var s=e.message.pageInfo,n=e.message.ubmHeader,r=e.message.ubmData,t=e.message.ubmURL,a=e.message.isEnable,l=e.message.appSettings,i=s.DocumentLocation,p=Url.getDomain(i);isFlowEnds=!1,topBarHelper.offMessage(null,null,null,"__UIINTERACT__"),topBarHelper.postMessage("AskForProtectedBrowserWhiteList",{ubmHeader:n,ubmData:r,ubmURL:t,isEnable:a,appSettings:l}),topBarHelper.oneMessage("AskForProtectedBrowserWhiteList.Confirm",function(e,o){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] TopBar callback - ShowProtectedBrowser!");var n=e.message,r=n.status;console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] Message = "+n+" Status = "+r),towerProxy.postMessage("ShowSB",{data:{url:i,addWhite:r}}),topBarHelper.offMessage(null,null,null,"__UIINTERACT__"),topBarHelper.postMessage("ProtectedBrowserOpened",{domain:p}),topBarHelper.oneMessage("ProtectedBrowserOpened.Never",function(e,o){sbExceptionDomain.addDomainList([p],!1),topBarHelper.close(),onFlowEnds(s)},null,"__UIINTERACT__"),topBarHelper.oneMessage("ProtectedBrowserOpened.OpenHere",function(e,o){sbExceptionDomain.addDomainList([p],!0),topBarHelper.close(),onFlowEnds(s)},null,"__UIINTERACT__")},null,"__UIINTERACT__"),topBarHelper.oneMessage("AskForProtectedBrowserWhiteList.Disable",function(e,o){towerProxy.postMessage("DisablePBPromotion"),topBarHelper.close(),onFlowEnds(s)},null,"__UIINTERACT__"),topBarHelper.oneMessage("AskForProtectedBrowserWhiteList.Never",function(e,o){towerProxy.postMessage("AddURLintoTIBlackList",{data:{Domain:p}}),sbExceptionDomain.addDomainList([p],!1),topBarHelper.close(),onFlowEnds(s)},null,"__UIINTERACT__"),topBarHelper.oneMessage("CloseTopBar",function(){onFlowEnds(s)},null,"__UIINTERACT__")});
},{"../../helper/sbexceptiondomain.js":21,"../../lib/logger.js":44,"../../lib/url.js":56,"./main.initcomponents.js":68}],60:[function(require,module,exports){
function onFlowEnds(e){isFlowEnds===!1&&(isFlowEnds=!0,pluginProxy.sendMessage("PageLoad",e))}var console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),Url=require("../../lib/url.js"),pluginProxy=initedComponents.pluginProxy,eventPublisher=initedComponents.eventPublisher,topBarHelper=initedComponents.topBarHelper,towerProxy=initedComponents.towerProxy,sbExceptionDomain=require("../../helper/sbexceptiondomain.js"),isFlowEnds=!1;eventPublisher.onMessage("AskForSecureBrowser",function(e,o){var n=e.message.pageInfo,r=n.DocumentLocation,s=Url.getDomain(r);isFlowEnds=!1,topBarHelper.offMessage(null,null,null,"__UIINTERACT__"),topBarHelper.postMessage("AskForSecureBrowser"),topBarHelper.oneMessage("AskForSecureBrowser.Confirm",function(e,o){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] TopBar callback - ShowSecureBrowser!"),towerProxy.postMessage("ShowSB",{data:{url:r}}),topBarHelper.offMessage(null,null,null,"__UIINTERACT__"),topBarHelper.postMessage("SecureBrowserOpened",{domain:s}),topBarHelper.oneMessage("SecureBrowserOpened.Never",function(e,o){towerProxy.postMessage("SBExceptionDomain.Add",{data:{Domain:s}}),sbExceptionDomain.addDomainList([s],!1),topBarHelper.close(),onFlowEnds(n)},null,"__UIINTERACT__"),topBarHelper.oneMessage("SecureBrowserOpened.OpenHere",function(e,o){sbExceptionDomain.addDomainList([s],!0),topBarHelper.close(),onFlowEnds(n)},null,"__UIINTERACT__")},null,"__UIINTERACT__"),topBarHelper.oneMessage("AskForSecureBrowser.NotNow",function(e,o){sbExceptionDomain.addDomainList([s],!0),topBarHelper.close(),onFlowEnds(n)},null,"__UIINTERACT__"),topBarHelper.oneMessage("AskForSecureBrowser.Never",function(e,o){towerProxy.postMessage("SBExceptionDomain.Add",{data:{Domain:s}}),sbExceptionDomain.addDomainList([s],!1),topBarHelper.close(),onFlowEnds(n)},null,"__UIINTERACT__"),topBarHelper.oneMessage("CloseTopBar",function(){onFlowEnds(n)},null,"__UIINTERACT__")});
},{"../../helper/sbexceptiondomain.js":21,"../../lib/logger.js":44,"../../lib/url.js":56,"./main.initcomponents.js":68}],61:[function(require,module,exports){
function forwardEngineCallback(e){var r=e.messageId,n=e.wasEncrypted,o={},a=!1;switch(r){case"ProbeReturn":case"StoreData":case"ReplayNext":a=!0;break;default:a=!1}if(a===!0&&n===!1)return void console.warn(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame][forwardEngineCallback] Message is not encrypted!");try{var s=JSON.parse(e.message);"ProbeReturn"===r||"StoreData"===r||"ReplayNext"===r?(o.messageBody=s,o.messageOrigin=e.messageOrigin):o=s}catch(i){}pluginProxy.onMessage("InvalidProbeResult",function(){console.warn(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] Invalid probe return!!"),frameProxyGroup.offMessage("@__STOREDATA__")}),pluginProxy.sendMessage("EngineCallback",{cmd:r,args:o})}var console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),JSON=require("../../lib/json3.mod.js"),appSettings=require("../../helper/main.appsettings.js"),pluginProxy=initedComponents.pluginProxy,frameProxyGroup=initedComponents.frameProxyGroup,isWaitingForStore=!1;frameProxyGroup.onMessage("ProbeReturn",function(e,r){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] "+e.messageId+" recieved!"),appSettings.isPinLocked===!1&&(isWaitingForStore===!1&&(frameProxyGroup.onMessage("StoreData@__STOREDATA__ ReplayNext@__STOREDATA__",function(e,r){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] "+e.messageId+" recieved!"),forwardEngineCallback(e)}),isWaitingForStore=!0),forwardEngineCallback(e))}),frameProxyGroup.onMessage("EngineFeedback ErrorReturn ReplayFailed",function(e,r){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] "+e.messageId+" recieved!"),forwardEngineCallback(e)});
},{"../../helper/main.appsettings.js":17,"../../lib/json3.mod.js":41,"../../lib/logger.js":44,"./main.initcomponents.js":68}],62:[function(require,module,exports){
var console=require("../../lib/logger.js"),EventUtil=require("../../lib/eventutil.js"),initedComponents=require("./main.initcomponents.js"),topFrameProxy=initedComponents.topFrameProxy;EventUtil.onEvent(window,"unload",function(){console.info(__GLOBAL_LOG_PREFIX__,"Extension Frame is unloading!"),topFrameProxy.postMessage("ExtensionFrameUnload")});
},{"../../lib/eventutil.js":30,"../../lib/logger.js":44,"./main.initcomponents.js":68}],63:[function(require,module,exports){
function getOriginFilter(e){if(null==e)return null;for(var r=[],i=0;i<e.length;i++)if(null!=e[i]&&"*"!==e[i]){var n=e[i].toLowerCase(),l=!1;Util.hasWildcard(n)&&(n=new RegExp(Util.domainWildcard2RegExp(Util.reduceWildcard(n)),"i"),l=!0),r.push({domain:n,isRegExp:l})}return 0===r.length?null:function(e,i){if(null==e)return!0;var n=e.getTargetInfo(),l=n.origin;if(null==l)return!1;if("*"===l)return!0;for(var o=Url.getDomain(l).toLowerCase(),t=!1,a=0;a<r.length&&(t=r[a].isRegExp===!1?r[a].domain===o:r[a].domain.test(o),t!==!0);a++);return t}}var PWM_DEFINE=require("../../define/pwmdefine.js"),Util=require("../../lib/util.js"),Url=require("../../lib/url.js"),console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),pluginProxy=initedComponents.pluginProxy,frameProxyGroup=initedComponents.frameProxyGroup;pluginProxy.onMessage("ExecuteReplayScript",function(e,r){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] Plugin callback - ExecuteReplayScript!");var i=e.message.Script,n=e.message.DomainWhitelist;frameProxyGroup.broadcastSecureMessage("Replay",{script:i,id:Util.generateId()},null,!1,getOriginFilter(n))}),pluginProxy.oneMessage("ExecuteJavaScript",function(e,r){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame]pluginSetupGroup all done: Plugin callback - Probe!");var i=e.message;frameProxyGroup.broadcastMessage("Probe",{script:i,id:Util.generateId()},null,!0)});
},{"../../define/pwmdefine.js":4,"../../lib/logger.js":44,"../../lib/url.js":56,"../../lib/util.js":57,"./main.initcomponents.js":68}],64:[function(require,module,exports){
function forwardEngineCallback(e){var n=e.messageId,o=null;try{o=JSON.parse(e.message)}catch(i){}pluginProxy.sendMessage("EngineCallback",{cmd:n,args:o})}function onFlowEnds(){isInOperation=!1}var Util=require("../../lib/util.js"),Url=require("../../lib/url.js"),appSettings=require("../../helper/main.appsettings.js"),console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),JSON=require("../../lib/json3.mod.js"),frameProxyGroup=initedComponents.frameProxyGroup,pluginProxy=initedComponents.pluginProxy,topBarHelper=initedComponents.topBarHelper,pinValidationFlow=require("./main.pinvalidationflow.js"),isInOperation=!1;frameProxyGroup.onMessage("QueryAndAutoFill",function(e,n){if(console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] QueryAndAutoFill!"),appSettings.isPinLocked===!0)return void console.info(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame][QueryAndAutoFill] Pin locked!");if(isInOperation===!0)return void console.info(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame][QueryAndAutoFill] Still in operation!");var o=void 0!==appSettings.towerSettings.machineSettings.enable_formfilling_v2?appSettings.towerSettings.machineSettings.enable_formfilling_v2:appSettings.towerSettings.machineSettings.enable_formfilling;if(null==o||o===!1)return void console.info(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame][QueryAndAutoFill] Form filling feature disabled.");if(e.wasEncrypted===!1)return void console.warn(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame][QueryAndAutoFill] Message is not encrypted!");var i=e.messageOrigin,r=Url.getProtocol(i);if("https:"!==r.toLowerCase())return void console.info(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] Ignore non-https form filling requests!");var l=n;pluginProxy.offMessage("@NS_FORMFILLING").oneMessage("DoAutoFill@NS_FORMFILLING",function(e,n){function o(e){function n(){pluginProxy.sendMessage("AutoFill",s),topBarHelper.close()}null==e?topBarHelper.offMessage("@__UIINTERACT__").oneMessage("ShowConfirmAutoFill.Confirm@__UIINTERACT__",function(e,o){n()}).oneMessage("CloseTopBar@__UIINTERACT__",function(e,n){onFlowEnds()}).postMessage("ShowConfirmAutoFill",{domain:l,orgName:t}):n()}function r(){onFlowEnds()}console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] Plugin callback - DoAutoFill!");var l=Url.getDomain(i).toLowerCase(),t=Url.getOrgName(l,!0);l=Url.punycodeToUnicode(Url.normalizeDomain(l));var s=e.message;pinValidationFlow(null,o,r,"DoAutoFill",{domain:l,orgName:t})}).oneMessage("ExecuteFormFillingScript@NS_FORMFILLING",function(e,n){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] Plugin callback - ExecuteFormFillingScript!");var o=e.message.script,i=e.message.hasSensitiveData;i===!0?l.postSecureMessage("FormFilling",{script:o,id:Util.generateId()}):l.postMessage("FormFilling",{script:o,id:Util.generateId()}),onFlowEnds()}),isInOperation=!0,forwardEngineCallback(e)});
},{"../../helper/main.appsettings.js":17,"../../lib/json3.mod.js":41,"../../lib/logger.js":44,"../../lib/url.js":56,"../../lib/util.js":57,"./main.initcomponents.js":68,"./main.pinvalidationflow.js":72}],65:[function(require,module,exports){
var console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),SecureFrameProxy=require("../../lib/secureframeproxy.js"),frameProxyGroup=initedComponents.frameProxyGroup;frameProxyGroup.onMessage("FrameUnload",function(e,r){return console.info(__GLOBAL_LOG_PREFIX__,e.senderId+" is unloaded!"),e.wasEncrypted===!1?void console.warn(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame][onFrameUnload] Message is not encrypted!"):void frameProxyGroup.removeMessageProxy(r)});
},{"../../lib/logger.js":44,"../../lib/secureframeproxy.js":53,"./main.initcomponents.js":68}],66:[function(require,module,exports){
function relayLogFunction(e,r){"function"==typeof dpLogger[e]&&dpLogger[e](r,(new Date).getTime())}function setLoggerSettings(e){console.info(__GLOBAL_LOG_PREFIX__,"[setLoggerSettings] Changing logger settings");var r={};try{r=JSON.parse(window.sessionStorage["DirectPass.Debug.LoggerSettings"])}catch(o){}if("DPLogger"===e.loggerName){var g="ExtensionFrame";g="DPLogger"===r.loggerName?r.settings.requestId:g+"_"+Util.generateId(),e.settings.requestId=g;var t=dpLogger.getSettings();t.logLevel=e.settings.level,t.activeAppenders=["AjaxAppender"],t.AjaxAppender.useRemote=!0,t.AjaxAppender.requestID=g,t.AjaxAppender.url=e.settings.url,dpLogger.setSettings(t)}else if("DPLogger"===r.loggerName){var s=dpLogger.getSettings();s.AjaxAppender.url=e.settings.url,dpLogger.setSettings(s),dpLogger.sendBatchLogs()}window.sessionStorage["DirectPass.Debug.LoggerSettings"]=JSON.stringify(e),logFunctionStore.applyLogFunctions(e.loggerName,console)}function logHandler(e,r){var o=e.message;null!=dpLogger[o.level]&&dpLogger[o.level](o.message,o.time)}var console=require("../../lib/logger.js"),dpLogger=require("../../lib/dplogger.js"),Util=require("../../lib/util.js"),Url=require("../../lib/url.js"),JSON=require("../../lib/json3.mod.js"),logUtil=require("../../lib/logutil.js"),logFunctionStore=require("../../lib/logfunctionstore.js"),initedComponents=require("./main.initcomponents.js"),appSettings=require("../../helper/main.appsettings.js"),topBarHelper=initedComponents.topBarHelper,frameProxyGroup=initedComponents.frameProxyGroup,eventPublisher=initedComponents.eventPublisher,towerProxy=initedComponents.towerProxy,dpRelayLogger=logUtil.createRelayLogger(relayLogFunction);logFunctionStore.storeLogFunctions("DPLogger",dpRelayLogger),eventPublisher.oneMessage("TowerInfoReady",function(e,r){console.info(__GLOBAL_LOG_PREFIX__,"[LoggerSettings] Tower info is ready!!");var o={loggerName:"SilentLogger",settings:{level:"error",url:""}},g=appSettings.towerSettings.log;if(null!=g){var t="SilentLogger",s=g.level.toLowerCase(),n="";switch(g.ajax===!0?t="DPLogger":g.console===!0&&(t="NativeLogger"),s){case"all":case"trace":case"debug":s="log";break;case"log":case"info":case"warn":case"error":s=s;break;default:s="error"}var i=towerProxy.getTargetInfo();if(null!=i)for(var l=i.apiTable,a=0;a<l.length;a++)if("DebugLog.Add"===l[a].messageId){n=Url.concat(i.baseAddress,l[a].api);break}o={loggerName:t,settings:{level:s,url:n}}}setLoggerSettings(o),frameProxyGroup.broadcastMessage("LoggerSettings",o,null,!0),topBarHelper.postSettingsMessage("LoggerSettings",o)}),frameProxyGroup.onMessage("LogMessage",logHandler),topBarHelper.onMessage("LogMessage",logHandler);
},{"../../helper/main.appsettings.js":17,"../../lib/dplogger.js":29,"../../lib/json3.mod.js":41,"../../lib/logfunctionstore.js":43,"../../lib/logger.js":44,"../../lib/logutil.js":45,"../../lib/url.js":56,"../../lib/util.js":57,"./main.initcomponents.js":68}],67:[function(require,module,exports){
var console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),Handshake=require("../../helper/handshake.js"),configModule=require("../../define/config.js"),frameMessageBroker=initedComponents.frameMessageBroker,extensionProxy=initedComponents.extensionProxy,eventPublisher=initedComponents.eventPublisher,topFrameProxy=initedComponents.topFrameProxy,frameProxyGroup=initedComponents.frameProxyGroup,towerProxy=initedComponents.towerProxy;Handshake.extension.extensionFrame(frameMessageBroker,extensionProxy,eventPublisher),Handshake.frames.extensionFrame(topFrameProxy,frameMessageBroker,frameProxyGroup),eventPublisher.onMessage("ExtensionProxyReady",function(e,o){console.log(__GLOBAL_LOG_PREFIX__,"Extension Proxy ready!!");var n={name:configModule.MODULE,version:configModule.VERSION};extensionProxy.postMessage("GetInitData",{module:n,version:configModule.VERSION})}),extensionProxy.oneMessage("InitData",function(e,o){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame][onExtensionProxyReady] Extension response: InitData");var n=e.message,r=towerProxy.getTargetInfo();r.baseAddress=n.tower.baseUrl,towerProxy.setTargetInfo(r),eventPublisher.sendMessage("TowerProxyReady",{sessionId:n.tower.sessionId})});
},{"../../define/config.js":1,"../../helper/handshake.js":16,"../../lib/logger.js":44,"./main.initcomponents.js":68}],68:[function(require,module,exports){
var console=require("../../lib/logger.js"),FrameProxy=require("../../lib/frameproxy.js"),FrameMessageBroker=require("../../lib/framemessagebroker.js"),SecureFrameProxyGroup=require("../../lib/secureframeproxygroup.js"),ExtensionProxy=require("../../lib/extensionproxy.js"),TowerProxy=require("../../helper/towerproxy.js"),CoProxy=require("../../lib/coproxy.js"),PluginProxy=require("../../lib/pluginproxy.js"),TopBarHelper=require("../../helper/topbarhelper.js"),initedComponents={},senderId="Message.ExtensionFrame";console.info(__GLOBAL_LOG_PREFIX__,"senderId:"+senderId),initedComponents.senderId=senderId;var topFrameProxy=new FrameProxy;topFrameProxy.setSenderId(senderId);var targetInfo=topFrameProxy.getTargetInfo();targetInfo.targetId="Message.TopFrame",targetInfo.window=window.top,targetInfo.origin="*",topFrameProxy.setTargetInfo(targetInfo),console.info(__GLOBAL_LOG_PREFIX__,"topFrameProxy init done."),initedComponents.topFrameProxy=topFrameProxy;var frameMessageBroker=new FrameMessageBroker;frameMessageBroker.setSenderId(senderId),console.info(__GLOBAL_LOG_PREFIX__,"frameMessageBroker init done."),initedComponents.frameMessageBroker=frameMessageBroker;var frameProxyGroup=new SecureFrameProxyGroup;console.info(__GLOBAL_LOG_PREFIX__,"frameProxyGroup init done."),initedComponents.frameProxyGroup=frameProxyGroup;var extensionProxy=new ExtensionProxy;extensionProxy.setSenderId(senderId),console.info(__GLOBAL_LOG_PREFIX__,"extensionProxy init done."),initedComponents.extensionProxy=extensionProxy;var towerProxy=new TowerProxy;towerProxy.setSenderId(senderId),console.info(__GLOBAL_LOG_PREFIX__,"towerProxy init done."),initedComponents.towerProxy=towerProxy;var eventPublisher=new CoProxy;targetInfo=eventPublisher.getTargetInfo(),targetInfo.coProxy=eventPublisher,eventPublisher.setTargetInfo(targetInfo),console.info(__GLOBAL_LOG_PREFIX__,"eventPublisher init done."),initedComponents.eventPublisher=eventPublisher;var pluginProxy=new PluginProxy;pluginProxy.setSenderId(senderId),pluginProxy.sendMessage("SetTabInfo",{Engine:DPEngineComponents}),console.info(__GLOBAL_LOG_PREFIX__,"pluginProxy init done."),initedComponents.pluginProxy=pluginProxy;var topBarProxy=new FrameProxy;topBarProxy.setSenderId(senderId),console.info(__GLOBAL_LOG_PREFIX__,"topBarProxy init done."),initedComponents.topBarProxy=topBarProxy;var topBarHelper=new TopBarHelper(topBarProxy,topFrameProxy,frameMessageBroker);console.info(__GLOBAL_LOG_PREFIX__,"topBarHelper init done."),initedComponents.topBarHelper=topBarHelper,module.exports=initedComponents;
},{"../../helper/topbarhelper.js":23,"../../helper/towerproxy.js":24,"../../lib/coproxy.js":27,"../../lib/extensionproxy.js":31,"../../lib/framemessagebroker.js":33,"../../lib/frameproxy.js":34,"../../lib/logger.js":44,"../../lib/pluginproxy.js":52,"../../lib/secureframeproxygroup.js":54}],69:[function(require,module,exports){
var console=require("../../lib/logger.js"),calcLocale=require("../../helper/calclocale.js"),configModule=require("../../define/config.js"),initedComponents=require("./main.initcomponents.js"),FunctionChain=require("../../lib/functionchain.js"),extensionProxy=initedComponents.extensionProxy,towerProxy=initedComponents.towerProxy,eventPublisher=initedComponents.eventPublisher,topFrameProxy=initedComponents.topFrameProxy,topBarHelper=initedComponents.topBarHelper,pinManager=require("../../helper/pinmanagersingleton.js"),passcardProvider=require("../../helper/passcardprovidersingleton.js"),formFillingInfo=require("../../helper/formfillinginfosingleton.js"),recordExceptionDomain=require("../../helper/recordexceptiondomain.js"),sbExceptionDomain=require("../../helper/sbexceptiondomain.js"),appSettings=require("../../helper/main.appsettings.js"),specialDomain=require("../../helper/specialdomain.js"),HttpMessageProxy=require("../../lib/httpmessageproxy.js"),CoProxy=require("../../lib/coproxy.js"),Url=require("../../lib/url.js"),currentDomain="",currentURL="",httpMessageProxy=new HttpMessageProxy;httpMessageProxy.setTargetInfo({targetId:"Message.Portal",baseAddress:"./script/locales/",apiTable:[{messageId:"GetTranslation",contentType:"text/plain",method:"GET",api:"",dataType:"json"}]}),extensionProxy.onMessage("InitData",function(e,n){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame][onExtensionProxyReady] Extension response: InitData - master pin setup");var o=e.message;pinManager.setEncPackage(o.pin)}),extensionProxy.oneMessage("InitData",function(e,n){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame][onExtensionProxyReady] Extension response: InitData -  settings");var o=e.message;null!=o.isInSecureBrowser&&(appSettings.isInSecureBrowser=o.isInSecureBrowser),null!=o.isInProtectedBrowser&&(appSettings.isInProtectedBrowser=o.isInProtectedBrowser,appSettings.isInSecureBrowser=appSettings.isInSecureBrowser||o.isInProtectedBrowser);var i=!1;null!=window.navigator.userAgent.match(/PasswordManager\/[0-9.]+\s+\((iPhone|iPad|Android)/i)&&(console.info(__GLOBAL_LOG_PREFIX__,"Mobile device"),i=!0),topBarHelper.isInMobile=i,appSettings.isInMobile=i});var pageLoadChain=new FunctionChain;pageLoadChain.addFunction(function(e){eventPublisher.oneMessage("ReadyToAsk",function(){console.info(__GLOBAL_LOG_PREFIX__,"[pageLoadChain] TowerProxyReady ready"),e.resolve()})}),pageLoadChain.addFunction(function(e){topFrameProxy.oneMessage("PageLoad",function(n,o){console.info(__GLOBAL_LOG_PREFIX__,"[pageLoadChain] Page loaded"),e.info.documentDomain=Url.getDomain(n.messageOrigin),e.info.documentLocation=n.message.documentLocation,e.resolve()})}),pageLoadChain.execute({documentDomain:""}),pageLoadChain.onResolved(function(e,n){console.info(__GLOBAL_LOG_PREFIX__,"[pageLoadChain] Page & Tower ready");var o=n.info.documentDomain,i=n.info.documentLocation;currentDomain=o,currentURL=i,""!==o&&(console.info(__GLOBAL_LOG_PREFIX__,"Get information from Tower - 1"),towerProxy.postMessage("GetPatternByDomain",{data:{domain:o}}),isInProtectedBrowser=appSettings.isInProtectedBrowser?!0:!1,appSettings.isSupportPB?appSettings.isSupportWH&&isInProtectedBrowser===!1?(console.info(__GLOBAL_LOG_PREFIX__,"Check URL in TI And URL = "+currentURL),towerProxy.postMessage("CheckURLinTI",{data:{url:currentURL}})):(console.info(__GLOBAL_LOG_PREFIX__,"Ask isInTiList and URL = "+currentURL),towerProxy.postMessage("IsInTIList",{data:{url:currentURL}})):towerProxy.postMessage("IsInSBList",{data:{domain:currentDomain}}))},null,!0),eventPublisher.oneMessage("TowerProxyReady",function(e,n){console.info(__GLOBAL_LOG_PREFIX__,"TowerProxy ready -- Get Tower info");var o=e.message,i={name:configModule.MODULE,version:configModule.VERSION};towerProxy.postMessage("TowerInfo",{data:{module:i}}),towerProxy.oneMessage("Response.TowerInfo",function(e,n){console.info(__GLOBAL_LOG_PREFIX__,"Got Tower response"),"0"===e.message.returncode?(console.info(__GLOBAL_LOG_PREFIX__,"Get information from Tower - 2"),appSettings.towerSettings=e.message,appSettings.isSupportPB=e.message.isSupportPB,appSettings.isSupportWH=e.message.isSupportWH,console.info(__GLOBAL_LOG_PREFIX__,"[DPSCRIPT] isSupportPB = "+appSettings.isSupportPB+" isSupportWH = "+appSettings.isSupportWH),appSettings.locale=calcLocale(appSettings.towerSettings.locale),eventPublisher.sendMessage("TowerInfoReady"),towerProxy.postMessage("SessionKeyInfo",{data:{sessionId:o.sessionId}}),towerProxy.postMessage("MasterPasswordInfo"),towerProxy.postMessage("PasscardsInfo"),towerProxy.postMessage("SettingsInfo"),towerProxy.postMessage("ProfileInfo"),towerProxy.postMessage("RecordExceptionDomain.Get"),towerProxy.postMessage("SBExceptionDomain.Get"),towerProxy.postMessage("SpecialDomain"),eventPublisher.postMessage("ReadyToAsk")):console.warn(__GLOBAL_LOG_PREFIX__,"Tower is not ready")})});var initFrameChain=new FunctionChain;initFrameChain.addFunction(function(e){towerProxy.oneMessage("Response.SessionKeyInfo",function(n,o){console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Session key get"),pinManager.setSessionKey(n.message),e.resolve()})}),initFrameChain.addFunction(function(e){towerProxy.oneMessage("Response.MasterPasswordInfo",function(n,o){"0"===n.message.returncode?(console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Pin Table get"),pinManager.setPinTable(n.message.data[0]),e.resolve()):(console.error(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Cannot retrieve Pin Table"),e.reject(n.message))})}),initFrameChain.addFunction(function(e){towerProxy.oneMessage("Response.PasscardsInfo",function(n,o){"0"===n.message.returncode?(console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Passcard Info get"),passcardProvider.setPasscards(n.message.data),e.resolve()):(console.error(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Cannot retrieve Passcard Info"),e.reject(n.message))})}),initFrameChain.addFunction(function(e){towerProxy.oneMessage("Response.SettingsInfo",function(n,o){if("0"===n.message.returncode){if(console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Settings Info get"),appSettings.portalSettings=n.message.data,null==appSettings.portalSettings.user_license)return console.error(__GLOBAL_LOG_PREFIX__,"[initFrameChain] No License info!"),void e.reject(n.message);var i=appSettings.portalSettings.user_license.LicenseInfo,s=-1;null!=i&&(s=parseInt(i.RemainDays,10)),isNaN(s)===!1&&s>=0?e.resolve():(console.warn(__GLOBAL_LOG_PREFIX__,"[initFrameChain] License expired!"),e.reject(n.message))}else console.error(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Cannot retrieve Settings Info"),e.reject(n.message)})}),initFrameChain.addFunction(function(e){towerProxy.oneMessage("Response.ProfileInfo",function(n,o){if("0"===n.message.returncode){console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Profile Info get");var i=n.message.data;formFillingInfo.setEncUserInfo(i),e.resolve()}else console.error(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Cannot retrieve Profile Info"),e.reject(n.message)})}),initFrameChain.addFunction(function(e){towerProxy.oneError("Error.RecordExceptionDomain.Get.Ajax",function(n,o){console.warn(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Ajax error when retrieving Record Exception Domain, proceed anyway..."),e.resolve()}),towerProxy.oneMessage("Response.RecordExceptionDomain.Get",function(n,o){console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Record Exception Domain get");var i=n.message;if("0"===i.returncode){for(var s=i.data,a=[],t=0;t<s.length;t++)a.push(s[t].Domain);recordExceptionDomain.addDomainList(a,!1)}e.resolve()})}),initFrameChain.addFunction(function(e){towerProxy.oneError("Error.SBExceptionDomain.Get.Ajax",function(n,o){console.warn(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Ajax error when retrieving SB Exception Domain, proceed anyway..."),e.resolve()}),towerProxy.oneMessage("Response.SBExceptionDomain.Get",function(n,o){console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] SB Exception Domain get");var i=n.message;if("0"===i.returncode){for(var s=i.data,a=[],t=0;t<s.length;t++)a.push(s[t].Domain);sbExceptionDomain.addDomainList(a,!1)}e.resolve()})}),initFrameChain.addFunction(function(e){towerProxy.oneError("Error.SpecialDomain.Ajax",function(n,o){console.warn(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Ajax error when retrieving Special Domain, proceed anyway..."),e.resolve()}),towerProxy.oneMessage("Response.SpecialDomain",function(n,o){console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Special Domain get");var i=n.message;if("0"===i.returncode){var s=i.data;specialDomain.addDomainList(s,!1)}e.resolve()})}),initFrameChain.addFunction(function(e){towerProxy.oneMessage("Response.GetPatternByDomain",function(n,o){console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Get Pattern done");try{var i=n.message;e.info.page.Pattern=i.pattern,e.info.page.SiteId=i.siteID,e.info.page.PatternVersion=null==i.patternVersion?0:i.patternVersion}catch(s){}e.resolve()})}),initFrameChain.addFunction(function(e){towerProxy.oneMessage("Response.IsInSBList",function(n,o){console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Check SB List done");var i=n.message;e.info.isInSBList=i,e.resolve()}),towerProxy.oneMessage("Response.IsInTIList",function(n,o){console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Check TI List done");var i=n.message;e.info.isInTIList=i,i===!0?(console.info(__GLOBAL_LOG_PREFIX__,"[Lion] ASk Tower should show PB tutorial "),towerProxy.postMessage("ShouldShowPBTutorial")):(e.info.shouldShowPBTutorial=!1,e.info.isInTIWhiteList=!1,e.info.isInBlackList=!1,e.info.ubmHeader=null,e.info.ubmData=null,e.info.ubmURL=null,e.info.isEnable=!1,e.resolve())}),towerProxy.oneMessage("Response.CheckURLinTI",function(n,o){console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Check URL in TI List done");var i=n.message,s=i.result,a=i.url;console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Status = "+s+" currentURL = "+a),2==s?(e.info.shouldShowPBTutorial=!1,e.info.isInTIWhiteList=!0,e.info.isInBlackList=!1,e.info.ubmHeader=null,e.info.ubmData=null,e.info.ubmURL=null,e.info.isEnable=!1,e.resolve()):1==s?(e.info.shouldShowPBTutorial=!1,e.info.isInTIWhiteList=!1,e.info.isInBlackList=!0,e.info.ubmHeader=null,e.info.ubmData=null,e.info.ubmURL=null,e.info.isEnable=!1,e.resolve()):(console.log(__GLOBAL_LOG_PREFIX__,"[Lion] Ask is In TI List, URL = "+a),towerProxy.postMessage("IsInTIList",{data:{url:a}}))}),towerProxy.oneMessage("Response.ShouldShowPBTutorial",function(n,o){console.info(__GLOBAL_LOG_PREFIX__,"[LioninitFrameChaine] Check Should show PB Tutorial Done");var i=n.message;e.info.shouldShowPBTutorial=i.result,e.info.isInTIWhiteList=!1,e.info.isInBlackList=!1,e.info.ubmHeader=i.ubmHeader,e.info.ubmData=i.ubmData,e.info.ubmURL=i.ubmURL,e.info.isEnable=i.isEnableFeedback,e.resolve()})}),initFrameChain.addFunction(function(e){topFrameProxy.oneMessage("PageLoad",function(n,o){function i(e){sessionStorage.REPLAY_PASSCARD_ID=e}function s(){console.log(__GLOBAL_LOG_PREFIX__,sessionStorage.REPLAY_PASSCARD_ID);var e=sessionStorage.REPLAY_PASSCARD_ID;return null==e?"":e}console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Page loaded");var a=Url.getDomain(n.messageOrigin),t=n.message.documentLocation,r=Url.hasIdenticalDomain(a,t);if(r===!1)return console.warn(__GLOBAL_LOG_PREFIX__,"[initFrameChain][PageLoad] Domain not match!"),void e.reject(n.message);e.info.page.DocumentDomain=a,e.info.page.DocumentLocation=t;try{e.info.page.PasscardIDSpecified=s(),i("")}catch(_){}e.resolve()})}),initFrameChain.addFunction(function(e){eventPublisher.oneMessage("TowerInfoReady",function(n,o){console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] TowerInfoReady");var i=appSettings.locale;httpMessageProxy.postMessage("GetTranslation",{additionalPath:i+"/translation.json",cache:!0}),httpMessageProxy.oneMessage("Response.GetTranslation",function(n,o){console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Load L10n done"),appSettings.l10n=n.message,e.resolve()}),httpMessageProxy.oneError("Error.GetTranslation.Ajax",function(n,o){console.warn(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Cannot load L10n, proceed anyway..."),appSettings.l10n=null,e.resolve()})})}),initFrameChain.execute({page:{SiteId:0,Pattern:null,PatternVersion:null,signupPattern:null,DocumentLocation:"",DocumentDomain:"",PasscardIDSpecified:""},isInSBList:!1,isInTIList:!1,shouldShowPBTutorial:!1,ubmHeader:null,ubmData:null,ubmURL:null,isEnableFeedback:!1}),initFrameChain.onResolved(function(e,n){console.info(__GLOBAL_LOG_PREFIX__,"[initFrameChain] Extension Frame inited!"),topBarHelper.postSettingsMessage("TopBarSettings",{appSettings:appSettings}),eventPublisher.sendMessage("ExtensionFrameInited",{info:n.info})},null,!0);
},{"../../define/config.js":1,"../../helper/calclocale.js":13,"../../helper/formfillinginfosingleton.js":14,"../../helper/main.appsettings.js":17,"../../helper/passcardprovidersingleton.js":18,"../../helper/pinmanagersingleton.js":19,"../../helper/recordexceptiondomain.js":20,"../../helper/sbexceptiondomain.js":21,"../../helper/specialdomain.js":22,"../../lib/coproxy.js":27,"../../lib/functionchain.js":36,"../../lib/httpmessageproxy.js":37,"../../lib/logger.js":44,"../../lib/url.js":56,"./main.initcomponents.js":68}],70:[function(require,module,exports){
var Util=require("../../lib/util.js"),console=require("../../lib/logger.js");console.info(__GLOBAL_LOG_PREFIX__,"^^^^^^^^^main.js flow start.^^^^^^^");var isFirstLevelFrame=!1;try{if(Util.isSameWindow(window.parent,window.top)===!0)for(var index=0;index<window.top.frames.length;index++)if(Util.isSameWindow(window.top.frames[index],window)===!0){isFirstLevelFrame=!0;break}}catch(e){}isFirstLevelFrame===!1?console.warn(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] Not first level iframe"):(require("./main.handlelogger.js"),require("./main.preloadpage.js"),require("./main.handshake.js"),require("./main.frameevent.js"),require("./main.initextframe.js"),require("./main.onextframeinited.js"),require("./main.execscript.js"),require("./main.enginecallback.js"),require("./main.showaddpasscard.js"),require("./main.showpasscardlist.js"),require("./main.updatepasscard.js"),require("./main.askforsecurebrowser.js"),require("./main.askforprotectedbrowser.js"),require("./main.askforprotectedbrowserwhitelist.js"),require("./main.showpbtutorial.js"),require("./main.realtimefeedback.js"),require("./main.formfilling.js"),require("./main.epilogue.js")),console.info(__GLOBAL_LOG_PREFIX__,"^^^^^^^^^main.js flow done.^^^^^^^");
},{"../../lib/logger.js":44,"../../lib/util.js":57,"./main.askforprotectedbrowser.js":58,"./main.askforprotectedbrowserwhitelist.js":59,"./main.askforsecurebrowser.js":60,"./main.enginecallback.js":61,"./main.epilogue.js":62,"./main.execscript.js":63,"./main.formfilling.js":64,"./main.frameevent.js":65,"./main.handlelogger.js":66,"./main.handshake.js":67,"./main.initextframe.js":69,"./main.onextframeinited.js":71,"./main.preloadpage.js":73,"./main.realtimefeedback.js":74,"./main.showaddpasscard.js":75,"./main.showpasscardlist.js":76,"./main.showpbtutorial.js":77,"./main.updatepasscard.js":78}],71:[function(require,module,exports){
var console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),eventPublisher=initedComponents.eventPublisher,topBarHelper=initedComponents.topBarHelper,pluginProxy=initedComponents.pluginProxy,appSettings=require("../../helper/main.appsettings.js"),sbExceptionDomain=require("../../helper/sbexceptiondomain.js");eventPublisher.oneMessage("ExtensionFrameInited",function(e,i){var s=e.message.info;if(appSettings.isInSecureBrowser===!0||1==appSettings.isInProtectedBrowser);else if(appSettings.isSupportPB){if(appSettings.isSupportWH&&s.isInTIWhiteList===!0)return;if(s.isInTIList===!0&&s.isInBlackList===!1){if(s.shouldShowPBTutorial===!0)return void eventPublisher.sendMessage("ShowPBTutorial",{pageInfo:s.page,ubmHeader:s.ubmHeader,ubmData:s.ubmData,ubmURL:s.ubmURL,isEnable:s.isEnable,appSettings:appSettings});if(""===s.page.PasscardIDSpecified)return void(appSettings.isSupportWH?eventPublisher.sendMessage("AskForProtectedBrowserWhiteList",{pageInfo:s.page,ubmHeader:s.ubmHeader,ubmData:s.ubmData,ubmURL:s.ubmURL,isEnable:s.isEnable,appSettings:appSettings}):sbExceptionDomain.isInDomainList(s.page.DocumentDomain)===!1&&eventPublisher.sendMessage("AskForProtectedBrowser",{pageInfo:s.page}))}}else if(s.isInSBList===!0&&sbExceptionDomain.isInDomainList(s.page.DocumentDomain)===!1){if(""===s.page.PasscardIDSpecified)return void eventPublisher.sendMessage("AskForSecureBrowser",{pageInfo:s.page});sbExceptionDomain.addDomainList([s.page.DocumentDomain],!0)}pluginProxy.sendMessage("PageLoad",s.page)});
},{"../../helper/main.appsettings.js":17,"../../helper/sbexceptiondomain.js":21,"../../lib/logger.js":44,"./main.initcomponents.js":68}],72:[function(require,module,exports){
function pinValidationFlow(e,o,n,s,a){console.log(__GLOBAL_LOG_PREFIX__,"forMessageID == "+s),o=null==o?function(){}:o,n=null==n?function(){}:n;var i=pinManager.validatePin(e);if(i===PWM_RESULT.SUCCESS.GENERAL.OK)console.info(__GLOBAL_LOG_PREFIX__,"Pin is valid"),null!=e&&(console.info(__GLOBAL_LOG_PREFIX__,"Save pin package to Browser Extension"),extensionProxy.postMessage("SaveMasterPin",{pin:pinManager.getEncPackage()}),console.info(__GLOBAL_LOG_PREFIX__,"Posting pin passed result to Tower"),towerProxy.postMessage("FeedbackPinStatus",{additionalPath:"1"})),o(e);else{console.info(__GLOBAL_LOG_PREFIX__,"Pin is invalid");var t=function(s){console.info(__GLOBAL_LOG_PREFIX__,"Show Master Pin Challenge for case:"+s);var i="";switch(s){case"RecordPasscard":i="ShowRecordChallengeMasterPin";break;case"ShowPasscardList":i="ShowReplayChallengeMasterPin";break;case"DoAutoFill":i="ShowAutoFillChallengeMasterPin";break;default:i="ShowReplayChallengeMasterPin",console.log(__GLOBAL_LOG_PREFIX__,"unexpected forMessageID:"+s)}topBarHelper.offMessage("@__UIINTERACT__").oneMessage("ValidateMasterPin@__UIINTERACT__",function(e,a){console.log(__GLOBAL_LOG_PREFIX__,"[ValidateMasterPin] forMessageID=="+s),pinValidationFlow(e.message.masterPin,o,n,s)}).oneMessage("CloseTopBar@__UIINTERACT__",n).postMessage(i,{passwordHint:pinManager.getHint(),hasFailed:null!=e,forMessageID:s,extraInfo:a})};null!=e?(console.info(__GLOBAL_LOG_PREFIX__,"Posting pin failed result to Tower"),towerProxy.postMessage("FeedbackPinStatus",{additionalPath:"0"}),towerProxy.offMessage("Response.FeedbackPinStatus"),towerProxy.oneMessage("Response.FeedbackPinStatus",function(e,o){var a=e.message.returncode;"94020001"===a?(console.info(__GLOBAL_LOG_PREFIX__,"Pin hasn't been locked"),t(s)):"94010005"===a?(console.info(__GLOBAL_LOG_PREFIX__,"Pin has been locked, show Pin Locked"),appSettings.isPinLocked=!0,n(),topBarHelper.offMessage("@__UIINTERACT__").onMessage("ShowPinLocked.ResetPin@__UIINTERACT__",function(e,o){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] TopBar callback - ResetPin in Secure Browser!");var n=e.message,s=n.resetPinLink;towerProxy.postMessage("OpenUrlInDefaultBrowser",{data:{url:s}})}).postMessage("ShowPinLocked",{passwordHint:pinManager.getHint()})):console.warn(__GLOBAL_LOG_PREFIX__,"Tower error!")})):t(s)}}var console=require("../../lib/logger.js"),PWM_RESULT=require("../../define/pwmresult.js"),appSettings=require("../../helper/main.appsettings.js"),initedComponents=require("./main.initcomponents.js"),extensionProxy=initedComponents.extensionProxy,towerProxy=initedComponents.towerProxy,topBarHelper=initedComponents.topBarHelper,pinManager=require("../../helper/pinmanagersingleton.js");module.exports=pinValidationFlow;
},{"../../define/pwmresult.js":5,"../../helper/main.appsettings.js":17,"../../helper/pinmanagersingleton.js":19,"../../lib/logger.js":44,"./main.initcomponents.js":68}],73:[function(require,module,exports){
var $=require("../../lib/jquery-1.11.2.mod.js"),EventUtil=require("../../lib/eventutil.js"),configModule=require("../../define/config.js"),template=$("<iframe/>").attr("src",configModule.TOPBAR_PRELOAD_HTML);EventUtil.onDocReady(function(){$("body").append(template)});
},{"../../define/config.js":1,"../../lib/eventutil.js":30,"../../lib/jquery-1.11.2.mod.js":38}],74:[function(require,module,exports){
function getFeedbackCache(){var e=[];try{e=JSON.parse(sessionStorage.feedbackCache)}catch(n){}return e}function setFeedbackCache(e){sessionStorage.feedbackCache=JSON.stringify(e)}function cacheFeedback(e){var n=getFeedbackCache();n.push(e),setFeedbackCache(n)}function sendRealtimeFeedback(e){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame]",">> sendRealtimeFeedback");var n=makeFeedbackMessage(e);sendFeedbackMessage(n)}function makeFeedbackMessage(e){var n=appSettings.portalSettings||{},t={},i={},a={};null!=n.user_license&&(t=n.user_license.LicenseInfo,i=n.user_license.AccountAuthentication,delete t.SN,delete t.ExpireDate,delete t.RemainDays,delete t.OSDPPurgeDate,delete t.PackageType),null!=appSettings.towerSettings&&(a.version=appSettings.towerSettings.version||config.VERSION,a.env=appSettings.towerSettings.env||"production",a.guid=appSettings.towerSettings.guid||t.GUID,a.biz=appSettings.towerSettings.biz||1,a.chromeExtInstalled=null!=appSettings.towerSettings.machineSettings.chrome,a.ieBhoInstalled=null!=appSettings.towerSettings.machineSettings.ie,a.firefoxExtInstalled=null!=appSettings.towerSettings.machineSettings.firefox,a.safariExtInstalled=null!=appSettings.towerSettings.machineSettings.safari);var s={browserInfo:{userAgent:window.navigator.userAgent},productInfo:{version:config.VERSION,towerVersion:a.version,serverStage:a.env,isTiBundle:2==a.biz},userInfo:{accountID:i.AccountID||""},settings:{locale:appSettings.locale,deviceGUID:a.guid,chromeExtension:a.chromeExtInstalled,ieBHO:a.ieBhoInstalled,firefoxExtension:a.firefoxExtInstalled,safariExtension:a.safariExtInstalled},licenseInfo:t,data:e,feedbackID:Util.generateId(2)};return s}function sendFeedbackMessage(e){var n=new TowerProxy;n.setSenderId(towerProxy.getSenderId()),n.setTargetInfo(towerProxy.getTargetInfo()),n.postMessage("SendRealtimeFeedback",{data:e}),n.offError("Error.SendRealtimeFeedback.Ajax"),n.oneError("Error.SendRealtimeFeedback.Ajax",function(n,t){cacheFeedback(e)})}function sendCachedFeedbackMessage(){var e=getFeedbackCache();setFeedbackCache([]);for(var n=0;n<e.length;n++)sendFeedbackMessage(e[n])}function makeActiveUserBody(){var e=function(){function e(e){return(10>e?"0":"")+e}var n=(new Date).getTimezoneOffset(),t=0>n?"+":"-";return n=Math.abs(n),t+e(n/60|0)+e(n%60)},n=function(){const e=navigator.appVersion;return-1!=e.indexOf("Win")?"windows":-1!=e.indexOf("Mac")?"mac":-1!=e.indexOf("Android")?"android":-1!=e.indexOf("like Mac")?"ios":void 0},t=appSettings.portalSettings.user_license.AccountAuthentication.AccountID,i=pinManager.encryptString(t),a=appSettings.portalSettings.user_license.LicenseInfo.VID,s=appSettings.portalSettings.user_license.LicenseInfo.AutoRenew,r=appSettings.portalSettings.user_license.LicenseInfo.AutoRenewPeriod,o=appSettings.portalSettings.user_license.LicenseInfo.ServiceStatus,c=appSettings.portalSettings.user_license.LicenseInfo.ServiceID,g=appSettings.portalSettings.user_license.LicenseInfo.RemainDays;return{hash:i,device_uuid:"",platform:appSettings.portalSettings.platform||n(),locale:appSettings.locale.toLowerCase().replace("-","_"),timezone:e(),event_type:"RecordReplay",VID:a,auto_renew:s,auto_renew_period:r,service_status:o,service_id:c,remaining_days:g}}var console=require("../../lib/logger.js"),JSON=require("../../lib/json3.mod.js"),config=require("../../define/config.js"),Util=require("../../lib/util.js"),pinManager=require("../../helper/pinmanagersingleton.js"),initedComponents=require("./main.initcomponents.js"),appSettings=require("../../helper/main.appsettings.js"),TowerProxy=require("../../helper/towerproxy.js"),towerProxy=initedComponents.towerProxy,pluginProxy=initedComponents.pluginProxy,eventPublisher=initedComponents.eventPublisher;pluginProxy.onMessage("SendRealtimeFeedback",function(e,n){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame]","Plugin callback - SendRealtimeFeedback!"),sendCachedFeedbackMessage();var t=[e.message];sendRealtimeFeedback(t)}),eventPublisher.oneMessage("ExtensionFrameInited",function(e){sendCachedFeedbackMessage()}),pluginProxy.onMessage("SendActiveUserEvent",function(e,n){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame]","Plugin callback - SendActiveUserEvent!");var t=new TowerProxy;t.setSenderId(towerProxy.getSenderId()),t.setTargetInfo(towerProxy.getTargetInfo());var i=makeActiveUserBody();t.postMessage("SendActiveUser",{data:i})});
},{"../../define/config.js":1,"../../helper/main.appsettings.js":17,"../../helper/pinmanagersingleton.js":19,"../../helper/towerproxy.js":24,"../../lib/json3.mod.js":41,"../../lib/logger.js":44,"../../lib/util.js":57,"./main.initcomponents.js":68}],75:[function(require,module,exports){
function onFlowEnds(){isFlowEnds===!1&&(isFlowEnds=!0,pluginProxy.sendMessage("RemoveCachedUI","ShowAddPasscard"))}var console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),pluginProxy=initedComponents.pluginProxy,topBarHelper=initedComponents.topBarHelper,towerProxy=initedComponents.towerProxy,extensionProxy=initedComponents.extensionProxy,recordExceptionDomain=require("../../helper/recordexceptiondomain.js"),passcardProvider=require("../../helper/passcardprovidersingleton.js"),pinValidationFlow=require("./main.pinvalidationflow.js"),appSettings=require("../../helper/main.appsettings.js"),isFlowEnds=!1;pluginProxy.onMessage("ShowAddPasscard",function(e,o){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] Plugin callback - ShowAddPasscard!");var s=e.message,a=s.passcard,r=s.confirmedMessageObject;isFlowEnds=!1,topBarHelper.offMessage(null,null,null,"__UIINTERACT__"),topBarHelper.oneMessage("ShowAddPasscard.Never",function(e,o){towerProxy.postMessage("RecordExceptionDomain.Add",{data:{Domain:a.Domain}}),recordExceptionDomain.addDomainList([a.Domain],!1),topBarHelper.close(),onFlowEnds()},null,"__UIINTERACT__"),topBarHelper.oneMessage("ShowAddPasscard.Confirm",function(e,o){function r(){pluginProxy.offMessage("ReadyToAddPasscard"),pluginProxy.oneMessage("ReadyToAddPasscard",function(e,o){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] Plugin callback - ReadyToAddPasscard!"),towerProxy.postMessage("PasscardEditAdd",{data:e.message.Passcard}),towerProxy.offMessage("Response.PasscardEditAdd"),towerProxy.oneMessage("Response.PasscardEditAdd",function(e,o){if(console.log(__GLOBAL_LOG_PREFIX__,"towerproxy's got Response.PasscardEditAdd"),"0"===e.message.returncode){var s=e.message.data;passcardProvider.addOrUpdatePasscard(s),topBarHelper.offMessage(null,null,null,"__UIINTERACT__").onMessage("ShowPasscardSaved.ViewDetails",function(e,o){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] TopBar callback - ViewDetails in Secure Browser!");var s=e.message,a=s.viewDetailsLink;towerProxy.postMessage("OpenUrlInDefaultBrowser",{data:{url:a}})},null,"__UIINTERACT__").postMessage("ShowPasscardSaved",{displayName:s.DisplayName,passcardId:s.ID}),appSettings.isInMobile===!0&&extensionProxy.postMessage("Passwords.Refresh")}else topBarHelper.close();onFlowEnds()}),towerProxy.offError("Error.PasscardEditAdd.Ajax"),towerProxy.oneError("Error.PasscardEditAdd.Ajax",function(e,o){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] Error when call server!"),topBarHelper.close(),onFlowEnds()})}),pluginProxy.sendMessage("RecordPasscard",{Passcard:a})}console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] TopBar callback - RecordPasscard!"),pluginProxy.sendMessage("RemoveCachedUI","ShowAddPasscard"),s.confirmedMessageObject=e,pluginProxy.sendMessage("AddCachedUI",{action:"ShowAddPasscard",obj:s}),pinValidationFlow(null,r,onFlowEnds,"RecordPasscard")},null,"__UIINTERACT__"),topBarHelper.oneMessage("CloseTopBar",function(){onFlowEnds()},null,"__UIINTERACT__"),null!=r?topBarHelper.forwardMessage(r):topBarHelper.postMessage("ShowAddPasscard",{showAutoOpenInSBOption:!1})});
},{"../../helper/main.appsettings.js":17,"../../helper/passcardprovidersingleton.js":18,"../../helper/recordexceptiondomain.js":20,"../../lib/logger.js":44,"./main.initcomponents.js":68,"./main.pinvalidationflow.js":72}],76:[function(require,module,exports){
function onFlowEnds(){isPromptShown=!1}var console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),pluginProxy=initedComponents.pluginProxy,topBarHelper=initedComponents.topBarHelper,pinManager=require("../../helper/pinmanagersingleton.js"),pinValidationFlow=require("./main.pinvalidationflow.js"),isPromptShown=!1;pluginProxy.onMessage("ShowPasscardList",function(n,e){function s(n){for(var e=[],s=0;s<n.length;s++)e.push({ID:n[s].ID,Account:n[s].Account,DisplayName:n[s].DisplayName,LastUsed:n[s].LastUsed});return e}function o(n,e){for(var s=0;s<n.length;s++)if(n[s].ID===e)return n[s];return null}function a(e){if(null!=e&&1===r.length)pluginProxy.sendMessage("ReplayPasscard",r[0]),topBarHelper.close(),onFlowEnds();else{for(var a=[],l=0;l<r.length;l++)try{a.push(pinManager.decryptPasscard(r[l]))}catch(i){}if(0===a.length)return void console.warn(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame][onShowPasscardList] No passcards to show!");n.message.Passcards=s(a),topBarHelper.offMessage(null,null,null,"__UIINTERACT__"),topBarHelper.postMessage("ShowPasscardList",n.message),topBarHelper.oneMessage("ReplayPasscard",function(n,e){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] TopBar callback - ReplayPasscard!"),topBarHelper.close();var s=n.message.passcard;s=o(a,s.ID),null==s?console.warn(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame][onReplayPasscard] No matched passcard to replay!"):pluginProxy.sendMessage("ReplayPasscard",s),onFlowEnds()},null,"__UIINTERACT__"),topBarHelper.oneMessage("CloseTopBar",function(){onFlowEnds()},null,"__UIINTERACT__")}}if(console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] Plugin callback - ShowPasscardList!"),isPromptShown===!0)return void console.info(__GLOBAL_LOG_PREFIX__,"Passcard list already shown!");isPromptShown=!0;var r=n.message.Passcards;topBarHelper.offMessage(null,null,null,"__UIINTERACT__"),topBarHelper.oneMessage("CloseTopBar",function(){onFlowEnds()},null,"__UIINTERACT__"),pinValidationFlow(null,a,onFlowEnds,"ShowPasscardList")});
},{"../../helper/pinmanagersingleton.js":19,"../../lib/logger.js":44,"./main.initcomponents.js":68,"./main.pinvalidationflow.js":72}],77:[function(require,module,exports){
function onFlowEnds(e){isFlowEnds===!1&&(isFlowEnds=!0,pluginProxy.sendMessage("PageLoad",e))}var console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),Url=require("../../lib/url.js"),pluginProxy=initedComponents.pluginProxy,eventPublisher=initedComponents.eventPublisher,topBarHelper=initedComponents.topBarHelper,towerProxy=initedComponents.towerProxy,isFlowEnds=!1;eventPublisher.onMessage("ShowPBTutorial",function(e,s){var o=e.message.pageInfo,n=e.message.ubmHeader,a=e.message.ubmData,r=e.message.ubmURL,t=e.message.isEnable,i=e.message.appSettings;isFlowEnds=!1,topBarHelper.offMessage(null,null,null,"__UIINTERACT__"),topBarHelper.postMessage("ShowPBTutorial",{ubmHeader:n,ubmData:a,ubmURL:r,isEnable:t,appSettings:i}),towerProxy.postMessage("SetPBTutorialKey",{data:""}),topBarHelper.oneMessage("CloseTopBar",function(){onFlowEnds(o)},null,"__UIINTERACT__")});
},{"../../lib/logger.js":44,"../../lib/url.js":56,"./main.initcomponents.js":68}],78:[function(require,module,exports){
var console=require("../../lib/logger.js"),initedComponents=require("./main.initcomponents.js"),pluginProxy=initedComponents.pluginProxy,topBarHelper=initedComponents.topBarHelper,towerProxy=initedComponents.towerProxy,extensionProxy=initedComponents.extensionProxy,passcardProvider=require("../../helper/passcardprovidersingleton.js"),appSettings=require("../../helper/main.appsettings.js");pluginProxy.onMessage("ReadyToUpdatePasscard",function(e,s){console.log(__GLOBAL_LOG_PREFIX__,"Plugin callback - ReadyToUpdatePasscard!");var a=e.message,o=a.Passcard,n=a.IsFieldModified,d=a.IsPasscardModified,r=a.IsReplay,t=a.IsSaveOnSubmit;n&&t?(pluginProxy.sendMessage("RemoveCachedUI","ReadyToUpdatePasscard"),pluginProxy.sendMessage("AddCachedUI",{action:"ShowConfirmUpdatePasscard",obj:a}),pluginProxy.sendMessage("ShowCachedUI")):d===!1?(console.info(__GLOBAL_LOG_PREFIX__,"No need to sync passcard to server"),r===!0&&(console.info(__GLOBAL_LOG_PREFIX__,"Updating the last used time of the passcard"),towerProxy.postMessage("UpdateLastUsed",{additionalPath:o.ID}),towerProxy.offMessage("Response.UpdateLastUsed"),towerProxy.oneMessage("Response.UpdateLastUsed",function(e,s){pluginProxy.sendMessage("RemoveCachedUI","ReadyToUpdatePasscard"),appSettings.isInMobile===!0&&extensionProxy.postMessage("Passwords.Refresh")}))):(console.info(__GLOBAL_LOG_PREFIX__,"Syncing passcard to server"),towerProxy.postMessage("PasscardEditUpdate",{data:o,additionalPath:o.ID}),towerProxy.offMessage("Response.PasscardEditUpdate"),towerProxy.oneMessage("Response.PasscardEditUpdate",function(e,s){if(console.log(__GLOBAL_LOG_PREFIX__,"Passcard Update Response!"),pluginProxy.sendMessage("RemoveCachedUI","ReadyToUpdatePasscard"),"0"===e.message.returncode){var a=e.message.data;passcardProvider.addOrUpdatePasscard(a),n===!0&&(pluginProxy.sendMessage("AddCachedUI",{action:"ShowPasscardUpdated",obj:{Passcard:a,IsFirstShow:!0}}),pluginProxy.sendMessage("ShowCachedUI")),appSettings.isInMobile===!0&&extensionProxy.postMessage("Passwords.Refresh")}}))}),pluginProxy.onMessage("ShowPasscardUpdated",function(e,s){console.log(__GLOBAL_LOG_PREFIX__,"Plugin callback - ShowPasscardUpdated!");var a=e.message.Passcard;topBarHelper.offMessage(null,null,null,"__UIINTERACT__").onMessage("ShowPasscardUpdate.ViewDetails",function(e,s){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] TopBar callback - ViewDetails in Secure Browser!");var a=e.message,o=a.viewDetailsLink;towerProxy.postMessage("OpenUrlInDefaultBrowser",{data:{url:o}})},null,"__UIINTERACT__").oneMessage("CloseTopBar",function(){pluginProxy.sendMessage("RemoveCachedUI","ShowPasscardUpdated")},null,"__UIINTERACT__").postMessage("ShowPasscardUpdate",{displayName:a.DisplayName,passcardId:a.ID})}),pluginProxy.onMessage("ShowConfirmUpdatePasscard",function(e,s){console.log(__GLOBAL_LOG_PREFIX__,"Plugin callback - ShowConfirmUpdatePasscard!"),topBarHelper.offMessage("@__UIINTERACT__").oneMessage("ShowConfirmUpdatePasscard.Confirm@__UIINTERACT__",function(e,s){console.log(__GLOBAL_LOG_PREFIX__,"[ExtensionFrame] TopBar callback - User confirms to update the passcard!"),pluginProxy.sendMessage("RemoveCachedUI","ShowConfirmUpdatePasscard");var a=e.message;delete a.IsSaveOnSubmit,delete a.AccountName,pluginProxy.sendMessage("AddCachedUI",{action:"ReadyToUpdatePasscard",obj:a}),pluginProxy.sendMessage("ShowCachedUI")}).oneMessage("CloseTopBar@__UIINTERACT__",function(){pluginProxy.sendMessage("RemoveCachedUI","ShowConfirmUpdatePasscard")}).postMessage("ShowConfirmUpdatePasscard",e.message)});
},{"../../helper/main.appsettings.js":17,"../../helper/passcardprovidersingleton.js":18,"../../lib/logger.js":44,"./main.initcomponents.js":68}],79:[function(require,module,exports){
(function (global){
!function(e){function o(e){throw new RangeError(T[e])}function n(e,o){for(var n=e.length,r=[];n--;)r[n]=o(e[n]);return r}function r(e,o){var r=e.split("@"),t="";r.length>1&&(t=r[0]+"@",e=r[1]),e=e.replace(S,".");var u=e.split("."),i=n(u,o).join(".");return t+i}function t(e){for(var o,n,r=[],t=0,u=e.length;u>t;)o=e.charCodeAt(t++),o>=55296&&56319>=o&&u>t?(n=e.charCodeAt(t++),56320==(64512&n)?r.push(((1023&o)<<10)+(1023&n)+65536):(r.push(o),t--)):r.push(o);return r}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:b}function f(e,o){return e+22+75*(26>e)-((0!=o)<<5)}function c(e,o,n){var r=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;r+=b)e=M(e/L);return M(r+(L+1)*e/(e+m))}function l(e){var n,r,t,f,l,s,d,a,p,h,v=[],g=e.length,w=0,m=I,j=A;for(r=e.lastIndexOf(E),0>r&&(r=0),t=0;r>t;++t)e.charCodeAt(t)>=128&&o("not-basic"),v.push(e.charCodeAt(t));for(f=r>0?r+1:0;g>f;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),a=i(e.charCodeAt(f++)),(a>=b||a>M((x-w)/s))&&o("overflow"),w+=a*s,p=j>=d?y:d>=j+C?C:d-j,!(p>a);d+=b)h=b-p,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,r,u,i,l,s,d,a,p,h,v,g,w,m,j,F=[];for(e=t(e),g=e.length,n=I,r=0,l=A,s=0;g>s;++s)v=e[s],128>v&&F.push(P(v));for(u=i=F.length,i&&F.push(E);g>u;){for(d=x,s=0;g>s;++s)v=e[s],v>=n&&d>v&&(d=v);for(w=u+1,d-n>M((x-r)/w)&&o("overflow"),r+=(d-n)*w,n=d,s=0;g>s;++s)if(v=e[s],n>v&&++r>x&&o("overflow"),v==n){for(a=r,p=b;h=l>=p?y:p>=l+C?C:p-l,!(h>a);p+=b)j=a-h,m=b-h,F.push(P(f(h+j%m,0))),a=M(j/m);F.push(P(f(a,0))),l=c(r,w,u==i),r=0,++u}++r,++n}return F.join("")}function d(e){return r(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function a(e){return r(e,function(e){return O.test(e)?"xn--"+s(e):e})}var p="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;(v.global===v||v.window===v||v.self===v)&&(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:t,encode:u},decode:l,encode:s,toASCII:a,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&h)if(module.exports==p)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else e.punycode=g}(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],80:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;p>y;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],81:[function(require,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};
},{}],82:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":80,"./encode":81}],83:[function(require,module,exports){
"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(t,s,e){if(t&&util.isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return util.isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}var punycode=require("punycode"),util=require("./util");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(t,s,e){if(!util.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t.indexOf("?"),r=-1!==h&&h<t.indexOf("#")?"?":"#",a=t.split(r),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(r);var n=t;if(n=n.trim(),!e&&1===t.split("#").length){var i=simplePathPattern.exec(n);if(i)return this.path=n,this.href=n,this.pathname=i[1],i[2]?(this.search=i[2],s?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):s&&(this.search="",this.query={}),this}var l=protocolPattern.exec(n);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,n=n.substr(l.length)}if(e||l||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var p="//"===n.substr(0,2);!p||l&&hostlessProtocol[l]||(n=n.substr(2),this.slashes=!0)}if(!hostlessProtocol[l]&&(p||l&&!slashedProtocol[l])){for(var c=-1,f=0;f<hostEndingChars.length;f++){var m=n.indexOf(hostEndingChars[f]);-1!==m&&(-1===c||c>m)&&(c=m)}var v,g;g=-1===c?n.lastIndexOf("@"):n.lastIndexOf("@",c),-1!==g&&(v=n.slice(0,g),n=n.slice(g+1),this.auth=decodeURIComponent(v)),c=-1;for(var f=0;f<nonHostChars.length;f++){var m=n.indexOf(nonHostChars[f]);-1!==m&&(-1===c||c>m)&&(c=m)}-1===c&&(c=n.length),this.host=n.slice(0,c),n=n.slice(c),this.parseHost(),this.hostname=this.hostname||"";var y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!y)for(var P=this.hostname.split(/\./),f=0,d=P.length;d>f;f++){var q=P[f];if(q&&!q.match(hostnamePartPattern)){for(var b="",O=0,j=q.length;j>O;O++)b+=q.charCodeAt(O)>127?"x":q[O];if(!b.match(hostnamePartPattern)){var x=P.slice(0,f),U=P.slice(f+1),C=q.match(hostnamePartStart);C&&(x.push(C[1]),U.unshift(C[2])),U.length&&(n="/"+U.join(".")+n),this.hostname=x.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=punycode.toASCII(this.hostname));var A=this.port?":"+this.port:"",w=this.hostname||"";this.host=w+A,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!unsafeProtocol[u])for(var f=0,d=autoEscape.length;d>f;f++){var E=autoEscape[f];if(-1!==n.indexOf(E)){var I=encodeURIComponent(E);I===E&&(I=escape(E)),n=n.split(E).join(I)}}var R=n.indexOf("#");-1!==R&&(this.hash=n.substr(R),n=n.slice(0,R));var S=n.indexOf("?");if(-1!==S?(this.search=n.substr(S),this.query=n.substr(S+1),s&&(this.query=querystring.parse(this.query)),n=n.slice(0,S)):s&&(this.search="",this.query={}),n&&(this.pathname=n),slashedProtocol[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var A=this.pathname||"",k=this.search||"";this.path=A+k}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,a="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(a=querystring.stringify(this.query));var o=this.search||a&&"?"+a||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&r!==!1?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),o&&"?"!==o.charAt(0)&&(o="?"+o),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),o=o.replace("#","%23"),s+r+e+o+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(util.isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}for(var e=new Url,h=Object.keys(this),r=0;r<h.length;r++){var a=h[r];e[a]=this[a]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),n=0;n<o.length;n++){var i=o[n];"protocol"!==i&&(e[i]=t[i])}return slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var p=l[u];e[p]=t[p]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var f=e.pathname||"",m=e.search||"";e.path=f+m}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var v=e.pathname&&"/"===e.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=g||v||e.host&&t.pathname,P=y,d=e.pathname&&e.pathname.split("/")||[],c=t.pathname&&t.pathname.split("/")||[],q=e.protocol&&!slashedProtocol[e.protocol];if(q&&(e.hostname="",e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),y=y&&(""===c[0]||""===d[0])),g)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,d=c;else if(c.length)d||(d=[]),d.pop(),d=d.concat(c),e.search=t.search,e.query=t.query;else if(!util.isNullOrUndefined(t.search)){if(q){e.hostname=e.host=d.shift();var b=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;b&&(e.auth=b.shift(),e.host=e.hostname=b.shift())}return e.search=t.search,e.query=t.query,util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!d.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var O=d.slice(-1)[0],j=(e.host||t.host||d.length>1)&&("."===O||".."===O)||""===O,x=0,U=d.length;U>=0;U--)O=d[U],"."===O?d.splice(U,1):".."===O?(d.splice(U,1),x++):x&&(d.splice(U,1),x--);if(!y&&!P)for(;x--;x)d.unshift("..");!y||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),j&&"/"!==d.join("/").substr(-1)&&d.push("");var C=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(q){e.hostname=e.host=C?"":d.length?d.shift():"";var b=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;b&&(e.auth=b.shift(),e.host=e.hostname=b.shift())}return y=y||e.host&&d.length,y&&!C&&d.unshift(""),d.length?e.pathname=d.join("/"):(e.pathname=null,e.path=null),util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(s=s[0],":"!==s&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"./util":84,"punycode":79,"querystring":82}],84:[function(require,module,exports){
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};
},{}]},{},[70])



    /* jshint ignore:end */

    // main code ends here...
} catch(e) {

    var console = window.console;
    
    if (console != null && console.error != null) {

        var errMsg = __GLOBAL_LOG_PREFIX__ + " Unhandled exception!! " + e.name + ": " + e.message + "\n";

        if (e.fileName != null && e.lineNumber != null && e.columnNumber != null) {

            errMsg = errMsg + "at " + e.fileName + ":" + e.lineNumber + ":" + e.columnNumber + "\n";

        } else if (e.line != null && e.column != null) {

            errMsg = errMsg + "at " + e.line + ":" + e.column + "\n";
        }

        if (e.stack != null) {

            errMsg += e.stack;
        }

        console.error(errMsg);
    }
}

})();

